img_config_w = "" +
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAADOCAYAAA" +
    "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" +
    "UxAAAAAElFTkSuQmCC";
img_maps_w = " data:image/png;base64,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";
img_menu_w = "" +
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAA" +
    "CqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAA" +
    "AAB3RJTUUH4AcWCSQE5JZ7QQAAANZJREFUeNrt2DFuwkAABdFZSiTCNZBPwB" +
    "EDp0GIEtHCEVAuEQWZ+qdxQbECUmZ3Xmm5+fJ6iwFJkiRJmiRZJdklueX/G5" +
    "Psk6xqW0ttPHABlo191x9gXUq5Pj6cVV78bHA806bNOyfgBiwa/bvHUsri1Q" +
    "mY9XTf1caeGt577PkS/J4uwa+nJ2C6JdfAHhhb+O+BXW28JElSrQcMSQ5J7j" +
    "32gAE4Ax+99oBtg+P/1APuwLznHhB7gD3AHmAPkCRJ9gB7gD3AHmAPsAfYA+" +
    "wB9gBJkiRJTfkFYNbL99HQJ2sAAAAASUVORK5CYII=";
img_reload_w = "" +
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAA" +
    "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" +
    "KJRCKRyLn4N7jF7am5crbYAAAAAElFTkSuQmCC";
img_scan_w = "" +
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAA" +
    "D0eNT6AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAA" +
    "AAB3RJTUUH4AcSBjYsLelzAgAABfxJREFUeNrt2UEOwjAAA8G6yv+/bO5ckB" +
    "oghM58IJIJ1RaOAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
    "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZmXVwW1rft5+oZNYAc8tPLdeO0" +
    "0PAPcjAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgA" +
    "AAAAQAACAAAAABAAAIAABAAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAA" +
    "CAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAAAQAACAAAQAAAAAIAAB" +
    "AAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAMA1wwRzksQK4PvO97WtFf" +
    "wCAAAIAABAAAAAAgAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIA" +
    "AAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAQAAAAAIAABAAAIAAAAAEAA" +
    "AgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAgAAAAA" +
    "QAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAg" +
    "AAEAAAgAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAA" +
    "ACAAAQAACAAAAABAAAIAAAAAEAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQA" +
    "AAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAAAQAACAAAAABAAAIAA" +
    "BAAAAAAgAAEAAAgAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
    "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
    "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
    "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
    "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
    "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
    "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
    "BsLysPb9u/GDGJqwTAToYJANiNF8h5p2sEAPcjAABAAAAAAgAAEAAAgAAAAA" +
    "QAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAACAAA" +
    "AABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAA" +
    "ACAAAQAACAAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQA" +
    "AAAAIAABAAAIAAAAAEAAAgAAAAAQAAAgAAEAAAgAAAAAQAACAAAAABAAAIAA" +
    "BAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAABAAAIAAAAAEAAA" +
    "gAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABA" +
    "AAIAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAAPioYYJ5bW" +
    "uF35EkVgAQAABCH574CwAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABA" +
    "AAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAACAAAQAAAAAIAABAAAIAAAA" +
    "AEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAEAAAgA" +
    "AAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAABcM1Yeni" +
    "Q+AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
    "AAAAAAAAAAAAAAAAAAAAAAAAAAgC08AM8MHmeSR5YHAAAAAElFTkSuQmCC";
img_search_w = "" +
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAA" +
    "DDPmHLAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAA" +
    "AAB3RJTUUH4AcSBiw3F6FANQAAAmhJREFUeNrt3UF2wyAMRdHA/vecjjrpoK" +
    "dJHSzp37cCkB4CjG0eDwAAAAAAAAAAAAAAMI3VsdHP5/N5SefXWgQISjghmg" +
    "lwKvHJIiyJzxZhSXy2CEvis0VYkp8twZL4bBGW5GdLsDon/90EVGhDpABXBP" +
    "4TAf9vuzpLsDok/1SAO7SxpQDvBvauoHZrb2kBugYzRYJVLYjVAjihD7+xba" +
    "sy9vvHK8CrI6d6oKf156MCTA3WxH7dPgV0KrEOgy4eJV0DOqmP22jKrgT7rp" +
    "GRQvWYbCMouwqs06ZPW0h17/d+IJqjAozcRv2xT1XXApcIYPGnAkTTubJtQV" +
    "IBlP/gZwKmgPAKtwXHFAACgAAgAPLWOgQI3woSwBQAAoAAyFwoEmDwAo8AIA" +
    "AIgLsF8M6ACmABOFUAZ/29Y7WNEFMAguUmQPq0dHoU+DZQBcDECpBYBSb0d1" +
    "cOnIVfMwE8E7ALiBhBk34StQQou2+7U0C1tUkFeCdYfhU7rAK8GoDKo2vyOc" +
    "YW6M+0qc1diFUD2PXCCLuAARJcPXorS+DSqENlu6oEra6N+1QQT83XJW9ESZ" +
    "1b71qkVZNg3NWxPwNccTVeSQKXR4dLMGKrRYKmAnQT4Tthky6fbn9J410jdY" +
    "oE5bYl1ST4LTkTJBh1AnfH/NxdgpEXNp5OQGcJ2r3DV/U5fVcJIj7S6HiWcK" +
    "rN3uINl4AA4RIQIFwCAoRLQIBwCQgQLgEBwiUgQLgEBAiXgADhEvhFzA1Uei" +
    "eQAOESmAIaTwfWAMES2AUES+A5QLAEngQGS+AsIFgCp4HBEvj/IgAAAAAAAA" +
    "AAAAAAeIUveAGkmcSF8AsAAAAASUVORK5CYII=";
img_select_w = "" +
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXwAAAF8CAYAAA" +
    "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" +
    "3IAAAAAElFTkSuQmCC";
img_share_ios_w = "data:image/png;base64,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";
img_share_android_w = "data:image/png;base64,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";
statistics_w = "" +
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAA" +
    "CI7Fo9AAAABGdBTUEAALGPC/xhBQAACjtpQ0NQUGhvdG9zaG9wIElDQyBwcm" +
    "9maWxlAABIiZ2Wd1RT2RaHz703vVCSEIqU0GtoUgJIDb1IkS4qMQkQSsCQAC" +
    "I2RFRwRFGRpggyKOCAo0ORsSKKhQFRsesEGUTUcXAUG5ZJZK0Z37x5782b3x" +
    "/3fmufvc/dZ+991roAkPyDBcJMWAmADKFYFOHnxYiNi2dgBwEM8AADbADgcL" +
    "OzQhb4RgKZAnzYjGyZE/gXvboOIPn7KtM/jMEA/5+UuVkiMQBQmIzn8vjZXB" +
    "kXyTg9V5wlt0/JmLY0Tc4wSs4iWYIyVpNz8ixbfPaZZQ858zKEPBnLc87iZf" +
    "Dk3CfjjTkSvoyRYBkX5wj4uTK+JmODdEmGQMZv5LEZfE42ACiS3C7mc1NkbC" +
    "1jkigygi3jeQDgSMlf8NIvWMzPE8sPxc7MWi4SJKeIGSZcU4aNkxOL4c/PTe" +
    "eLxcwwDjeNI+Ix2JkZWRzhcgBmz/xZFHltGbIiO9g4OTgwbS1tvijUf138m5" +
    "L3dpZehH/uGUQf+MP2V36ZDQCwpmW12fqHbWkVAF3rAVC7/YfNYC8AirK+dQ" +
    "59cR66fF5SxOIsZyur3NxcSwGfaykv6O/6nw5/Q198z1K+3e/lYXjzkziSdD" +
    "FDXjduZnqmRMTIzuJw+Qzmn4f4Hwf+dR4WEfwkvogvlEVEy6ZMIEyWtVvIE4" +
    "gFmUKGQPifmvgPw/6k2bmWidr4EdCWWAKlIRpAfh4AKCoRIAl7ZCvQ730Lxk" +
    "cD+c2L0ZmYnfvPgv59V7hM/sgWJH+OY0dEMrgSUc7smvxaAjQgAEVAA+pAG+" +
    "gDE8AEtsARuAAP4AMCQSiIBHFgMeCCFJABRCAXFIC1oBiUgq1gJ6gGdaARNI" +
    "M2cBh0gWPgNDgHLoHLYATcAVIwDp6AKfAKzEAQhIXIEBVSh3QgQ8gcsoVYkB" +
    "vkAwVDEVAclAglQ0JIAhVA66BSqByqhuqhZuhb6Ch0GroADUO3oFFoEvoVeg" +
    "cjMAmmwVqwEWwFs2BPOAiOhBfByfAyOB8ugrfAlXADfBDuhE/Dl+ARWAo/ga" +
    "cRgBAROqKLMBEWwkZCkXgkCREhq5ASpAJpQNqQHqQfuYpIkafIWxQGRUUxUE" +
    "yUC8ofFYXiopahVqE2o6pRB1CdqD7UVdQoagr1EU1Ga6LN0c7oAHQsOhmdiy" +
    "5GV6Cb0B3os+gR9Dj6FQaDoWOMMY4Yf0wcJhWzArMZsxvTjjmFGcaMYaaxWK" +
    "w61hzrig3FcrBibDG2CnsQexJ7BTuOfYMj4nRwtjhfXDxOiCvEVeBacCdwV3" +
    "ATuBm8Et4Q74wPxfPwy/Fl+EZ8D34IP46fISgTjAmuhEhCKmEtoZLQRjhLuE" +
    "t4QSQS9YhOxHCigLiGWEk8RDxPHCW+JVFIZiQ2KYEkIW0h7SedIt0ivSCTyU" +
    "ZkD3I8WUzeQm4mnyHfJ79RoCpYKgQo8BRWK9QodCpcUXimiFc0VPRUXKyYr1" +
    "iheERxSPGpEl7JSImtxFFapVSjdFTphtK0MlXZRjlUOUN5s3KL8gXlRxQsxY" +
    "jiQ+FRiij7KGcoY1SEqk9lU7nUddRG6lnqOA1DM6YF0FJppbRvaIO0KRWKip" +
    "1KtEqeSo3KcRUpHaEb0QPo6fQy+mH6dfo7VS1VT1W+6ibVNtUrqq/V5qh5qP" +
    "HVStTa1UbU3qkz1H3U09S3qXep39NAaZhphGvkauzROKvxdA5tjssc7pySOY" +
    "fn3NaENc00IzRXaO7THNCc1tLW8tPK0qrSOqP1VJuu7aGdqr1D+4T2pA5Vx0" +
    "1HoLND56TOY4YKw5ORzqhk9DGmdDV1/XUluvW6g7ozesZ6UXqFeu169/QJ+i" +
    "z9JP0d+r36UwY6BiEGBQatBrcN8YYswxTDXYb9hq+NjI1ijDYYdRk9MlYzDj" +
    "DON241vmtCNnE3WWbSYHLNFGPKMk0z3W162Qw2szdLMasxGzKHzR3MBea7zY" +
    "ct0BZOFkKLBosbTBLTk5nDbGWOWtItgy0LLbssn1kZWMVbbbPqt/pobW+dbt" +
    "1ofceGYhNoU2jTY/OrrZkt17bG9tpc8lzfuavnds99bmdux7fbY3fTnmofYr" +
    "/Bvtf+g4Ojg8ihzWHS0cAx0bHW8QaLxgpjbWadd0I7eTmtdjrm9NbZwVnsfN" +
    "j5FxemS5pLi8ujecbz+PMa54256rlyXOtdpW4Mt0S3vW5Sd113jnuD+wMPfQ" +
    "+eR5PHhKepZ6rnQc9nXtZeIq8Or9dsZ/ZK9ilvxNvPu8R70IfiE+VT7XPfV8" +
    "832bfVd8rP3m+F3yl/tH+Q/zb/GwFaAdyA5oCpQMfAlYF9QaSgBUHVQQ+CzY" +
    "JFwT0hcEhgyPaQu/MN5wvnd4WC0IDQ7aH3wozDloV9H44JDwuvCX8YYRNREN" +
    "G/gLpgyYKWBa8ivSLLIu9EmURJonqjFaMTopujX8d4x5THSGOtYlfGXorTiB" +
    "PEdcdj46Pjm+KnF/os3LlwPME+oTjh+iLjRXmLLizWWJy++PgSxSWcJUcS0Y" +
    "kxiS2J7zmhnAbO9NKApbVLp7hs7i7uE54Hbwdvku/KL+dPJLkmlSc9SnZN3p" +
    "48meKeUpHyVMAWVAuep/qn1qW+TgtN25/2KT0mvT0Dl5GYcVRIEaYJ+zK1M/" +
    "Myh7PMs4qzpMucl+1cNiUKEjVlQ9mLsrvFNNnP1IDERLJeMprjllOT8yY3Ov" +
    "dInnKeMG9gudnyTcsn8n3zv16BWsFd0VugW7C2YHSl58r6VdCqpat6V+uvLl" +
    "o9vsZvzYG1hLVpa38otC4sL3y5LmZdT5FW0ZqisfV+61uLFYpFxTc2uGyo24" +
    "jaKNg4uGnupqpNH0t4JRdLrUsrSt9v5m6++JXNV5VffdqStGWwzKFsz1bMVu" +
    "HW69vctx0oVy7PLx/bHrK9cwdjR8mOlzuX7LxQYVdRt4uwS7JLWhlc2V1lUL" +
    "W16n11SvVIjVdNe61m7aba17t5u6/s8djTVqdVV1r3bq9g7816v/rOBqOGin" +
    "2YfTn7HjZGN/Z/zfq6uUmjqbTpw37hfumBiAN9zY7NzS2aLWWtcKukdfJgws" +
    "HL33h/093GbKtvp7eXHgKHJIcef5v47fXDQYd7j7COtH1n+F1tB7WjpBPqXN" +
    "451ZXSJe2O6x4+Gni0t8elp+N7y+/3H9M9VnNc5XjZCcKJohOfTuafnD6Vde" +
    "rp6eTTY71Leu+ciT1zrS+8b/Bs0Nnz53zPnen37D953vX8sQvOF45eZF3suu" +
    "RwqXPAfqDjB/sfOgYdBjuHHIe6Lztd7hmeN3ziivuV01e9r567FnDt0sj8ke" +
    "HrUddv3ki4Ib3Ju/noVvqt57dzbs/cWXMXfbfkntK9ivua9xt+NP2xXeogPT" +
    "7qPTrwYMGDO2PcsSc/Zf/0frzoIflhxYTORPMj20fHJn0nLz9e+Hj8SdaTma" +
    "fFPyv/XPvM5Nl3v3j8MjAVOzX+XPT806+bX6i/2P/S7mXvdNj0/VcZr2Zel7" +
    "xRf3PgLett/7uYdxMzue+x7ys/mH7o+Rj08e6njE+ffgP3hPP74FSqLwAAAC" +
    "BjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABm" +
    "JLR0QA/wD/AP+gvaeTAAAACXBIWXMAARCQAAEQkAGJrNK4AAAAB3RJTUUH4A" +
    "odFiIXDpk65AAAGFhJREFUeNrtnXmUnkWVxn/VW5LO1gkkQAj7LpuCAoIQRV" +
    "xAZRNwHGVwPcMwiowjM+Nx/GMcj3rGo4Kg6OjoiCwCQwCRRRAEZEc22dcQEr" +
    "asJHTS6XT398wfVZ8JgaQ73e/2ff38zumDhtBvvbfqeavqVt17wRhjjDHGGG" +
    "OMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGG" +
    "OMMcYYY8pDUpAUqtzG4G4yZqOF3QFsDmwGTAM2AQaAhcAi4EVgUQhhwEI3pr" +
    "HE3QJsAewHHJB+tgQ6gXFADegBVgBPA7cDdwH3hhCW2oLGVF/km0k6SdLVkh" +
    "ZJ6pNU0/qpSeqVNF/SryQdIWmiLWlMdffeB0r6taSFg4h7fQxIek7Sf0nawV" +
    "Y1ploib5N0rKRbJPVr5PRI+o2k/W1dY6ozkx8v6eFhzuLro1/S7yXtZysbU7" +
    "7QD5F0Z8YiX1vsF3oZb0y5It9W0uy0t86LlWnPXpiDrsVda8yafTlwDPD+nL" +
    "UxDjgBOMRCN6Z4dgaOI56N581WwPGSpljoxhQ3m7cAhwJ7U8xFshbgMGBfC9" +
    "2Y4pgAHFTQbF5nGrC/pFYL3Zhi2AbYh2KvhbcD7wSmWujGFMPWwPSCnxmA7S" +
    "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" +
    "AASUVORK5CYII=";
today_w = "" +
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAA" +
    "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" +
    "CWQeiM/wG7995OWPvNpQAAAABJRU5ErkJggg==";
AnimationManager = {};

AnimationManager.dimmerOff = function(object)
{
    var size = 0;

    object.style.display = "inline-block";

    var run = function()
    {
        size += 20;
        var position = WebLibSimple.circ(size / 100);

        object.style.opacity = position;

        if (position < 1)
        {
            setTimeout(run, 25);
        }
    };

    run();
};

AnimationManager.dimmerOn = function(object)
{
    // var div = WebLibSimple.createDiv(0, 0, 0, 0, null, object);

    var size = 0;

    var run = function()
    {
        size += 20;
        var position = WebLibSimple.circ(size / 100);

        object.style.opacity = 1.0 - position;

        if (position < 1)
        {
            setTimeout(run, 25);
        }
        else
        {
            object.style.display = "none";
        }
    };

    run();
};
CategoryManager = {};

// GlobalConf.defaultCategory = {
//     "name": "Calendar",
//     "color": "#08DA73"
// };
//
// GlobalConf.categorys = {
//     "Calendar": "#1ED760",
//     "School": "#B36AE2",
//     "Privat": "#EC5D57",
//     "Work": "#F39019"
// };

CategoryManager.getCategorys = function()
{
    var results = {};

    results[ GlobalConf.defaultCategory.name ] = GlobalConf.defaultCategory.color;

    for (var category in GlobalConf.categorys)
    {
        results[ category ] = GlobalConf.categorys[ category ];
    }

    return results;
};

CategoryManager.getCategorysColor = function(key)
{
    var tmp = CategoryManager.getCategorys();
    return tmp[ key ];
};

CategoryManager.add = function(name, color)
{
    GlobalConf.categorys[ name ] = color;
    ConfigManager.update();
};

CategoryManager.delete = function(category)
{
    delete GlobalConf.categorys[ category ];

    for (var index in DataManager.dataAll)
    {
        var event = DataManager.dataAll[ index ];

        if (event[ "Kind" ] == category)
        {
            event[ "Kind" ] = GlobalConf.defaultCategory.name;
            NativeInterface.update(event);
        }
    }

    ConfigManager.update();
};

CategoryManager.changeName = function(oldName, newName)
{
    var color_tmp = GlobalConf.categorys[ oldName ];
    delete GlobalConf.categorys[ oldName ];
    GlobalConf.categorys[ newName ] = color_tmp;

    for (var index in DataManager.dataAll)
    {
        var event = DataManager.dataAll[ index ];

        if (event[ "Kind" ] == oldName)
        {
            event[ "Kind" ] = newName;
            NativeInterface.update(event);
        }
    }

    ConfigManager.update();
};

CategoryManager.changeColor = function(category, color)
{
    GlobalConf.categorys[ category ] = color;
    ConfigManager.update();
};

CategoryManager.changeDefaultCategoryName = function(name)
{
    // if (name == "" ||name == null ||name == " ") return;

    var oldname = GlobalConf.defaultCategory.name;
    GlobalConf.defaultCategory.name = name;


    for (var index in DataManager.dataAll)
    {
        var event = DataManager.dataAll[ index ];

        if (event[ "Kind" ] == oldname)
        {
            event[ "Kind" ] = name;
            NativeInterface.update(event);
        }
    }

    ConfigManager.update();
};

CategoryManager.changeDefaultCategoryColor = function(color)
{
    GlobalConf.defaultCategory.color = color;
    ConfigManager.update();
};

CategoryManager.exist = function(category)
{
    var tmp = CategoryManager.getCategorys();
    // WebLibSimple.includes(tmp, category);
    // if (category in tmp) return true;

    for (var cat in tmp)
    {
        if (cat == category) return true;
    }

    return false;
};
Cricle = {};

Cricle.getAutoFontSize = function(parent, title, size)
{
    var span = WebLibSimple.createAnyAppend("span", parent);
    span.innerHTML          = title;
    span.style.fontSize     = "1px";

    var spansize = 2;
    var border   = size * 0.15;

    while (((span.offsetWidth + border) < size) && ((span.offsetHeight + border) < size))
    {
        span.style.fontSize = spansize + "px";
        spansize++;
    }

    span.style.display = "none";
    span = null;

    return spansize;
};

Cricle.createLabelCircle = function(title, size, color, parent, eventFunct)
{
    var div = Cricle.createCircle(title, size, color, parent, eventFunct);

    div.style.fontSize   = Cricle.getAutoFontSize(div, title, size) + "px";
    div.style.lineHeight = size + "px";

    return div;
};

Cricle.createCircle = function(title, size, color, parent, eventFunct)
{
    var div = WebLibSimple.createAnyAppend("div", parent);
    div.style.borderRadius = "50%";
    div.style.width        = size + "px";
    div.style.height       = size + "px";
    div.style.lineHeight   = size + "px";
    div.style.textAlign    = "center";
    div.style.color        = "#ffffff";
    div.style.display      = "inline-block";
    div.style.overflow     = "hidden";
    div.style.border       = "2px solid " + color;
    div.style.backgroundColor = color;
    div.style.boxShadow       = "none";
    div.style.webkitBoxShadow = "none";

    if ((title != "") && (title != null)) div.style.fontSize = Cricle.getAutoFontSize(div, title, size) + "px";

    div.size = size;

    if (eventFunct != null)
    {
        div.style.cursor = "pointer";
    }


    div.onclick   = eventFunct;
    div.innerHTML = title;

    WebLibSimple.setBGColor(div, color);

    return div;
};

Cricle.changeSize = function(div, size)
{
    var title   = div.innerHTML;
    var oldSize = div.size;
    var newSize = oldSize;

    var time = 500;
    var step = 10;

    // size = size * 1.0;

    console.log("newSize " + oldSize);
    console.log("size    " + size);

    var change = function()
    {
        div.style.width  = newSize + "px";
        div.style.height = newSize + "px";

        // if (newSize < size)
        // {
        //     var add = Math.round((size - oldSize) / (time / step));
        //
        //     if (add == 0) add = 0.5;
        //
        //     newSize += add;
        //
        //     console.log("add: " + add);
        //
        //     setTimeout(change, step);
        // }
        // else
        // {
        //     div.style.width      = size + "px";
        //     div.style.height     = size + "px";
        // }

        if (newSize > size)
        {
            // console.log("newSize > size");

            // var add = Math.round((oldSize - size) / (time / step));
            var add = (oldSize - size) / (time / step);
            add = add.toFixed(3);

            // if (add == 0) add = 0.5;

            newSize -= add;

            // console.log("add: " + add);

            setTimeout(change, step);
        }
        else
        {
            div.style.width  = size + "px";
            div.style.height = size + "px";
        }
    };

    // change();

    div.style.fontSize = Cricle.getAutoFontSize(div, title, size) + "px";
    div.style.lineHeight = size + "px";
    div.style.width  = size + "px";
    div.style.height = size + "px";
    div.size = size;
};

Cricle.changeColor = function(div, color)
{
    div.style.border = "2px solid " + color;
    WebLibSimple.setBGColor(div, color);
};

Cricle.createImgCircle = function(size, color, src, parent)
{
    // Need a center element to work

    var div = WebLibSimple.createAnyAppend("div", parent);
    div.style.borderRadius = "50%";
    div.style.display      = "inline-block";
    div.style.width        = size + "px";
    div.style.height       = size + "px";
    div.style.border       = "1px solid " + color;
    div.style.textAlign    = "center";

    var border = size / 6;
    var widthHeight = size - (border * 2);
    var img = WebLibSimple.createImgWidHei(0, border, widthHeight, widthHeight, null, div);
    img.style.position = "relative";
    img.src = src;

    div.img = img;

    return div;
};

Cricle.createBorderCircle = function(title, size, color, border, parent, eventFunct)
{
    var div = Cricle.createCircle(title, size, "#000000", parent, eventFunct);
    div.style.backgroundColor = null;
    div.style.color           = color;
    div.style.border          = border;

    return div;
};

Cricle.createCenterCircle = function(title, size, color, parent, eventFunct)
{
    var center = WebLibSimple.createAnyAppend("center", parent);
    var div    = Cricle.createCircle(title, size, color, center, eventFunct);

    return div;
};

Cricle.createMenuPoint = function(title, size, color, parent, event)
{
    var paddingDiv = WebLibSimple.createAnyAppend("div", parent);
    paddingDiv.style.display = "inline-block";
    paddingDiv.style.padding = "20px";

    if (event == null)
    {
        color = "#6b6b6b";
    }

    var div = Cricle.createCircle(title, size, color, paddingDiv, event);

    return div;
};
ConfigManager = {};

ConfigManager.changeDefaultToConfig = function(config)
{
    if (config == "None")
    {
        ConfigManager.doneCallback();
        return;
    }

    config = JSON.parse(config);

    GlobalConf.defaultCategory = config.defaultCategory;
    GlobalConf.categorys       = config.categorys;
    GlobalConf.language        = config.language;
    GlobalConf.weekStartDay    = parseInt(config.weekStartDay);
    GlobalConf.dateFormat      = config.dateFormat;

    // console.log("config: " + JSON.stringify(config));
    ConfigManager.doneCallback();
};

ConfigManager.setGlobalConfig = function(doneCallback)
{
    ConfigManager.doneCallback = doneCallback;

    GlobalConf.defaultCategory = {
        "name": "Calendar",
        "color": GlobalConf.configManager_stdColor
    };

    GlobalConf.categorys = {};

    GlobalConf.language     = StringManager.getLocale();
    GlobalConf.weekStartDay = GlobalConf.configManager_stdWeekDayStart;
    GlobalConf.dateFormat   = GlobalConf.configManager_stdDateFormart;

    var config = NativeInterface.getConfig("ConfigManager.changeDefaultToConfig");
};

ConfigManager.update = function()
{
    var config = {};

    config.defaultCategory = GlobalConf.defaultCategory;
    config.categorys       = GlobalConf.categorys;
    config.language        = GlobalConf.language;
    config.weekStartDay    = parseInt(GlobalConf.weekStartDay);
    config.dateFormat      = GlobalConf.dateFormat;

    NativeInterface.updateConfig(config);
};
DataManager = {};

DataManager.dataAll = [];
DataManager.monthData = [];

DataManager.setMonth = function(month, year)
{
    console.log("setMonth --> month: " + month + " year: " + year);

    DataManager.month = month;
    DataManager.year  = year;

    var info = Time.monthInfo(month, year);

    var start_month = new Date(year, month - 1, 1).getTime();
    var end_month   = new Date(info.year_next, info.month_next - 1, 0).getTime();

    var results = [];

    for (var index in DataManager.dataAll)
    {
        var event = DataManager.dataAll[ index ];

        var start_event = Time.getEventDayDate(event[ "Start" ]).getTime();
        var end_event   = Time.getEventDayDate(event[  "End"  ]).getTime();

        if (((start_event >= start_month) && (start_event <= end_month)) ||
            ((end_event   >  start_month) && (end_event   <= end_month)))
        {
            results.push(event);
        }
    }

    DataManager.monthData = results;

    CalendarMonth.updateAllDivs();
    CategorysInfo.update();
};

DataManager.uuid = function()
{
    var S4 = function()
    {
        return (((1+Math.random())*0x10000)|0).toString(16).substring(1);
    };

    // then to call it, plus stitch in '4' in the third group
    var guid = (S4() + S4() + "-" + S4() + "-4" + S4().substr(0,3) + "-" + S4() + "-" + S4() + S4() + S4()).toLowerCase();

    return guid;
};

DataManager.commit = function(data)
{
    var id = data[ "id" ];

    if (id == null)
    {
        data[ "id" ] = DataManager.uuid();

        DataManager.monthData.push(data);
        DataManager.dataAll.push(data);
        NativeInterface.update(data);
    }
    else
    {
        DataManager.changeJsonById(id, data);
        NativeInterface.update(data);
    }
};

DataManager.delete = function(data)
{
    var id = data[ "id" ];

    DataManager.deleteById(id);
    NativeInterface.delete(id);
};

DataManager.deleteById = function(id)
{
    var check = function(source)
    {
        for (var index in source)
        {
            var event = source[ index ];
            var event_id = event[ "id" ];

            if (id == event_id)
            {
                source.splice(index, 1);
            }
        }
    };

    check(DataManager.monthData);
    check(DataManager.dataAll);
};

// ???
DataManager.changeJsonById = function(id, json)
{
    var check = function(source)
    {
        for (var index in source)
        {
            var event = source[ index ];
            var event_id = event[ "id" ];

            if (id == event_id)
            {
                source[ index ] = json;
            }
        }
    };

    check(DataManager.monthData);
    check(DataManager.dataAll);
};

DataManager.getDay = function(date)
{
    var searchDate = new Date(date).getTime();

    var results = [];

    for (var index in DataManager.monthData)
    {
        var event = DataManager.monthData[ index ];
        var start = Time.getEventDayDate(event[ "Start" ]).getTime();
        var end   = Time.getEventDayDate(event[  "End"  ]).getTime() + (60 * 60 * 24 * 1000);

        if (start <= searchDate && end > searchDate)
        {
            results.push(event);
        }
    }

    return results;
};

DataManager.getHighest = function()
{
    var allEvents = DataManager.countEvents(DataManager.monthData);

    var highest = 1;

    for (var index in allEvents)
    {
        var value = allEvents[ index ];

        if (value > highest)
        {
            highest = value;
        }
    }

    return highest;
};

DataManager.countEvents = function(data)
{
    var result = {};

    var add = function(date)
    {
        if (! result[ date ])
        {
            result[ date ] = 1;
        }
        else
        {
            result[ date ] = result[ date ] + 1;
        }
    };

    for (var index in data)
    {
        var event = data[ index ];
        var start_ms = Time.getEventDayDate(event[ "Start" ]).getTime();
        var end_ms   = Time.getEventDayDate(event[  "End"  ]).getTime();
        var day_ms   = 60 * 60 * 24 * 1000;

        while(start_ms <= end_ms)
        {
            var add_Date = new Date(start_ms).toISOString();
            add(add_Date);

            start_ms += day_ms;
        }
    }

    return result;
};

DataManager.getCategoryDateCount = function(category, date)
{
    var results = 0;

    for (var index in DataManager.monthData)
    {
        var event = DataManager.monthData[ index ];
        var event_category = event[ "Kind"  ];

        var event_start = Time.getEventDayDate(event[ "Start" ]).getTime();
        var event_end   = Time.getEventDayDate(event[  "End"  ]).getTime();
        var date        = Time.getEventDayDate(date).getTime();

        if (category != event_category) continue;

        if ((event_start <= date) && (event_end >= date))
        {
            results++;
        }
    }

    return results;
};

DataManager.filterCategory = function(category, schedule)
{
    var results = [];

    for (var index in schedule)
    {
        var event = DataManager.monthData[ index ];
        var event_category = event[ "Kind" ];

        if (category == event_category)
        {
            results.push(event);
        }
    }

    return results;
};

DataManager.getByCategory = function(category)
{
    var results = [];

    for (var index in DataManager.monthData)
    {
        var event = DataManager.monthData[ index ];
        var event_category = event[ "Kind" ];

        if (category == event_category)
        {
            results.push(event);
        }
    }

    return results;
};

DataManager.parseDatabaseJson = function(data)
{
    DataManager.dataAll = [];

    for (var index in data)
    {
        var event = data[ index ];

        var start = event[ "Start" ];
        var end   = event[  "End"  ];

        event[ "Start" ] = new Date(start);
        event[  "End"  ] = new Date( end );

        if (WebLibSimple.hasKey(event, "Repeat"))
        {
            console.log("change: " + JSON.stringify(event));
            delete event[ "Repeat" ];
            event[ "Priority" ] = 5;

            NativeInterface.update(event);
        }

        DataManager.dataAll.push(event);
    }
};
MobileConf = {};

MobileConf.mobileViewport = function()
{
    // console.log("viewport: mobileViewport");

    var meta = WebLibSimple.createAnyAppend("meta", document.head);
    meta.name = "viewport";
    meta.content = "width=device-width, initial-scale=0.5, maximum-scale=1, user-scalable=0";
};

MobileConf.normalViewport = function()
{
    // console.log("viewport: normalViewport");

    var meta = WebLibSimple.createAnyAppend("meta", document.head);
    meta.name = "viewport";
    meta.content = "width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0";
};

MobileConf.checkMobile = function()
{
    var header = navigator.userAgent;

    // console.log("header: " + JSON.stringify(header));
    // NativeInterface.log("pups");
    // NativeInterface.log("header: " + JSON.stringify(navigator.userAgent));

    MobileConf.isMobile = false;
    MobileConf.device = null;

    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(header))
    {
        MobileConf.isMobile = true;
        MobileConf.device = "Android";
    }

    if (/iPhone|iPad|iPod/i.test(header))
    {
        MobileConf.device = "IOS";
    }

    //
    // Do not touch!
    //
    if(/iPhone|iPod|Mobile|mobile/i.test(header))
    {
        MobileConf.mobileViewport();
        return;
    }

    MobileConf.normalViewport();
};
NativeInterface = {};

NativeInterface.getEvents = function()
{
    if (MobileConf.device == "Android") Main.finishedLoading(Android.events());
    if (MobileConf.device == "IOS") webkit.messageHandlers.events.postMessage("nothing");
};

NativeInterface.getConfig = function(callback)
{
    var config = "None";
    if (MobileConf.device == "Android") ConfigManager.changeDefaultToConfig(Android.config());
    if (MobileConf.device == "IOS") webkit.messageHandlers.config.postMessage(callback);
};

NativeInterface.updateConfig = function(config)
{
    // NativeInterface.log("updateConfig");

    var newConfig = JSON.stringify(config);
    if (MobileConf.device == "Android") Android.putConfig(newConfig)
    if (MobileConf.device == "IOS") webkit.messageHandlers.putConfig.postMessage(newConfig);
};

NativeInterface.openMaps = function(place)
{
    // NativeInterface.log("openMaps: " + place);
    if (MobileConf.device == "Android") Android.openMaps(place);
    if (MobileConf.device == "IOS") webkit.messageHandlers.openMaps.postMessage(place);
};

// update json by uuid
NativeInterface.update = function(json)
{
    var id = json.id;
    var json = JSON.stringify(json);

    // NativeInterface.log("update: " + id);

    if (MobileConf.device == "Android") Android.update(id, json);
    if (MobileConf.device == "IOS") webkit.messageHandlers.update.postMessage(json);
};

NativeInterface.delete = function(id)
{
    // NativeInterface.log("delete: " + id);
    if (MobileConf.device == "Android") Android.delete(id);
    if (MobileConf.device == "IOS") webkit.messageHandlers.delete.postMessage(id);
};

NativeInterface.openScan = function()
{
    // NativeInterface.log("open scan");
    if (MobileConf.device == "Android") Android.openScanner();
    if (MobileConf.device == "IOS") webkit.messageHandlers.showToast.postMessage("Open Scanner!");
    if (MobileConf.device == "IOS") webkit.messageHandlers.openScanner.postMessage("nothing");
};

NativeInterface.reload = function()
{
    // NativeInterface.log("reload");
    if (MobileConf.device == "Android") Android.reload();
    if (MobileConf.device == "IOS") webkit.messageHandlers.reload.postMessage("nothing");
};

NativeInterface.qrCallback = function(scanResult)
{
    // console.log("QR-Code: " + scanResult);

    try
    {
        var data = JSON.parse(scanResult);
    }
    catch(e)
    {
        console.log("corrupt qr respons");
        return;
    }

    if (! WebLibSimple.hasKey(data, "Title"))     return;
    if (! WebLibSimple.hasKey(data, "Place"))     return;
    if (! WebLibSimple.hasKey(data, "Kind"))      return;
    if (! WebLibSimple.hasKey(data, "All-Day"))   return;
    if (! WebLibSimple.hasKey(data, "Start"))     return;
    if (! WebLibSimple.hasKey(data, "End"))       return;
    if (! WebLibSimple.hasKey(data, "Priority"))  return;
    if (! WebLibSimple.hasKey(data, "Available")) return;
    if (! WebLibSimple.hasKey(data, "Notes"))     return;

    if (! CategoryManager.exist(data[ "Kind" ]))
    {
        data[ "Kind" ] = GlobalConf.defaultCategory.name;
    }

    AppointmentEditor.init(data);
};

NativeInterface.exeIntent = function()
{
    if (MobileConf.device == "Android") Android.exeIntent();
    if (MobileConf.device == "IOS") webkit.messageHandlers.exeIntent.postMessage("nothing");
};

NativeInterface.intent = function(eventBase64)
{
    var parts = eventBase64.split("?");

    var json = WebLibSimple.base64Decode(parts[ 1 ]);
    NativeInterface.qrCallback(json);
};

NativeInterface.share = function(event)
{
    var url = "kairos://kairos-calendar.com/event/?" + WebLibSimple.base64Encode(JSON.stringify(event));

    var message = event[ "Title" ] +  ":\n\n" + url;

    if (MobileConf.device == "Android") Android.share(message);
    if (MobileConf.device == "IOS") webkit.messageHandlers.share.postMessage(message);
};

NativeInterface.androidBack = function()
{
    if (NativeInterface.back == null) return;
    NativeInterface.back();
};

NativeInterface.androidSuperBack = function()
{
    if (MobileConf.device == "Android") Android.onBackPressed();
};

NativeInterface.log = function(log)
{
    if (MobileConf.device == "Android") Android.showToast(log);
    if (MobileConf.device == "IOS") webkit.messageHandlers.showToast.postMessage(log);
    console.log("NativeInterface.log: " + log);
};
Qr = {};

Qr.nuke = function()
{
    NativeInterface.back = Qr.lastBack;
    WebLibSimple.nuke(Qr.topDiv);
};

Qr.createButtons = function(parent)
{
    Qr.lastBack = NativeInterface.back;
    NativeInterface.back = Qr.nuke;

    StdDesign.createImgButton(parent, img_share_android_w, AppointmentEditor.share);
    parent.createButton("X", Qr.nuke);
};

Qr.createQrCircle = function(data, parent)
{
    var size = 500;

    var div = WebLibSimple.createAnyAppend("div", parent);
    div.style.borderRadius = "50%";
    div.style.display      = "inline-block";
    div.style.width        = size + "px";
    div.style.height       = size + "px";

    WebLibSimple.setBGColor(div, "#ffffff");

    var border = size / 6;
    var widthHeight = size - (border * 2);
    var qrDiv = WebLibSimple.createDivWidHei(0, border, widthHeight, widthHeight, null, div);
    qrDiv.style.position = "relative";

    var qrcode = new QRCode(qrDiv,
    {
        text: data,
        width: widthHeight,
        height: widthHeight,
        colorDark : "#7C25F8",
        colorLight : "#ffffff",
        correctLevel : QRCode.CorrectLevel.H
    });
};

Qr.createBigBox = function(data, parent)
{
    var size = 500;

    var div = WebLibSimple.createAnyAppend("div", parent);
    div.style.display      = "inline-block";
    div.style.width        = size + "px";
    div.style.height       = size + "px";
    div.style.marginTop    = "50px";

    WebLibSimple.setBGColor(div, "#ffffff");

    var border = size * 0.02;
    var widthHeight = size - (border * 2);

    div.style.borderRadius = border + "px";

    var qrDiv = WebLibSimple.createDivWidHei(0, border, widthHeight, widthHeight, null, div);
    qrDiv.style.position = "relative";

    var qrcode = new QRCode(qrDiv,
    {
        text: data,
        width: widthHeight,
        height: widthHeight,
        // colorDark : "#7C25F8",
        colorDark : "#000000",
        // colorDark : "#CC006A",
        colorLight : "#ffffff",
        correctLevel : QRCode.CorrectLevel.L
    });
};

Qr.createContent = function(data, parent)
{
    var center = WebLibSimple.createAnyAppend("center", parent);

    // Qr.createQrCircle(data, center);
    Qr.createBigBox(data, center);
};

Qr.init = function(title, json, parent)
{
    var div = StdDesign.createStd(parent);
    Qr.topDiv = div;

    div.setHeadline(title);

    var data = JSON.stringify(json);

    Qr.createButtons(div);
    Qr.createContent(data, div.content);
};
SliderButton = {};

SliderButton.addCSSShit = function()
{
    var css = "" +
        ".noUi-target," +
        ".noUi-target * {" +
        "-webkit-touch-callout: none;" +
        "-webkit-user-select: none;" +
        "-ms-touch-action: none;" +
        "    touch-action: none;" +
        "-ms-user-select: none;" +
        "-moz-user-select: none;" +
        "    user-select: none;" +
        "-moz-box-sizing: border-box;" +
        "    box-sizing: border-box;" +
        "}" +
        ".noUi-target {" +
        "    position: relative;" +
        "    direction: ltr;" +
        "}" +
        ".noUi-base {" +
        "    width: 100%;" +
        "    height: 100%;" +
        "    position: relative;" +
        "    z-index: 1; /* Fix 401 */" +
        "}" +
        ".noUi-origin {" +
        "    position: absolute;" +
        "    right: 0;" +
        "    top: 0;" +
        "    left: 0;" +
        "    bottom: 0;" +
        "}" +
        ".noUi-handle {" +
        "    position: relative;" +
        "    z-index: 1;" +
        "}" +
        ".noUi-stacking .noUi-handle {" +
        "/* This class is applied to the lower origin when" +
        "   its values is > 50%. */" +
        "    z-index: 10;" +
        "}" +
        ".noUi-state-tap .noUi-origin {" +
        "-webkit-transition: left 0.3s, top 0.3s;" +
        "    transition: left 0.3s, top 0.3s;" +
        "}" +
        ".noUi-state-drag * {" +
        "    cursor: inherit !important;" +
        "}" +
        "" +
        "/* Painting and performance;" +
        " * Browsers can paint handles in their own layer." +
        " */" +
        ".noUi-base," +
        ".noUi-handle {" +
        "    -webkit-transform: translate3d(0,0,0);" +
        "    transform: translate3d(0,0,0);" +
        "}" +
        "" +
        "/* Slider size and handle placement;" +
        " */" +
        ".noUi-horizontal {" +
        "    height: 18px;" +
        "}" +
        ".noUi-horizontal .noUi-handle {" +
        "    width: 34px;" +
        "    height: 28px;" +
        "    left: -17px;" +
        "    top: -6px;" +
        "}" +
        ".noUi-vertical {" +
        "    width: 18px;" +
        "}" +
        ".noUi-vertical .noUi-handle {" +
        "    width: 28px;" +
        "    height: 34px;" +
        "    left: -6px;" +
        "    top: -17px;" +
        "}" +
        "" +
        "/* Styling;" +
        " */" +
        ".noUi-background {" +
        "    background: #FAFAFA;" +
        "    box-shadow: inset 0 1px 1px #f0f0f0;" +
        "}" +
        ".noUi-connect {" +
        "    background: #3FB8AF;" +
        "    box-shadow: inset 0 0 3px rgba(51,51,51,0.45);" +
        "-webkit-transition: background 450ms;" +
        "    transition: background 450ms;" +
        "}" +
        ".noUi-origin {" +
        "    border-radius: 2px;" +
        "}" +
        ".noUi-target {" +
        "    border-radius: 4px;" +
        "    border: 1px solid #D3D3D3;" +
        "    box-shadow: inset 0 1px 1px #F0F0F0, 0 3px 6px -5px #BBB;" +
        "}" +
        ".noUi-target.noUi-connect {" +
        "    box-shadow: inset 0 0 3px rgba(51,51,51,0.45), 0 3px 6px -5px #BBB;" +
        "}" +
        "" +
        "/* Handles and cursors;" +
        " */" +
        ".noUi-draggable {" +
        "    cursor: w-resize;" +
        "}" +
        ".noUi-vertical .noUi-draggable {" +
        "    cursor: n-resize;" +
        "}" +
        ".noUi-handle {" +
        "    border: 1px solid #D9D9D9;" +
        "    border-radius: 3px;" +
        "    background: #FFF;" +
        "    cursor: default;" +
        "    box-shadow: inset 0 0 1px #FFF," +
        "                inset 0 1px 7px #EBEBEB," +
        "                0 3px 6px -3px #BBB;" +
        "}" +
        ".noUi-active {" +
        "    box-shadow: inset 0 0 1px #FFF," +
        "                inset 0 1px 7px #DDD," +
        "                0 3px 6px -3px #BBB;" +
        "}" +
        "" +
        "/* Handle stripes;" +
        " */" +
        ".noUi-handle:before," +
        ".noUi-handle:after {" +
        "    content: \"\";" +
        "    display: block;" +
        "    position: absolute;" +
        "    height: 14px;" +
        "    width: 1px;" +
        "    background: #E8E7E6;" +
        "    left: 14px;" +
        "    top: 6px;" +
        "}" +
        ".noUi-handle:after {" +
        "    left: 17px;" +
        "}" +
        ".noUi-vertical .noUi-handle:before," +
        ".noUi-vertical .noUi-handle:after {" +
        "    width: 14px;" +
        "    height: 1px;" +
        "    left: 6px;" +
        "    top: 14px;" +
        "}" +
        ".noUi-vertical .noUi-handle:after {" +
        "    top: 17px;" +
        "}" +
        "" +
        "/* Disabled state;" +
        " */" +
        "[disabled].noUi-connect," +
        "[disabled] .noUi-connect {" +
        "    background: #B8B8B8;" +
        "}" +
        "[disabled].noUi-origin," +
        "[disabled] .noUi-handle {" +
        "    cursor: not-allowed;" +
        "}";

    var style = WebLibSimple.createAnyAppend("style", document.head);
    style.innerHTML = css;
};

SliderButton.create = function(parent, start, changeEvent)
{
    var div = WebLibSimple.createDiv(100, 100, 100, 0, null, parent);

    var opt = {
    	start: [ start ],
    	step: 1,
    	range: {
    		"min": [  0  ],
    		"max": [ 100 ]
    	}
    };

    noUiSlider.create(div, opt);

    div.noUiSlider.on("update", function()
    {
        // if (changeEvent == undefined ||changeEvent == null) return;
        changeEvent(div.noUiSlider.get());
    });
};
Spin = {};

Spin.createSpin = function()
{
    var opts =
    {
          lines: 13 // The number of lines to draw
        , length: 28 // The length of each line
        , width: 14 // The line thickness
        , radius: 42 // The radius of the inner circle
        , scale: 1 // Scales overall size of the spinner
        , corners: 1 // Corner roundness (0..1)
        , color: '#ffffff' // #rgb or #rrggbb or array of colors
        , opacity: 0.25 // Opacity of the lines
        , rotate: 0 // The rotation offset
        , direction: 1 // 1: clockwise, -1: counterclockwise
        , speed: 1 // Rounds per second
        , trail: 60 // Afterglow percentage
        , fps: 20 // Frames per second when using setTimeout() as a fallback for CSS
        , zIndex: 2e9 // The z-index (defaults to 2000000000)
        , className: 'spinner' // The CSS class to assign to the spinner
        , top: '50%' // Top position relative to parent
        , left: '50%' // Left position relative to parent
        , shadow: false // Whether to render a shadow
        , hwaccel: false // Whether to use hardware acceleration
        , position: 'absolute' // Element positioning
    }

    var target = StdDesign.createDimmerDiv();

    var spinner = new Spinner(opts).spin(target);

    Spin.spinDiv = target;
};

Spin.nukeSpin = function()
{
    WebLibSimple.nuke(Spin.spinDiv);
};
StdDesign = {};

StdDesign.createInput = function(height, placeholder, parent)
{
    var inputDiv = WebLibSimple.createDivHeight(0, 0, 0, height, null, parent);
    inputDiv.style.borderRadius = "1000px";
    inputDiv.style.border       = GlobalConf.std_input_border;
    inputDiv.style.overflow     = "hidden";

    var input = WebLibSimple.createAnyAppend("input", inputDiv);
    input.placeholder           = placeholder;
    input.style.fontSize        = (height / 2) + "px";
    input.style.color           = GlobalConf.std_input_color;
    input.style.textAlign       = "center";
    input.style.lineHeight      = height + "px";
    input.style.fontFamily      = GlobalConf.fontFamily;
    input.style.fontWeight      = "100";
    input.style.backgroundColor = "transparent";
    input.style.border          = "0px solid #000000";
    input.style.width           = "100%";
    input.style.height          = "100%";
    input.style.outline         = 0;
    input.style.overflow        = "hidden";

    // input.style.position        = "relative";

    inputDiv.input = input

    return inputDiv;
};

StdDesign.stdNuke = function(elem)
{
    elem.nuke = function()
    {
        WebLibSimple.nuke(elem);
    };
};

StdDesign.createStdDiv = function(parent)
{
    var div = WebLibSimple.createDiv(0, 0, 0, 0, null, parent);
    WebLibSimple.setBGColor(div, GlobalConf.bodyColor);

    return div;
};

StdDesign.createHeadline = function(title, height, fontSize, parent)
{
    var div = WebLibSimple.createDivHeight(0, 0, 0, height, null, parent);
    div.style.color      = GlobalConf.headlineColor;
    div.style.textAlign  = "center";
    div.style.lineHeight = height + "px";
    div.style.fontSize   = fontSize + "px";
    div.innerHTML = title;

    parent.setHeadline = function(title)
    {
        div.innerHTML = title;
    };

    return div;
};

StdDesign.createStdContent = function(top, bottom, parent)
{
    var div = WebLibSimple.createDiv(0, top, 0, bottom, null, parent);
    div.style.overflow = "auto";

    WebLibSimple.setBGColor(div, GlobalConf.bodyColor);

    return div;
};

StdDesign.createStdButtonBar = function(height, parent)
{
    var div = WebLibSimple.createDivHeight(0, 0, 0, height, null, parent);
    div.style.top = null;
    div.style.bottom = "0px";
    div.style.overflow = "hidden";

    WebLibSimple.setBGColor(div, GlobalConf.bodyColor);

    var center = WebLibSimple.createAnyAppend("center", div);

    div.content = center;

    var size = GlobalConf.std_button_size;
    var color = GlobalConf.std_button_color;
    var paddingLR = 10;

    div.createButton = function(title, event)
    {
        return SysButton.createShortButton(title, size, color, paddingLR, center, event);
    };

    parent.createButton = div.createButton;

    return div;
};


StdDesign.createStd = function(parent)
{
    var div = StdDesign.createStdDiv(parent);

    StdDesign.stdNuke(div);

    var title = "+++++";

    var headline_std_height   = GlobalConf.std_headline_height;
    var headline_std_fontSize = GlobalConf.std_headline_fontSize;
    var buttonBar_std_height  = GlobalConf.std_buttonBar_height;

    var headline  = StdDesign.createHeadline(title, headline_std_height, headline_std_fontSize, div);
    var content   = StdDesign.createStdContent(headline_std_height, buttonBar_std_height, div);
    var buttonBar = StdDesign.createStdButtonBar(buttonBar_std_height, div);

    div.headline  = headline;
    div.content   = content;
    div.buttonBar = buttonBar;

    return div;
};

StdDesign.createDimmerDiv = function()
{
    var div = WebLibSimple.createDiv(0, 0, 0, 0, null, document.body);
    div.style.zIndex = "100";
    div.style.fontFamily = GlobalConf.fontFamily;

    WebLibSimple.setBGColor(div, "#96000000");

    return div;
};

StdDesign.dimmerTouch = function(elem)
{
    var touchstart = function()
    {
        elem.style.opacity = 0.5;
    };

    var touchend = function()
    {
        var tmp = function()
        {
            elem.style.opacity = 1.0;
        };

        setTimeout(tmp, 50);
    };

    elem.addEventListener("touchstart", touchstart);
    elem.addEventListener("touchend",   touchend);
};

StdDesign.range = function(start, stop, step)
{
    if (typeof stop == 'undefined')
    {
        // one param defined
        stop = start;
        start = 0;
    }

    if (typeof step == 'undefined')
    {
        step = 1;
    }

    if ((step > 0 && start >= stop) || (step < 0 && start <= stop))
    {
        return [];
    }

    var result = [];
    for (var i = start; step > 0 ? i < stop : i > stop; i += step)
    {
        result.push(i);
    }

    return result;
};

StdDesign.switchButton = function(parent, width, height, changeEvent)
{
    // var div    = WebLibSimple.createDivWidHei(0, 0, width, height, null, parent);
    var div    = WebLibSimple.createAnyAppend("div", parent);
    var slider = WebLibSimple.createDivWidHei(0, 0, "50%", height, null, div);

    div.style.left = null;
    div.style.top = null;
    div.style.width = width + "px";
    div.style.height = height + "px";
    div.style.display = "inline-block";
    div.style.position = "relative";

    div.style.backgroundColor    = "#CCCCCC";
    slider.style.backgroundColor = "#FFFFFF";

    div.style.borderRadius = "1000px";
    slider.style.borderRadius = "1000px";

    div.active = false;

    var on = function()
    {
        div.active = true;
        // div.style.backgroundColor = "#2196F3";
        div.style.backgroundColor = GlobalConf.std_switch_color;
        slider.style.left = null;
        slider.style.right = "0px";

        changeEvent(true);
    };

    var off = function()
    {
        div.active = false;
        div.style.backgroundColor = "#CCCCCC";
        slider.style.left = "0px";
        slider.style.right = null;

        changeEvent(false);
    };

    div.onclick = function()
    {
        if (div.active)
        {
            off();
        }
        else
        {
            on();
        }
    };

    div.on = on;
    div.off = off;

    return div;
};

StdDesign.createImgButton = function(parent, src, event)
{
    var tmp = parent.createButton("", event);

    var size = GlobalConf.std_button_size;

    var border = size * 0.15;
    // var widthHeight = size - (border * 2);
    var widthHeight = size * 0.7;
    var img = WebLibSimple.createImgWidHei(0, border, widthHeight, widthHeight, null, tmp);
    img.style.position = "relative";
    // img.style.backgroundColor = "#b8d70a";
    img.src = src;
};
StringManager = {};

StringManager.getLocale = function()
{
    var language = null;

    if (navigator.languages != undefined)
    {
        language = navigator.languages[ 0 ];
    }

    language = navigator.language;

    return language.substring(0, 2).toLowerCase();
};

StringManager.init = function()
{
    var language = GlobalConf.language;

    console.log("language: " + language);

    StringManager.locale = locale_en;

    if (language == "en") StringManager.locale = locale_en;
    if (language == "de") StringManager.locale = locale_de;
    if (language == "es") StringManager.locale = locale_es;
    if (language == "fr") StringManager.locale = locale_fr;
};
SysButton = {};

SysButton.mouseOver = function(elem, defaultColor)
{
    var button = elem.button;

    var mouseOver = function()
    {
        var color = GlobalConf.std_button_mouseover_color;

        button.style.border = "1px solid " + color;
        button.style.color  = color;

    };

    var mouseOut = function()
    {
        button.style.border = "1px solid " + defaultColor;
        button.style.color  = defaultColor;
    };

    if (! Main.isMobile)
    {
        elem.addEventListener("mouseover", mouseOver);
        elem.addEventListener("mouseout",  mouseOut);
    }
    else
    {
        elem.addEventListener("touchstart", mouseOver);
        elem.addEventListener("touchend",   mouseOut);
    }
};

SysButton.createButton = function(title, CTitle, size, fontSize, color, paddingLR, parent, eventFunct)
{
    var border   = "1px solid " + color;

    var paddingDiv = WebLibSimple.createAnyAppend("div", parent);
    paddingDiv.style.display      = "inline-block";
    paddingDiv.style.width        = (size + paddingLR * 2) + "px";
    paddingDiv.style.paddingLeft  = paddingLR + "px";
    paddingDiv.style.paddingRight = paddingLR + "px";

    var div = WebLibSimple.createAnyAppend("div", paddingDiv);
    div.style.left         = paddingLR + "px";
    div.style.width        = (size + 2) + "px";
    div.style.top          = "0px";
    div.style.bottom       = "0px";
    div.style.overflow     = "hidden";
    div.style.cursor       = "pointer";
    div.onclick            = eventFunct;

    // WebLibSimple.setBGColor(div, "#c38839");

    var button = Cricle.createBorderCircle(CTitle, size, color, border, div, eventFunct);
    button.style.fontSize = (size * 0.9) + "px";
    button.style.fontWeight = "100";

    var label = WebLibSimple.createAnyAppend("span", div);
    label.style.fontSize   = fontSize + "px";
    label.style.textAlign  = "center";
    label.style.overflow   = "hidden";
    label.style.color      = color;
    label.style.fontWeight = "100";
    label.innerHTML        = title;

    div.button = button;
    div.label  = label;

    SysButton.mouseOver(div, color);
};

SysButton.createShortButton = function(title, size, color, paddingLR, parent, eventFunct)
{
    var border = "1px solid " + color;

    var paddingDiv = WebLibSimple.createAnyAppend("div", parent);
    paddingDiv.style.display      = "inline-block";
    paddingDiv.style.width        = (size + paddingLR * 2) + "px";
    paddingDiv.style.paddingTop   = "2px";
    paddingDiv.style.paddingLeft  = paddingLR + "px";
    paddingDiv.style.paddingRight = paddingLR + "px";

    var button = Cricle.createBorderCircle(title, size, color, border, paddingDiv, eventFunct);
    button.style.fontSize   = (size * 0.5) + "px";
    button.style.fontWeight = "100";
    button.style.left       = paddingLR + "px";
    button.style.cursor     = "pointer";
    button.onclick          = eventFunct;

    button.button = button;

    // SysButton.mouseOver(button, color);
    StdDesign.dimmerTouch(button);

    return button;
};
Time = {};

// Time.createDate = function(day, month, year)
// {
//     var month = month - 1;
//     var date = new Date(year, month, day);
//     return date;
// }

Time.getToDay = function()
{
    var today = new Date();
    return today;
};

// Month day from 1 to 31
Time.getMonthDay = function(date)
{
    var date = new Date(date);
    var day  = date.getDate();

    return day;
};

//
// Week day from 0 to 6
// S M T W T F S
//
Time.getDay = function(date)
{
    var date = new Date(date);
    var day  = date.getDay();

    // console.log("++> date: " + date);
    // console.log("++> day:  " + Time.getDayTranzlation(day));
    // console.log("++> day:  " + day);

    return day;
};

// Month from 0 to 11
Time.getMonth = function(date)
{
    var date  = new Date(date);
    var month = date.getMonth() + 1;

    return month;
};

// Year
Time.getYear = function(date)
{
    var date = new Date(date);
    var year = date.getFullYear();

    return year;
};

// Days in Month
Time.monthCount = function(month, year)
{
    var date = new Date(year, month, 0);
    var count = date.getDate();

    return count;
};

Time.getMonthStart = function(month, year)
{
    var date  = new Date(year, month - 1, 1);
    var start = Time.getDay(date);

    return start;
};

Time.getMonthEnd = function(month, year)
{
    var date  = new Date(year, month, 0);
    var start = Time.getDay(date);

    return start;
};

Time.dayInfo = function(date)
{
    var date = new Date(date);

    var month_day       = Time.getMonthDay(date);
    var month           = Time.getMonth(date);
    var year            = Time.getYear(date);
    var week_day        = Time.getDay(date);

    var hour            = date.getHours();
    var min             = date.getMinutes();

    var info = {};
    info.date        = date;
    info.day         = month_day;
    info.month       = month;
    info.year        = year;
    info.week_day    = week_day;
    info.hour        = hour;
    info.min         = min;

    return info;
};

Time.monthInfo = function(month, year)
{
    //
    // date month
    //

    var month_count     = Time.monthCount(month, year);
    var month_start_day = Time.getMonthStart(month, year);
    var month_end_day   = Time.getMonthEnd(month, year);

    var info = {};
    info.month           = month;
    info.year            = year;
    info.month_count     = month_count;
    info.month_start_day = month_start_day;
    info.month_end_day   = month_end_day;
    info.min_size        = month_start_day + month_count;

    if ((month_count + month_start_day) >= 35)
    {
        info.weeks = 6;
    }
    else
    {
        info.weeks = 5;
    }

    //
    // month before
    //

    var month_before = month - 1;
    var year_before  = year;

    if (month_before == 0)
    {
        month_before = 12;
        year_before  = year_before - 1;
    }

    var month_before_count = Time.monthCount(month_before, year_before);

    info.month_before       = month_before;
    info.year_before        = year_before;
    info.month_before_count = month_before_count;

    //
    // next month
    //

    var month_next = month + 1;
    var year_next  = year;

    if (month_next == 13)
    {
        month_next = 1;
        year_next  = year_next + 1;
    }

    var month_next_count = Time.monthCount(month_next, year_next);

    info.month_next = month_next;
    info.year_next  = year_next;
    info.month_next_count = month_next_count;

    return info;
};

Time.checkToday = function(date)
{
    var today   = Time.getEventDayDate(Time.getToDay());
    var TmpDate = Time.getEventDayDate(date);

    if (today.toISOString() == TmpDate.toISOString()) return true;

    return false;
};

Time.getEventDayDate = function(date)
{
    var date = new Date(date);

    var day   = date.getDate();
    var month = date.getMonth();
    var year  = date.getFullYear();

    var dayDate = new Date(year, month, day);

    // console.log(date);
    // console.log(dayDate);

    return dayDate;
};


Time.checkInMonth = function(month, year, date)
{
    var date = new Date(date);

    var day   = date.getDate();
    var month = date.getMonth();
    var year  = date.getFullYear();

    var dayDate = new Date(year, month, day);

    // console.log(date);
    // console.log(dayDate);

    return dayDate;
};

Time.fillZero = function(Number)
{
    if (Number < 10)
    {
        return "0" + Number;
    }

    return "" + Number;
};

Time.tranzToDate = function(date, time)
{
    var date  = date.split(".");
    var year  = parseInt(date[ 2 ]);
    var month = parseInt(date[ 1 ]) - 1;
    var day   = parseInt(date[ 0 ]);

    var newDate = null;

    if (time)
    {
        var time  = time.split(":");
        var hours = parseInt(time[ 0 ]);
        var min   = parseInt(time[ 1 ]);

        newDate = new Date(year, month, day, hours, min);
    }
    else
    {
        newDate = new Date(year, month, day);
    }

    return newDate;
};

Time.getDateTranzlation = function(date)
{
    var info = Time.dayInfo(date);

    var formart = GlobalConf.dateFormat;

    // GlobalConf.dateFormat
    // "DD.MM.YYYY"
    // "DD/MM/YYYY"
    // "MM.DD.YYYY"
    // "MM/DD/YYYY"
    // "YYYY-MM-DD"
    // "YYYY/MM/DD"

    var separator = ".";

    if (WebLibSimple.includes(formart, "/")) separator = "/";
    if (WebLibSimple.includes(formart, "-")) separator = "-";

    var dateParts = GlobalConf.dateFormat.split(separator);

    var tranzDate = [];

    for (var index in dateParts)
    {
        var part = dateParts[ index ];

        if (part == "DD")   tranzDate[ index ] = Time.fillZero(info.day);
        if (part == "MM")   tranzDate[ index ] = Time.fillZero(info.month);
        if (part == "YYYY") tranzDate[ index ] = info.year;
    }

    return tranzDate.join(separator);
    // return Time.fillZero(info.day) + "." + Time.fillZero(info.month) + "." + info.year;
};

Time.getTimeTranzlation = function(date)
{
    var info = Time.dayInfo(date);

    return Time.fillZero(info.hour) + ":" + Time.fillZero(info.min);
};

Time.getDateTimeTranzlation = function(date)
{
    var inDate = new Date(date);
    var time = Time.getTimeTranzlation(inDate);
    var date = Time.getDateTranzlation(inDate);

    return date + " " + time;
};

Time.getWeekShortTranzlation = function(day)
{
    var week = StringManager.locale.weekdaysShort;
    var index = ((day + GlobalConf.weekStartDay) % 7);
    
    return week[ index ];
};

Time.getMonthTranzlation = function(month)
{
    var month = month - 1;
    var months = StringManager.locale.months;

    return months[ month ];
};
//
// Simple utility library.
//

WebLibSimple = {};

//
// Basic HTML creation.
//

WebLibSimple.createAnyAppend = function(type, parent)
{
    var div = document.createElement(type);
    parent.appendChild(div);

    return div;
}

WebLibSimple.createAny = function(type, left, top, right, bottom, id, parent)
{
    var div = document.createElement(type);
    div.style.position = "absolute";

    //
    // If value is null the property is not set at all, which
    // makes the element fit its content on that axis.
    //

    if (left   !== null) div.style.left   = WebLibSimple.addPixel(left);
    if (top    !== null) div.style.top    = WebLibSimple.addPixel(top);
    if (right  !== null) div.style.right  = WebLibSimple.addPixel(right);
    if (bottom !== null) div.style.bottom = WebLibSimple.addPixel(bottom);

    if (id) div.id = id;

    if (parent) parent.appendChild(div);

    return div;
}

WebLibSimple.createAnyWidth = function(type, leftorright, top, width, bottom, id, parent)
{
    var div = document.createElement(type);
    div.style.position = "absolute";

    //
    // If value is null the property is not set at all, which
    // makes the element fit its content on that axis.
    //

    if (top    !== null) div.style.top    = WebLibSimple.addPixel(top);
    if (bottom !== null) div.style.bottom = WebLibSimple.addPixel(bottom);

    if (width !== null)
    {
        if (WebLibSimple.isNumber(width))
        {
            if (width < 0)
            {
                div.style.right = WebLibSimple.addPixel(leftorright);
                div.style.width = WebLibSimple.addPixel(-width);
            }
            else
            {
                div.style.left = WebLibSimple.addPixel(leftorright);
                div.style.width = WebLibSimple.addPixel(width);
            }
        }
        else
        {
            //
            // Height could be "auto" on images.
            //

            div.style.left = WebLibSimple.addPixel(leftorright);
            div.style.width = WebLibSimple.addPixel(width);
        }
    }

    if (id) div.id = id;

    if (parent) parent.appendChild(div);

    return div;
}

WebLibSimple.createAnyHeight = function(type, left, toporbottom, right, height, id, parent)
{
    var div = document.createElement(type);
    div.style.position = "absolute";

    //
    // If value is null the property is not set at all, which
    // makes the element fit its content on that axis.
    //

    if (left  !== null) div.style.left  = WebLibSimple.addPixel(left);
    if (right !== null) div.style.right = WebLibSimple.addPixel(right);

    if (height !== null)
    {
        if (WebLibSimple.isNumber(height))
        {
            if (height < 0)
            {
                div.style.bottom = WebLibSimple.addPixel(toporbottom);
                div.style.height = WebLibSimple.addPixel(-height);
            }
            else
            {
                div.style.top = WebLibSimple.addPixel(toporbottom);
                div.style.height = WebLibSimple.addPixel(height);
            }
        }
        else
        {
            //
            // Height could be "auto" on images.
            //

            div.style.top = WebLibSimple.addPixel(toporbottom);
            div.style.height = WebLibSimple.addPixel(height);
        }
    }

    if (id) div.id = id;

    if (parent) parent.appendChild(div);

    return div;
}

WebLibSimple.createAnyWidHei = function(type, leftorright, toporbottom, width, height, id, parent)
{
    var div = document.createElement(type);
    div.style.position = "absolute";

    if (width !== null)
    {
        if (WebLibSimple.isNumber(width))
        {
            if (width < 0)
            {
                div.style.right = WebLibSimple.addPixel(leftorright);
                div.style.width = WebLibSimple.addPixel(-width);
            }
            else
            {
                div.style.left = WebLibSimple.addPixel(leftorright);
                div.style.width = WebLibSimple.addPixel(width);
            }
        }
        else
        {
            //
            // Height could be "auto" on images.
            //

            div.style.left = WebLibSimple.addPixel(leftorright);
            div.style.width = WebLibSimple.addPixel(width);
        }
    }

    if (height !== null)
    {
        if (WebLibSimple.isNumber(height))
        {
            if (height < 0)
            {
                div.style.bottom = WebLibSimple.addPixel(toporbottom);
                div.style.height = WebLibSimple.addPixel(-height);
            }
            else
            {
                div.style.top = WebLibSimple.addPixel(toporbottom);
                div.style.height = WebLibSimple.addPixel(height);
            }
        }
        else
        {
            //
            // Height could be "auto" on images.
            //

            div.style.top = WebLibSimple.addPixel(toporbottom);
            div.style.height = WebLibSimple.addPixel(height);
        }
    }

    if (id) div.id = id;

    if (parent) parent.appendChild(div);

    return div;
}

//
// Basic DIV creation.
//

WebLibSimple.createDiv = function(left, top, right, bottom, id, parent)
{
    return WebLibSimple.createAny("div", left, top, right, bottom, id, parent);
}

WebLibSimple.createDivWidth = function(left, top, width, bottom, id, parent)
{
    return WebLibSimple.createAnyWidth("div", left, top, width, bottom, id, parent);
}

WebLibSimple.createDivHeight = function(left, top, right, height, id, parent)
{
    return WebLibSimple.createAnyHeight("div", left, top, right, height, id, parent);
}

WebLibSimple.createDivWidHei = function(left, top, width, height, id, parent)
{
    return WebLibSimple.createAnyWidHei("div", left, top, width, height, id, parent);
}

//
// Basic IMG creation.
//

WebLibSimple.createImg = function(left, top, right, bottom, id, parent)
{
    return WebLibSimple.createAny("img", left, top, right, bottom, id, parent);
}

WebLibSimple.createImgWidth = function(left, top, width, bottom, id, parent)
{
    return WebLibSimple.createAnyWidth("img", left, top, width, bottom, id, parent);
}

WebLibSimple.createImgHeight = function(left, top, right, height, id, parent)
{
    return WebLibSimple.createAnyHeight("img", left, top, right, height, id, parent);
}

WebLibSimple.createImgWidHei = function(left, top, width, height, id, parent)
{
    return WebLibSimple.createAnyWidHei("img", left, top, width, height, id, parent);
}

//
// Image stuff.
//

WebLibSimple.setImageSource = function(img, source)
{
    if (img)
    {
        if (source)
        {
            //
            // Avoid reloading of image.
            //

            if (! (img.src && img.src.endsWith(source))) img.src = source;
        }
        else
        {
            img.src = WebLibSimple.getNixPixImg();
        }
    }
}

WebLibSimple.getNixPixImg = function()
{
    return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=";
}

//
// Basic SPAN creation.
//

WebLibSimple.createSpanPadded = function(left, top, right, bottom, id, parent)
{
    var span = document.createElement("span");

    if (left   !== null) span.style.paddingLeft   = WebLibSimple.addPixel(left);
    if (top    !== null) span.style.paddingTop    = WebLibSimple.addPixel(top);
    if (right  !== null) span.style.paddingRight  = WebLibSimple.addPixel(right);
    if (bottom !== null) span.style.paddingBottom = WebLibSimple.addPixel(bottom);

    if (id) span.id = id;

    if (parent) parent.appendChild(span);

    return span;
}

//
// Simplyfied style setters.
//

WebLibSimple.setDefaultBGColor = function(elem)
{
    WebLibSimple.setBGColor(elem, "#ffffffee");
}

WebLibSimple.getRGBColor = function(color)
{
    if ((color.length == 9) && (color.charAt(0) == "#"))
    {
        //
        // Hex color with alpha like android.
        //

        var a = parseInt(color.substring(1,3), 16) / 256.0;
        var r = parseInt(color.substring(3,5), 16);
        var g = parseInt(color.substring(5,7), 16);
        var b = parseInt(color.substring(7,9), 16);

        var rgba = "rgba(" + r + "," + g + "," + b + "," + a + ")";

        return rgba;
    }

    return color;
}

WebLibSimple.setBGColor = function(elem, color)
{
    elem.style.backgroundColor = WebLibSimple.getRGBColor(color);
}

WebLibSimple.setFontSpecs = function(elem, size, weight, color)
{
    if (size) elem.style.fontSize = WebLibSimple.addPixel(size);
    if (weight) elem.style.fontWeight = weight;
    if (color) elem.style.color = WebLibSimple.getRGBColor(color);
}

//
// Number testers.
//

WebLibSimple.addPixel = function(value)
{
    return value + ((Number(value) === value) ? "px" : "");
}

WebLibSimple.isNumber = function(value)
{
    return (Number(value) === value);
}

WebLibSimple.isFloat = function(value)
{
    return (value === +value) && (value !== (value | 0));
}

WebLibSimple.isInteger = function(value)
{
    return (value === +value) && (value === (value | 0));
}

WebLibSimple.findTarget = function(target, targetid)
{
    while (target && (target.id != targetid))
    {
        target = target.parentElement;
    }

    return target;
}

WebLibSimple.substring = function(str, start, ende)
{
    if (start !== null && (ende === null))
    {
        if (start < 0) return str.substring(0, str.length + start);

        return str.substring(start);
    }

    if (ende < 0) return str.substring(start, str.length + ende);

    return str.substring(start, ende);
}

WebLibSimple.createOption = function(select, value)
{
    // var option = WebLibSimple.createAnyAppend("option", select);
    // option.value = value;
    // var textNode = WebLibSimple.createAnyTextNode(option, node);
    //
    // return option;
    var option = document.createElement("option");
    option.text = value;
    select.add(option);

    return option;
}

WebLibSimple.getNiceDate = function(date)
{
    var date = new Date(date);

    var day = parseInt(date.getDate());
    if (day < 10) day = "0" + day;

    var month = parseInt(date.getMonth());
    if (month < 10) month = "0" + month;

    var year = date.getFullYear();

    // 2016-04-28T12:17:56Z
    // return year + "-" + month + "-" + day + "T02:00:00Z";
    return year + "-" + month + "-" + day;
}

WebLibSimple.getNiceDateYMD = function(year, month, day)
{
    if (day   < 10) day   = "0" + day;
    if (month < 10) month = "0" + month;

    // var date = new Date(year + "-" + month + "-" + day);

    // 2016-04-28T12:17:56Z
    // return year + "-" + month + "-" + day + "T02:00:00Z";
    return year + "-" + month + "-" + day;
}

WebLibSimple.disableSelection = function(target)
{
    if (typeof target.onselectstart != "undefined") //IE route
        target.onselectstart=function()
        {
            return false;
        }
    else if (typeof target.style.MozUserSelect != "undefined")
    {
        target.style.MozUserSelect = "none";
    }
    else
    {
        target.onmousedown = function()
        {
            return false;
        }
    }
    target.style.cursor = "default";

    window.ondragstart = function()
    {
        return false;
    }
}

WebLibSimple.removeValFromArray = function(value, array)
{
    array.splice(array.indexOf(value), 1);
}

WebLibSimple.setOpacity = function(div, hexColor, percent)
{
    if (percent < 0.3) percent = 0.3;

    // var hlsColor = tinycolor(hexColor).toHslString();
    var hlsColor = color2color(hexColor, "hsl");

    var res = hlsColor.split(",");

    var darkPercent = parseInt(res[ 2 ]) * percent;
    var hlsColor = res[ 0 ] + "," + res[ 1 ] + "," + darkPercent + "%)";
    div.style.backgroundColor = hlsColor;
    div.color = hexColor;
}

WebLibSimple.includes = function(array, key)
{
    for (var index in array)
    {
        var value = array[ index ];
        if (value == key) return true;
    }

    return false;
}

WebLibSimple.hasKey = function(array, key)
{
    for (var aKey in array)
    {
        if (aKey == key) return true;
    }

    return false;
}

WebLibSimple.nuke = function(obj)
{
    obj.style.display = "none";
    obj.innerHTML = "";
    obj = null;
}

WebLibSimple.circ = function(progress)
{
    return 1 - Math.sin(Math.acos(progress));
}

WebLibSimple.base64Encode = function(str)
{
    return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function(match, p1) {
        return String.fromCharCode('0x' + p1);
    }));
}

WebLibSimple.base64Decode = function(str)
{
    return decodeURIComponent(Array.prototype.map.call(atob(str), function(c) {
        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
    }).join(''));
}
/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.3.0
 *
 * Copyright 2016 Nick Downie
 * Released under the MIT license
 * https://github.com/chartjs/Chart.js/blob/master/LICENSE.md
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Chart=t()}}(function(){return function t(e,a,i){function n(r,l){if(!a[r]){if(!e[r]){var s="function"==typeof require&&require;if(!l&&s)return s(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=a[r]={exports:{}};e[r][0].call(u.exports,function(t){var a=e[r][1][t];return n(a?a:t)},u,u.exports,t,e,a,i)}return a[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)n(i[r]);return n}({1:[function(t,e,a){},{}],2:[function(t,e,a){function i(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,a=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\w+)/,r=[0,0,0],l=1,s=t.match(e);if(s){s=s[1];for(var d=0;d<r.length;d++)r[d]=parseInt(s[d]+s[d],16)}else if(s=t.match(a)){s=s[1];for(var d=0;d<r.length;d++)r[d]=parseInt(s.slice(2*d,2*d+2),16)}else if(s=t.match(i)){for(var d=0;d<r.length;d++)r[d]=parseInt(s[d+1]);l=parseFloat(s[4])}else if(s=t.match(n)){for(var d=0;d<r.length;d++)r[d]=Math.round(2.55*parseFloat(s[d+1]));l=parseFloat(s[4])}else if(s=t.match(o)){if("transparent"==s[1])return[0,0,0,0];if(r=y[s[1]],!r)return}for(var d=0;d<r.length;d++)r[d]=v(r[d],0,255);return l=l||0==l?v(l,0,1):1,r[3]=l,r}}function n(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=t.match(e);if(a){var i=parseFloat(a[4]),n=v(parseInt(a[1]),0,360),o=v(parseFloat(a[2]),0,100),r=v(parseFloat(a[3]),0,100),l=v(isNaN(i)?1:i,0,1);return[n,o,r,l]}}}function o(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=t.match(e);if(a){var i=parseFloat(a[4]),n=v(parseInt(a[1]),0,360),o=v(parseFloat(a[2]),0,100),r=v(parseFloat(a[3]),0,100),l=v(isNaN(i)?1:i,0,1);return[n,o,r,l]}}}function r(t){var e=i(t);return e&&e.slice(0,3)}function l(t){var e=n(t);return e&&e.slice(0,3)}function s(t){var e=i(t);return e?e[3]:(e=n(t))?e[3]:(e=o(t))?e[3]:void 0}function d(t){return"#"+x(t[0])+x(t[1])+x(t[2])}function u(t,e){return 1>e||t[3]&&t[3]<1?c(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function c(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function h(t,e){if(1>e||t[3]&&t[3]<1)return f(t,e);var a=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return"rgb("+a+"%, "+i+"%, "+n+"%)"}function f(t,e){var a=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return"rgba("+a+"%, "+i+"%, "+n+"%, "+(e||t[3]||1)+")"}function g(t,e){return 1>e||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function b(t){return k[t.slice(0,3)]}function v(t,e,a){return Math.min(Math.max(e,t),a)}function x(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var y=t(6);e.exports={getRgba:i,getHsla:n,getRgb:r,getHsl:l,getHwb:o,getAlpha:s,hexString:d,rgbString:u,rgbaString:c,percentString:h,percentaString:f,hslString:g,hslaString:p,hwbString:m,keyword:b};var k={};for(var S in y)k[y[S]]=S},{6:6}],3:[function(t,e,a){var i=t(5),n=t(2),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;if("string"==typeof t)if(e=n.getRgba(t))this.setValues("rgb",e);else if(e=n.getHsla(t))this.setValues("hsl",e);else{if(!(e=n.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t)if(e=t,void 0!==e.r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=0>t?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],a=0;a<t.length;a++){var i=t[a]/255;e[a]=.03928>=i?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),a=t.luminosity();return e>a?(e+.05)/(a+.05):(a+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return 128>e},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;3>e;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,a=(e[0]+t)%360;return e[0]=0>a?360+a:a,this.setValues("hsl",e),this},mix:function(t,e){var a=this,i=t,n=void 0===e?.5:e,o=2*n-1,r=a.alpha()-i.alpha(),l=((o*r===-1?o:(o+r)/(1+o*r))+1)/2,s=1-l;return this.rgb(l*a.red()+s*i.red(),l*a.green()+s*i.green(),l*a.blue()+s*i.blue()).alpha(a.alpha()*n+i.alpha()*(1-n))},toJSON:function(){return this.rgb()},clone:function(){var t,e,a=new o,i=this.values,n=a.values;for(var r in i)i.hasOwnProperty(r)&&(t=i[r],e={}.toString.call(t),"[object Array]"===e?n[r]=t.slice(0):"[object Number]"===e?n[r]=t:console.error("unexpected color value:",t));return a}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,a={},i=0;i<t.length;i++)a[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(a.a=e.alpha),a},o.prototype.setValues=function(t,e){var a,n=this.values,o=this.spaces,r=this.maxes,l=1;if("alpha"===t)l=e;else if(e.length)n[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(a=0;a<t.length;a++)n[t][a]=e[t.charAt(a)];l=e.a}else if(void 0!==e[o[t][0]]){var s=o[t];for(a=0;a<t.length;a++)n[t][a]=e[s[a]];l=e.alpha}if(n.alpha=Math.max(0,Math.min(1,void 0===l?n.alpha:l)),"alpha"===t)return!1;var d;for(a=0;a<t.length;a++)d=Math.max(0,Math.min(r[t][a],n[t][a])),n[t][a]=Math.round(d);for(var u in o)u!==t&&(n[u]=i[t][u](n[t]));return!0},o.prototype.setSpace=function(t,e){var a=e[0];return void 0===a?this.getValues(t):("number"==typeof a&&(a=Array.prototype.slice.call(e)),this.setValues(t,a),this)},o.prototype.setChannel=function(t,e,a){var i=this.values[t];return void 0===a?i[e]:a===i[e]?this:(i[e]=a,this.setValues(t,i),this)},"undefined"!=typeof window&&(window.Color=o),e.exports=o},{2:2,5:5}],4:[function(t,e,a){function i(t){var e,a,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,l=Math.min(n,o,r),s=Math.max(n,o,r),d=s-l;return s==l?e=0:n==s?e=(o-r)/d:o==s?e=2+(r-n)/d:r==s&&(e=4+(n-o)/d),e=Math.min(60*e,360),0>e&&(e+=360),i=(l+s)/2,a=s==l?0:.5>=i?d/(s+l):d/(2-s-l),[e,100*a,100*i]}function n(t){var e,a,i,n=t[0],o=t[1],r=t[2],l=Math.min(n,o,r),s=Math.max(n,o,r),d=s-l;return a=0==s?0:d/s*1e3/10,s==l?e=0:n==s?e=(o-r)/d:o==s?e=2+(r-n)/d:r==s&&(e=4+(n-o)/d),e=Math.min(60*e,360),0>e&&(e+=360),i=s/255*1e3/10,[e,a,i]}function o(t){var e=t[0],a=t[1],n=t[2],o=i(t)[0],r=1/255*Math.min(e,Math.min(a,n)),n=1-1/255*Math.max(e,Math.max(a,n));return[o,100*r,100*n]}function l(t){var e,a,i,n,o=t[0]/255,r=t[1]/255,l=t[2]/255;return n=Math.min(1-o,1-r,1-l),e=(1-o-n)/(1-n)||0,a=(1-r-n)/(1-n)||0,i=(1-l-n)/(1-n)||0,[100*e,100*a,100*i,100*n]}function s(t){return G[JSON.stringify(t)]}function d(t){var e=t[0]/255,a=t[1]/255,i=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var n=.4124*e+.3576*a+.1805*i,o=.2126*e+.7152*a+.0722*i,r=.0193*e+.1192*a+.9505*i;return[100*n,100*o,100*r]}function u(t){var e,a,i,n=d(t),o=n[0],r=n[1],l=n[2];return o/=95.047,r/=100,l/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,e=116*r-16,a=500*(o-r),i=200*(r-l),[e,a,i]}function c(t){return W(u(t))}function h(t){var e,a,i,n,o,r=t[0]/360,l=t[1]/100,s=t[2]/100;if(0==l)return o=255*s,[o,o,o];a=.5>s?s*(1+l):s+l-s*l,e=2*s-a,n=[0,0,0];for(var d=0;3>d;d++)i=r+1/3*-(d-1),0>i&&i++,i>1&&i--,o=1>6*i?e+6*(a-e)*i:1>2*i?a:2>3*i?e+(a-e)*(2/3-i)*6:e,n[d]=255*o;return n}function f(t){var e,a,i=t[0],n=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:(o*=2,n*=1>=o?o:2-o,a=(o+n)/2,e=2*n/(o+n),[i,100*e,100*a])}function p(t){return o(h(t))}function m(t){return l(h(t))}function v(t){return s(h(t))}function x(t){var e=t[0]/60,a=t[1]/100,i=t[2]/100,n=Math.floor(e)%6,o=e-Math.floor(e),r=255*i*(1-a),l=255*i*(1-a*o),s=255*i*(1-a*(1-o)),i=255*i;switch(n){case 0:return[i,s,r];case 1:return[l,i,r];case 2:return[r,i,s];case 3:return[r,l,i];case 4:return[s,r,i];case 5:return[i,r,l]}}function y(t){var e,a,i=t[0],n=t[1]/100,o=t[2]/100;return a=(2-n)*o,e=n*o,e/=1>=a?a:2-a,e=e||0,a/=2,[i,100*e,100*a]}function k(t){return o(x(t))}function S(t){return l(x(t))}function w(t){return s(x(t))}function C(t){var e,a,i,n,o=t[0]/360,l=t[1]/100,s=t[2]/100,d=l+s;switch(d>1&&(l/=d,s/=d),e=Math.floor(6*o),a=1-s,i=6*o-e,0!=(1&e)&&(i=1-i),n=l+i*(a-l),e){default:case 6:case 0:r=a,g=n,b=l;break;case 1:r=n,g=a,b=l;break;case 2:r=l,g=a,b=n;break;case 3:r=l,g=n,b=a;break;case 4:r=n,g=l,b=a;break;case 5:r=a,g=l,b=n}return[255*r,255*g,255*b]}function M(t){return i(C(t))}function D(t){return n(C(t))}function I(t){return l(C(t))}function A(t){return s(C(t))}function T(t){var e,a,i,n=t[0]/100,o=t[1]/100,r=t[2]/100,l=t[3]/100;return e=1-Math.min(1,n*(1-l)+l),a=1-Math.min(1,o*(1-l)+l),i=1-Math.min(1,r*(1-l)+l),[255*e,255*a,255*i]}function P(t){return i(T(t))}function F(t){return n(T(t))}function R(t){return o(T(t))}function _(t){return s(T(t))}function V(t){var e,a,i,n=t[0]/100,o=t[1]/100,r=t[2]/100;return e=3.2406*n+-1.5372*o+r*-.4986,a=n*-.9689+1.8758*o+.0415*r,i=.0557*n+o*-.204+1.057*r,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=12.92*a,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,e=Math.min(Math.max(0,e),1),a=Math.min(Math.max(0,a),1),i=Math.min(Math.max(0,i),1),[255*e,255*a,255*i]}function L(t){var e,a,i,n=t[0],o=t[1],r=t[2];return n/=95.047,o/=100,r/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,e=116*o-16,a=500*(n-o),i=200*(o-r),[e,a,i]}function O(t){return W(L(t))}function B(t){var e,a,i,n,o=t[0],r=t[1],l=t[2];return 8>=o?(a=100*o/903.3,n=7.787*(a/100)+16/116):(a=100*Math.pow((o+16)/116,3),n=Math.pow(a/100,1/3)),e=.008856>=e/95.047?e=95.047*(r/500+n-16/116)/7.787:95.047*Math.pow(r/500+n,3),i=.008859>=i/108.883?i=108.883*(n-l/200-16/116)/7.787:108.883*Math.pow(n-l/200,3),[e,a,i]}function W(t){var e,a,i,n=t[0],o=t[1],r=t[2];return e=Math.atan2(r,o),a=360*e/2/Math.PI,0>a&&(a+=360),i=Math.sqrt(o*o+r*r),[n,i,a]}function z(t){return V(B(t))}function N(t){var e,a,i,n=t[0],o=t[1],r=t[2];return i=r/360*2*Math.PI,e=o*Math.cos(i),a=o*Math.sin(i),[n,e,a]}function H(t){return B(N(t))}function E(t){return z(N(t))}function U(t){return Z[t]}function q(t){return i(U(t))}function j(t){return n(U(t))}function Y(t){return o(U(t))}function K(t){return l(U(t))}function X(t){return u(U(t))}function J(t){return d(U(t))}e.exports={rgb2hsl:i,rgb2hsv:n,rgb2hwb:o,rgb2cmyk:l,rgb2keyword:s,rgb2xyz:d,rgb2lab:u,rgb2lch:c,hsl2rgb:h,hsl2hsv:f,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:x,hsv2hsl:y,hsv2hwb:k,hsv2cmyk:S,hsv2keyword:w,hwb2rgb:C,hwb2hsl:M,hwb2hsv:D,hwb2cmyk:I,hwb2keyword:A,cmyk2rgb:T,cmyk2hsl:P,cmyk2hsv:F,cmyk2hwb:R,cmyk2keyword:_,keyword2rgb:U,keyword2hsl:q,keyword2hsv:j,keyword2hwb:Y,keyword2cmyk:K,keyword2lab:X,keyword2xyz:J,xyz2rgb:V,xyz2lab:L,xyz2lch:O,lab2xyz:B,lab2rgb:z,lab2lch:W,lch2lab:N,lch2xyz:H,lch2rgb:E};var Z={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},G={};for(var Q in Z)G[JSON.stringify(Z[Q])]=Q},{}],5:[function(t,e,a){var i=t(4),n=function(){return new d};for(var o in i){n[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),i[t](e)}}(o);var r=/(\w+)2(\w+)/.exec(o),l=r[1],s=r[2];n[l]=n[l]||{},n[l][s]=n[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var a=i[t](e);if("string"==typeof a||void 0===a)return a;for(var n=0;n<a.length;n++)a[n]=Math.round(a[n]);return a}}(o)}var d=function(){this.convs={}};d.prototype.routeSpace=function(t,e){var a=e[0];return void 0===a?this.getValues(t):("number"==typeof a&&(a=Array.prototype.slice.call(e)),this.setValues(t,a))},d.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},d.prototype.getValues=function(t){var e=this.convs[t];if(!e){var a=this.space,i=this.convs[a];e=n[a][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){d.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=n},{4:4}],6:[function(t,e,a){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e,a){var i=t(27)();t(26)(i),t(22)(i),t(25)(i),t(21)(i),t(23)(i),t(24)(i),t(28)(i),t(32)(i),t(30)(i),t(31)(i),t(33)(i),t(29)(i),t(34)(i),t(35)(i),t(36)(i),t(37)(i),t(38)(i),t(41)(i),t(39)(i),t(40)(i),t(42)(i),t(43)(i),t(44)(i),t(15)(i),t(16)(i),t(17)(i),t(18)(i),t(19)(i),t(20)(i),t(8)(i),t(9)(i),t(10)(i),t(11)(i),t(12)(i),t(13)(i),t(14)(i),window.Chart=e.exports=i},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,8:8,9:9}],8:[function(t,e,a){"use strict";e.exports=function(t){t.Bar=function(e,a){return a.type="bar",new t(e,a)}}},{}],9:[function(t,e,a){"use strict";e.exports=function(t){t.Bubble=function(e,a){return a.type="bubble",new t(e,a)}}},{}],10:[function(t,e,a){"use strict";e.exports=function(t){t.Doughnut=function(e,a){return a.type="doughnut",new t(e,a)}}},{}],11:[function(t,e,a){"use strict";e.exports=function(t){t.Line=function(e,a){return a.type="line",new t(e,a)}}},{}],12:[function(t,e,a){"use strict";e.exports=function(t){t.PolarArea=function(e,a){return a.type="polarArea",new t(e,a)}}},{}],13:[function(t,e,a){"use strict";e.exports=function(t){t.Radar=function(e,a){return a.options=t.helpers.configMerge({aspectRatio:1},a.options),a.type="radar",new t(e,a)}}},{}],14:[function(t,e,a){"use strict";e.exports=function(t){var e={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}};t.defaults.scatter=e,t.controllers.scatter=t.controllers.line,t.Scatter=function(e,a){return a.type="scatter",new t(e,a)}}},{}],15:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=t.DatasetController.extend({dataElementType:t.elements.Rectangle,initialize:function(e,a){t.DatasetController.prototype.initialize.call(this,e,a),this.getMeta().bar=!0},getBarCount:function(){var t=this,a=0;return e.each(t.chart.data.datasets,function(e,i){var n=t.chart.getDatasetMeta(i);n.bar&&t.chart.isDatasetVisible(i)&&++a},t),a},update:function(t){var a=this;e.each(a.getMeta().data,function(e,i){a.updateElement(e,i,t)},a)},updateElement:function(t,a,i){var n=this,o=n.getMeta(),r=n.getScaleForId(o.xAxisID),l=n.getScaleForId(o.yAxisID),s=l.getBasePixel(),d=n.chart.options.elements.rectangle,u=t.custom||{},c=n.getDataset();e.extend(t,{_xScale:r,_yScale:l,_datasetIndex:n.index,_index:a,_model:{x:n.calculateBarX(a,n.index),y:i?s:n.calculateBarY(a,n.index),label:n.chart.data.labels[a],datasetLabel:c.label,base:i?s:n.calculateBarBase(n.index,a),width:n.calculateBarWidth(a),backgroundColor:u.backgroundColor?u.backgroundColor:e.getValueAtIndexOrDefault(c.backgroundColor,a,d.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:d.borderSkipped,borderColor:u.borderColor?u.borderColor:e.getValueAtIndexOrDefault(c.borderColor,a,d.borderColor),borderWidth:u.borderWidth?u.borderWidth:e.getValueAtIndexOrDefault(c.borderWidth,a,d.borderWidth)}}),t.pivot()},calculateBarBase:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=0;if(n.options.stacked){for(var r=a.chart,l=r.data.datasets,s=Number(l[t].data[e]),d=0;t>d;d++){var u=l[d],c=r.getDatasetMeta(d);if(c.bar&&c.yAxisID===n.id&&r.isDatasetVisible(d)){var h=Number(u.data[e]);o+=0>s?Math.min(h,0):Math.max(h,0)}}return n.getPixelForValue(o)}return n.getBasePixel()},getRuler:function(t){var e,a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=a.getBarCount();e="category"===n.options.type?n.getPixelForTick(t+1)-n.getPixelForTick(t):n.width/n.ticks.length;var r=e*n.options.categoryPercentage,l=(e-e*n.options.categoryPercentage)/2,s=r/o;if(n.ticks.length!==a.chart.data.labels.length){var d=n.ticks.length/a.chart.data.labels.length;s*=d}var u=s*n.options.barPercentage,c=s-s*n.options.barPercentage;return{datasetCount:o,tickWidth:e,categoryWidth:r,categorySpacing:l,fullBarWidth:s,barWidth:u,barSpacing:c}},calculateBarWidth:function(t){var e=this.getScaleForId(this.getMeta().xAxisID);if(e.options.barThickness)return e.options.barThickness;var a=this.getRuler(t);return e.options.stacked?a.categoryWidth:a.barWidth},getBarIndex:function(t){var e,a,i=0;for(a=0;t>a;++a)e=this.chart.getDatasetMeta(a),e.bar&&this.chart.isDatasetVisible(a)&&++i;return i},calculateBarX:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=a.getBarIndex(e),r=a.getRuler(t),l=n.getPixelForValue(null,t,e,a.chart.isCombo);return l-=a.chart.isCombo?r.tickWidth/2:0,n.options.stacked?l+r.categoryWidth/2+r.categorySpacing:l+r.barWidth/2+r.categorySpacing+r.barWidth*o+r.barSpacing/2+r.barSpacing*o},calculateBarY:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=Number(a.getDataset().data[t]);if(n.options.stacked){for(var r=0,l=0,s=0;e>s;s++){var d=a.chart.data.datasets[s],u=a.chart.getDatasetMeta(s);if(u.bar&&u.yAxisID===n.id&&a.chart.isDatasetVisible(s)){var c=Number(d.data[t]);0>c?l+=c||0:r+=c||0}}return 0>o?n.getPixelForValue(l+o):n.getPixelForValue(r+o)}return n.getPixelForValue(o)},draw:function(t){var a=this,i=t||1;e.each(a.getMeta().data,function(t,e){var n=a.getDataset().data[e];null===n||void 0===n||isNaN(n)||t.transition(i).draw()},a)},setHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model;o.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:e.getValueAtIndexOrDefault(a.hoverBackgroundColor,i,e.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor?n.hoverBorderColor:e.getValueAtIndexOrDefault(a.hoverBorderColor,i,e.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:e.getValueAtIndexOrDefault(a.hoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model,r=this.chart.options.elements.rectangle;o.backgroundColor=n.backgroundColor?n.backgroundColor:e.getValueAtIndexOrDefault(a.backgroundColor,i,r.backgroundColor),o.borderColor=n.borderColor?n.borderColor:e.getValueAtIndexOrDefault(a.borderColor,i,r.borderColor),o.borderWidth=n.borderWidth?n.borderWidth:e.getValueAtIndexOrDefault(a.borderWidth,i,r.borderWidth)}}),t.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var a="";return t.length>0&&(t[0].yLabel?a=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(a=e.labels[t[0].index])),a},label:function(t,e){var a=e.datasets[t.datasetIndex].label||"";return a+": "+t.xLabel}}}},t.controllers.horizontalBar=t.controllers.bar.extend({updateElement:function(t,a,i){var n=this,o=n.getMeta(),r=n.getScaleForId(o.xAxisID),l=n.getScaleForId(o.yAxisID),s=r.getBasePixel(),d=t.custom||{},u=n.getDataset(),c=n.chart.options.elements.rectangle;e.extend(t,{_xScale:r,_yScale:l,_datasetIndex:n.index,_index:a,_model:{x:i?s:n.calculateBarX(a,n.index),y:n.calculateBarY(a,n.index),label:n.chart.data.labels[a],datasetLabel:u.label,base:i?s:n.calculateBarBase(n.index,a),height:n.calculateBarHeight(a),backgroundColor:d.backgroundColor?d.backgroundColor:e.getValueAtIndexOrDefault(u.backgroundColor,a,c.backgroundColor),borderSkipped:d.borderSkipped?d.borderSkipped:c.borderSkipped,borderColor:d.borderColor?d.borderColor:e.getValueAtIndexOrDefault(u.borderColor,a,c.borderColor),borderWidth:d.borderWidth?d.borderWidth:e.getValueAtIndexOrDefault(u.borderWidth,a,c.borderWidth)},draw:function(){function t(t){return s[(u+t)%4]}var e=this._chart.ctx,a=this._view,i=a.height/2,n=a.y-i,o=a.y+i,r=a.base-(a.base-a.x),l=a.borderWidth/2;a.borderWidth&&(n+=l,o-=l,r+=l),e.beginPath(),e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth;var s=[[a.base,o],[a.base,n],[r,n],[r,o]],d=["bottom","left","top","right"],u=d.indexOf(a.borderSkipped,0);-1===u&&(u=0),e.moveTo.apply(e,t(0));for(var c=1;4>c;c++)e.lineTo.apply(e,t(c));e.fill(),a.borderWidth&&e.stroke()},inRange:function(t,e){var a=this._view,i=!1;return a&&(i=a.x<a.base?e>=a.y-a.height/2&&e<=a.y+a.height/2&&t>=a.x&&t<=a.base:e>=a.y-a.height/2&&e<=a.y+a.height/2&&t>=a.base&&t<=a.x),i}}),t.pivot()},calculateBarBase:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=0;
if(n.options.stacked){for(var r=a.chart,l=r.data.datasets,s=Number(l[t].data[e]),d=0;t>d;d++){var u=l[d],c=r.getDatasetMeta(d);if(c.bar&&c.xAxisID===n.id&&r.isDatasetVisible(d)){var h=Number(u.data[e]);o+=0>s?Math.min(h,0):Math.max(h,0)}}return n.getPixelForValue(o)}return n.getBasePixel()},getRuler:function(t){var e,a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=a.getBarCount();e="category"===n.options.type?n.getPixelForTick(t+1)-n.getPixelForTick(t):n.width/n.ticks.length;var r=e*n.options.categoryPercentage,l=(e-e*n.options.categoryPercentage)/2,s=r/o;if(n.ticks.length!==a.chart.data.labels.length){var d=n.ticks.length/a.chart.data.labels.length;s*=d}var u=s*n.options.barPercentage,c=s-s*n.options.barPercentage;return{datasetCount:o,tickHeight:e,categoryHeight:r,categorySpacing:l,fullBarHeight:s,barHeight:u,barSpacing:c}},calculateBarHeight:function(t){var e=this,a=e.getScaleForId(e.getMeta().yAxisID);if(a.options.barThickness)return a.options.barThickness;var i=e.getRuler(t);return a.options.stacked?i.categoryHeight:i.barHeight},calculateBarX:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=Number(a.getDataset().data[t]);if(n.options.stacked){for(var r=0,l=0,s=0;e>s;s++){var d=a.chart.data.datasets[s],u=a.chart.getDatasetMeta(s);if(u.bar&&u.xAxisID===n.id&&a.chart.isDatasetVisible(s)){var c=Number(d.data[t]);0>c?l+=c||0:r+=c||0}}return 0>o?n.getPixelForValue(l+o):n.getPixelForValue(r+o)}return n.getPixelForValue(o)},calculateBarY:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=a.getBarIndex(e),r=a.getRuler(t),l=n.getPixelForValue(null,t,e,a.chart.isCombo);return l-=a.chart.isCombo?r.tickHeight/2:0,n.options.stacked?l+r.categoryHeight/2+r.categorySpacing:l+r.barHeight/2+r.categorySpacing+r.barHeight*o+r.barSpacing/2+r.barSpacing*o}})}},{}],16:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var a=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return a+": ("+i.x+", "+i.y+", "+i.r+")"}}}},t.controllers.bubble=t.DatasetController.extend({dataElementType:t.elements.Point,update:function(t){var a=this,i=a.getMeta(),n=i.data;e.each(n,function(e,i){a.updateElement(e,i,t)})},updateElement:function(a,i,n){var o=this,r=o.getMeta(),l=o.getScaleForId(r.xAxisID),s=o.getScaleForId(r.yAxisID),d=a.custom||{},u=o.getDataset(),c=u.data[i],h=o.chart.options.elements.point,f=o.index;e.extend(a,{_xScale:l,_yScale:s,_datasetIndex:f,_index:i,_model:{x:n?l.getPixelForDecimal(.5):l.getPixelForValue("object"==typeof c?c:NaN,i,f,o.chart.isCombo),y:n?s.getBasePixel():s.getPixelForValue(c,i,f),radius:n?0:d.radius?d.radius:o.getRadius(c),hitRadius:d.hitRadius?d.hitRadius:e.getValueAtIndexOrDefault(u.hitRadius,i,h.hitRadius)}}),t.DatasetController.prototype.removeHoverStyle.call(o,a,h);var g=a._model;g.skip=d.skip?d.skip:isNaN(g.x)||isNaN(g.y),a.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},setHoverStyle:function(a){var i=this;t.DatasetController.prototype.setHoverStyle.call(i,a);var n=i.chart.data.datasets[a._datasetIndex],o=a._index,r=a.custom||{},l=a._model;l.radius=r.hoverRadius?r.hoverRadius:e.getValueAtIndexOrDefault(n.hoverRadius,o,i.chart.options.elements.point.hoverRadius)+i.getRadius(n.data[o])},removeHoverStyle:function(e){var a=this;t.DatasetController.prototype.removeHoverStyle.call(a,e,a.chart.options.elements.point);var i=a.chart.data.datasets[e._datasetIndex].data[e._index],n=e.custom||{},o=e._model;o.radius=n.radius?n.radius:a.getRadius(i)}})}},{}],17:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults;a.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var a=t.data,i=a.datasets,n=a.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),n[o]&&e.push(n[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var a=t.data;return a.labels.length&&a.datasets.length?a.labels.map(function(i,n){var o=t.getDatasetMeta(0),r=a.datasets[0],l=o.data[n],s=l&&l.custom||{},d=e.getValueAtIndexOrDefault,u=t.options.elements.arc,c=s.backgroundColor?s.backgroundColor:d(r.backgroundColor,n,u.backgroundColor),h=s.borderColor?s.borderColor:d(r.borderColor,n,u.borderColor),f=s.borderWidth?s.borderWidth:d(r.borderWidth,n,u.borderWidth);return{text:i,fillStyle:c,strokeStyle:h,lineWidth:f,hidden:isNaN(r.data[n])||o.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var a,i,n,o=e.index,r=this.chart;for(a=0,i=(r.data.datasets||[]).length;i>a;++a)n=r.getDatasetMeta(a),n.data[o]&&(n.data[o].hidden=!n.data[o].hidden);r.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+e.datasets[t.datasetIndex].data[t.index]}}}},a.pie=e.clone(a.doughnut),e.extend(a.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,getRingIndex:function(t){for(var e=0,a=0;t>a;++a)this.chart.isDatasetVisible(a)&&++e;return e},update:function(t){var a=this,i=a.chart,n=i.chartArea,o=i.options,r=o.elements.arc,l=n.right-n.left-r.borderWidth,s=n.bottom-n.top-r.borderWidth,d=Math.min(l,s),u={x:0,y:0},c=a.getMeta(),h=o.cutoutPercentage,f=o.circumference;if(f<2*Math.PI){var g=o.rotation%(2*Math.PI);g+=2*Math.PI*(g>=Math.PI?-1:g<-Math.PI?1:0);var p=g+f,m={x:Math.cos(g),y:Math.sin(g)},b={x:Math.cos(p),y:Math.sin(p)},v=0>=g&&p>=0||g<=2*Math.PI&&2*Math.PI<=p,x=g<=.5*Math.PI&&.5*Math.PI<=p||g<=2.5*Math.PI&&2.5*Math.PI<=p,y=g<=-Math.PI&&-Math.PI<=p||g<=Math.PI&&Math.PI<=p,k=g<=.5*-Math.PI&&.5*-Math.PI<=p||g<=1.5*Math.PI&&1.5*Math.PI<=p,S=h/100,w={x:y?-1:Math.min(m.x*(m.x<0?1:S),b.x*(b.x<0?1:S)),y:k?-1:Math.min(m.y*(m.y<0?1:S),b.y*(b.y<0?1:S))},C={x:v?1:Math.max(m.x*(m.x>0?1:S),b.x*(b.x>0?1:S)),y:x?1:Math.max(m.y*(m.y>0?1:S),b.y*(b.y>0?1:S))},M={width:.5*(C.x-w.x),height:.5*(C.y-w.y)};d=Math.min(l/M.width,s/M.height),u={x:(C.x+w.x)*-.5,y:(C.y+w.y)*-.5}}i.borderWidth=a.getMaxBorderWidth(c.data),i.outerRadius=Math.max((d-i.borderWidth)/2,0),i.innerRadius=Math.max(h?i.outerRadius/100*h:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=u.x*i.outerRadius,i.offsetY=u.y*i.outerRadius,c.total=a.calculateTotal(),a.outerRadius=i.outerRadius-i.radiusLength*a.getRingIndex(a.index),a.innerRadius=a.outerRadius-i.radiusLength,e.each(c.data,function(e,i){a.updateElement(e,i,t)})},updateElement:function(t,a,i){var n=this,o=n.chart,r=o.chartArea,l=o.options,s=l.animation,d=(r.left+r.right)/2,u=(r.top+r.bottom)/2,c=l.rotation,h=l.rotation,f=n.getDataset(),g=i&&s.animateRotate?0:t.hidden?0:n.calculateCircumference(f.data[a])*(l.circumference/(2*Math.PI)),p=i&&s.animateScale?0:n.innerRadius,m=i&&s.animateScale?0:n.outerRadius,b=e.getValueAtIndexOrDefault;e.extend(t,{_datasetIndex:n.index,_index:a,_model:{x:d+o.offsetX,y:u+o.offsetY,startAngle:c,endAngle:h,circumference:g,outerRadius:m,innerRadius:p,label:b(f.label,a,o.data.labels[a])}});var v=t._model;this.removeHoverStyle(t),i&&s.animateRotate||(0===a?v.startAngle=l.rotation:v.startAngle=n.getMeta().data[a-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,a=this.getDataset(),i=this.getMeta(),n=0;return e.each(i.data,function(e,i){t=a.data[i],isNaN(t)||e.hidden||(n+=Math.abs(t))}),n},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,a,i=0,n=this.index,o=t.length,r=0;o>r;r++)e=t[r]._model?t[r]._model.borderWidth:0,a=t[r]._chart?t[r]._chart.config.data.datasets[n].hoverBorderWidth:0,i=e>i?e:i,i=a>i?a:i;return i}})}},{}],18:[function(t,e,a){"use strict";e.exports=function(t){function e(t,e){return a.getValueOrDefault(t.showLine,e.showLines)}var a=t.helpers;t.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,addElementAndReset:function(a){var i=this,n=i.chart.options,o=i.getMeta();t.DatasetController.prototype.addElementAndReset.call(i,a),e(i.getDataset(),n)&&0!==o.dataset._model.tension&&i.updateBezierControlPoints()},update:function(t){var i,n,o,r=this,l=r.getMeta(),s=l.dataset,d=l.data||[],u=r.chart.options,c=u.elements.line,h=r.getScaleForId(l.yAxisID),f=r.getDataset(),g=e(f,u);for(g&&(o=s.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),s._scale=h,s._datasetIndex=r.index,s._children=d,s._model={spanGaps:f.spanGaps?f.spanGaps:u.spanGaps,tension:o.tension?o.tension:a.getValueOrDefault(f.lineTension,c.tension),backgroundColor:o.backgroundColor?o.backgroundColor:f.backgroundColor||c.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:f.borderWidth||c.borderWidth,borderColor:o.borderColor?o.borderColor:f.borderColor||c.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:f.borderCapStyle||c.borderCapStyle,borderDash:o.borderDash?o.borderDash:f.borderDash||c.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:f.borderDashOffset||c.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:f.borderJoinStyle||c.borderJoinStyle,fill:o.fill?o.fill:void 0!==f.fill?f.fill:c.fill,steppedLine:o.steppedLine?o.steppedLine:a.getValueOrDefault(f.steppedLine,c.stepped),cubicInterpolationMode:o.cubicInterpolationMode?o.cubicInterpolationMode:a.getValueOrDefault(f.cubicInterpolationMode,c.cubicInterpolationMode),scaleTop:h.top,scaleBottom:h.bottom,scaleZero:h.getBasePixel()},s.pivot()),i=0,n=d.length;n>i;++i)r.updateElement(d[i],i,t);for(g&&0!==s._model.tension&&r.updateBezierControlPoints(),i=0,n=d.length;n>i;++i)d[i].pivot()},getPointBackgroundColor:function(t,e){var i=this.chart.options.elements.point.backgroundColor,n=this.getDataset(),o=t.custom||{};return o.backgroundColor?i=o.backgroundColor:n.pointBackgroundColor?i=a.getValueAtIndexOrDefault(n.pointBackgroundColor,e,i):n.backgroundColor&&(i=n.backgroundColor),i},getPointBorderColor:function(t,e){var i=this.chart.options.elements.point.borderColor,n=this.getDataset(),o=t.custom||{};return o.borderColor?i=o.borderColor:n.pointBorderColor?i=a.getValueAtIndexOrDefault(n.pointBorderColor,e,i):n.borderColor&&(i=n.borderColor),i},getPointBorderWidth:function(t,e){var i=this.chart.options.elements.point.borderWidth,n=this.getDataset(),o=t.custom||{};return o.borderWidth?i=o.borderWidth:n.pointBorderWidth?i=a.getValueAtIndexOrDefault(n.pointBorderWidth,e,i):n.borderWidth&&(i=n.borderWidth),i},updateElement:function(t,e,i){var n,o,r=this,l=r.getMeta(),s=t.custom||{},d=r.getDataset(),u=r.index,c=d.data[e],h=r.getScaleForId(l.yAxisID),f=r.getScaleForId(l.xAxisID),g=r.chart.options.elements.point,p=r.chart.data.labels||[],m=1===p.length||1===d.data.length||r.chart.isCombo;void 0!==d.radius&&void 0===d.pointRadius&&(d.pointRadius=d.radius),void 0!==d.hitRadius&&void 0===d.pointHitRadius&&(d.pointHitRadius=d.hitRadius),n=f.getPixelForValue("object"==typeof c?c:NaN,e,u,m),o=i?h.getBasePixel():r.calculatePointY(c,e,u),t._xScale=f,t._yScale=h,t._datasetIndex=u,t._index=e,t._model={x:n,y:o,skip:s.skip||isNaN(n)||isNaN(o),radius:s.radius||a.getValueAtIndexOrDefault(d.pointRadius,e,g.radius),pointStyle:s.pointStyle||a.getValueAtIndexOrDefault(d.pointStyle,e,g.pointStyle),backgroundColor:r.getPointBackgroundColor(t,e),borderColor:r.getPointBorderColor(t,e),borderWidth:r.getPointBorderWidth(t,e),tension:l.dataset._model?l.dataset._model.tension:0,steppedLine:l.dataset._model?l.dataset._model.steppedLine:!1,hitRadius:s.hitRadius||a.getValueAtIndexOrDefault(d.pointHitRadius,e,g.hitRadius)}},calculatePointY:function(t,e,a){var i,n,o,r=this,l=r.chart,s=r.getMeta(),d=r.getScaleForId(s.yAxisID),u=0,c=0;if(d.options.stacked){for(i=0;a>i;i++)if(n=l.data.datasets[i],o=l.getDatasetMeta(i),"line"===o.type&&o.yAxisID===d.id&&l.isDatasetVisible(i)){var h=Number(d.getRightValue(n.data[e]));0>h?c+=h||0:u+=h||0}var f=Number(d.getRightValue(t));return 0>f?d.getPixelForValue(c+f):d.getPixelForValue(u+f)}return d.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,a){return Math.max(Math.min(t,a),e)}var e,i,n,o,r,l=this,s=l.getMeta(),d=l.chart.chartArea,u=s.data||[];if(s.dataset._model.spanGaps&&(u=u.filter(function(t){return!t._model.skip})),"monotone"===s.dataset._model.cubicInterpolationMode)a.splineCurveMonotone(u);else for(e=0,i=u.length;i>e;++e)n=u[e],o=n._model,r=a.splineCurve(a.previousItem(u,e)._model,o,a.nextItem(u,e)._model,s.dataset._model.tension),o.controlPointPreviousX=r.previous.x,o.controlPointPreviousY=r.previous.y,o.controlPointNextX=r.next.x,o.controlPointNextY=r.next.y;if(l.chart.options.elements.line.capBezierPoints)for(e=0,i=u.length;i>e;++e)o=u[e]._model,o.controlPointPreviousX=t(o.controlPointPreviousX,d.left,d.right),o.controlPointPreviousY=t(o.controlPointPreviousY,d.top,d.bottom),o.controlPointNextX=t(o.controlPointNextX,d.left,d.right),o.controlPointNextY=t(o.controlPointNextY,d.top,d.bottom)},draw:function(t){var a,i,n=this,o=n.getMeta(),r=o.data||[],l=t||1;for(a=0,i=r.length;i>a;++a)r[a].transition(l);for(e(n.getDataset(),n.chart.options)&&o.dataset.transition(l).draw(),a=0,i=r.length;i>a;++a)r[a].draw()},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model;o.radius=n.hoverRadius||a.getValueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=n.hoverBackgroundColor||a.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,i,a.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor||a.getValueAtIndexOrDefault(e.pointHoverBorderColor,i,a.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth||a.getValueAtIndexOrDefault(e.pointHoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var e=this,i=e.chart.data.datasets[t._datasetIndex],n=t._index,o=t.custom||{},r=t._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),r.radius=o.radius||a.getValueAtIndexOrDefault(i.pointRadius,n,e.chart.options.elements.point.radius),r.backgroundColor=e.getPointBackgroundColor(t,n),r.borderColor=e.getPointBorderColor(t,n),r.borderWidth=e.getPointBorderWidth(t,n)}})}},{}],19:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0,ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var a=t.data,i=a.datasets,n=a.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'">'),n[o]&&e.push(n[o]),e.push("</span></li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var a=t.data;return a.labels.length&&a.datasets.length?a.labels.map(function(i,n){var o=t.getDatasetMeta(0),r=a.datasets[0],l=o.data[n],s=l.custom||{},d=e.getValueAtIndexOrDefault,u=t.options.elements.arc,c=s.backgroundColor?s.backgroundColor:d(r.backgroundColor,n,u.backgroundColor),h=s.borderColor?s.borderColor:d(r.borderColor,n,u.borderColor),f=s.borderWidth?s.borderWidth:d(r.borderWidth,n,u.borderWidth);return{text:i,fillStyle:c,strokeStyle:h,lineWidth:f,hidden:isNaN(r.data[n])||o.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var a,i,n,o=e.index,r=this.chart;for(a=0,i=(r.data.datasets||[]).length;i>a;++a)n=r.getDatasetMeta(a),n.data[o].hidden=!n.data[o].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,update:function(t){var a=this,i=a.chart,n=i.chartArea,o=a.getMeta(),r=i.options,l=r.elements.arc,s=Math.min(n.right-n.left,n.bottom-n.top);i.outerRadius=Math.max((s-l.borderWidth/2)/2,0),i.innerRadius=Math.max(r.cutoutPercentage?i.outerRadius/100*r.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),a.outerRadius=i.outerRadius-i.radiusLength*a.index,a.innerRadius=a.outerRadius-i.radiusLength,o.count=a.countVisibleElements(),e.each(o.data,function(e,i){a.updateElement(e,i,t)})},updateElement:function(t,a,i){for(var n=this,o=n.chart,r=n.getDataset(),l=o.options,s=l.animation,d=o.scale,u=e.getValueAtIndexOrDefault,c=o.data.labels,h=n.calculateCircumference(r.data[a]),f=d.xCenter,g=d.yCenter,p=0,m=n.getMeta(),b=0;a>b;++b)isNaN(r.data[b])||m.data[b].hidden||++p;var v=l.startAngle,x=t.hidden?0:d.getDistanceFromCenterForValue(r.data[a]),y=v+h*p,k=y+(t.hidden?0:h),S=s.animateScale?0:d.getDistanceFromCenterForValue(r.data[a]);e.extend(t,{_datasetIndex:n.index,_index:a,_scale:d,_model:{x:f,y:g,innerRadius:0,outerRadius:i?S:x,startAngle:i&&s.animateRotate?v:y,endAngle:i&&s.animateRotate?v:k,label:u(c,a,c[a])}}),n.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),a=this.getMeta(),i=0;return e.each(a.data,function(e,a){isNaN(t.data[a])||e.hidden||i++}),i},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{}],20:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,linkScales:e.noop,addElementAndReset:function(e){t.DatasetController.prototype.addElementAndReset.call(this,e),this.updateBezierControlPoints()},update:function(t){var a=this,i=a.getMeta(),n=i.dataset,o=i.data,r=n.custom||{},l=a.getDataset(),s=a.chart.options.elements.line,d=a.chart.scale;void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),e.extend(i.dataset,{_datasetIndex:a.index,_children:o,_loop:!0,_model:{tension:r.tension?r.tension:e.getValueOrDefault(l.lineTension,s.tension),backgroundColor:r.backgroundColor?r.backgroundColor:l.backgroundColor||s.backgroundColor,borderWidth:r.borderWidth?r.borderWidth:l.borderWidth||s.borderWidth,borderColor:r.borderColor?r.borderColor:l.borderColor||s.borderColor,fill:r.fill?r.fill:void 0!==l.fill?l.fill:s.fill,borderCapStyle:r.borderCapStyle?r.borderCapStyle:l.borderCapStyle||s.borderCapStyle,borderDash:r.borderDash?r.borderDash:l.borderDash||s.borderDash,borderDashOffset:r.borderDashOffset?r.borderDashOffset:l.borderDashOffset||s.borderDashOffset,borderJoinStyle:r.borderJoinStyle?r.borderJoinStyle:l.borderJoinStyle||s.borderJoinStyle,scaleTop:d.top,scaleBottom:d.bottom,scaleZero:d.getBasePosition()}}),i.dataset.pivot(),e.each(o,function(e,i){a.updateElement(e,i,t)},a),a.updateBezierControlPoints()},updateElement:function(t,a,i){var n=this,o=t.custom||{},r=n.getDataset(),l=n.chart.scale,s=n.chart.options.elements.point,d=l.getPointPositionForValue(a,r.data[a]);e.extend(t,{_datasetIndex:n.index,_index:a,_scale:l,_model:{x:i?l.xCenter:d.x,y:i?l.yCenter:d.y,tension:o.tension?o.tension:e.getValueOrDefault(r.tension,n.chart.options.elements.line.tension),radius:o.radius?o.radius:e.getValueAtIndexOrDefault(r.pointRadius,a,s.radius),backgroundColor:o.backgroundColor?o.backgroundColor:e.getValueAtIndexOrDefault(r.pointBackgroundColor,a,s.backgroundColor),borderColor:o.borderColor?o.borderColor:e.getValueAtIndexOrDefault(r.pointBorderColor,a,s.borderColor),borderWidth:o.borderWidth?o.borderWidth:e.getValueAtIndexOrDefault(r.pointBorderWidth,a,s.borderWidth),pointStyle:o.pointStyle?o.pointStyle:e.getValueAtIndexOrDefault(r.pointStyle,a,s.pointStyle),hitRadius:o.hitRadius?o.hitRadius:e.getValueAtIndexOrDefault(r.hitRadius,a,s.hitRadius)}}),t._model.skip=o.skip?o.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,a=this.getMeta();e.each(a.data,function(i,n){var o=i._model,r=e.splineCurve(e.previousItem(a.data,n,!0)._model,o,e.nextItem(a.data,n,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(r.previous.x,t.right),t.left),o.controlPointPreviousY=Math.max(Math.min(r.previous.y,t.bottom),t.top),o.controlPointNextX=Math.max(Math.min(r.next.x,t.right),t.left),o.controlPointNextY=Math.max(Math.min(r.next.y,t.bottom),t.top),i.pivot()})},draw:function(t){var a=this.getMeta(),i=t||1;e.each(a.data,function(t){t.transition(i)}),a.dataset.transition(i).draw(),e.each(a.data,function(t){t.draw()})},setHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,o=t._model;o.radius=i.hoverRadius?i.hoverRadius:e.getValueAtIndexOrDefault(a.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:e.getValueAtIndexOrDefault(a.pointHoverBackgroundColor,n,e.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:e.getValueAtIndexOrDefault(a.pointHoverBorderColor,n,e.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:e.getValueAtIndexOrDefault(a.pointHoverBorderWidth,n,o.borderWidth)},removeHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,o=t._model,r=this.chart.options.elements.point;o.radius=i.radius?i.radius:e.getValueAtIndexOrDefault(a.radius,n,r.radius),o.backgroundColor=i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(a.pointBackgroundColor,n,r.backgroundColor),o.borderColor=i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(a.pointBorderColor,n,r.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(a.pointBorderWidth,n,r.borderWidth)}})}},{}],21:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:e.noop,onComplete:e.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,a,i){var n=this;i||(t.animating=!0);for(var o=0;o<n.animations.length;++o)if(n.animations[o].chartInstance===t)return void(n.animations[o].animationObject=e);n.animations.push({chartInstance:t,animationObject:e}),1===n.animations.length&&n.requestAnimationFrame()},cancelAnimation:function(t){var a=e.findIndex(this.animations,function(e){return e.chartInstance===t});-1!==a&&(this.animations.splice(a,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),a=0;t.dropFrames>1&&(a=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1);for(var i=0;i<t.animations.length;)null===t.animations[i].animationObject.currentStep&&(t.animations[i].animationObject.currentStep=0),t.animations[i].animationObject.currentStep+=1+a,t.animations[i].animationObject.currentStep>t.animations[i].animationObject.numSteps&&(t.animations[i].animationObject.currentStep=t.animations[i].animationObject.numSteps),t.animations[i].animationObject.render(t.animations[i].chartInstance,t.animations[i].animationObject),t.animations[i].animationObject.onAnimationProgress&&t.animations[i].animationObject.onAnimationProgress.call&&t.animations[i].animationObject.onAnimationProgress.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].animationObject.currentStep===t.animations[i].animationObject.numSteps?(t.animations[i].animationObject.onAnimationComplete&&t.animations[i].animationObject.onAnimationComplete.call&&t.animations[i].animationObject.onAnimationComplete.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].chartInstance.animating=!1,t.animations.splice(i,1)):++i;var n=Date.now(),o=(n-e)/t.frameDuration;t.dropFrames+=o,t.animations.length>0&&t.requestAnimationFrame()}}}},{}],22:[function(t,e,a){"use strict";e.exports=function(t){var e=t.canvasHelpers={};e.drawPoint=function(t,e,a,i,n){var o,r,l,s,d,u;if("object"==typeof e&&(o=e.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return void t.drawImage(e,i-e.width/2,n-e.height/2);if(!(isNaN(a)||0>=a)){switch(e){default:t.beginPath(),t.arc(i,n,a,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),r=3*a/Math.sqrt(3),d=r*Math.sqrt(3)/2,t.moveTo(i-r/2,n+d/3),t.lineTo(i+r/2,n+d/3),t.lineTo(i,n-2*d/3),t.closePath(),t.fill();break;case"rect":u=1/Math.SQRT2*a,t.beginPath(),t.fillRect(i-u,n-u,2*u,2*u),t.strokeRect(i-u,n-u,2*u,2*u);break;case"rectRot":u=1/Math.SQRT2*a,t.beginPath(),t.moveTo(i-u,n),t.lineTo(i,n+u),t.lineTo(i+u,n),t.lineTo(i,n-u),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(i,n+a),t.lineTo(i,n-a),t.moveTo(i-a,n),t.lineTo(i+a,n),t.closePath();break;case"crossRot":t.beginPath(),l=Math.cos(Math.PI/4)*a,s=Math.sin(Math.PI/4)*a,t.moveTo(i-l,n-s),t.lineTo(i+l,n+s),t.moveTo(i-l,n+s),t.lineTo(i+l,n-s),t.closePath();break;case"star":t.beginPath(),t.moveTo(i,n+a),t.lineTo(i,n-a),t.moveTo(i-a,n),t.lineTo(i+a,n),l=Math.cos(Math.PI/4)*a,s=Math.sin(Math.PI/4)*a,t.moveTo(i-l,n-s),t.lineTo(i+l,n+s),t.moveTo(i-l,n+s),t.lineTo(i+l,n-s),t.closePath();break;case"line":t.beginPath(),t.moveTo(i-a,n),t.lineTo(i+a,n),t.closePath();break;case"dash":t.beginPath(),t.moveTo(i,n),t.lineTo(i+a,n),t.closePath()}t.stroke()}}}},{}],23:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.types={},t.instances={},t.controllers={},t.Controller=function(a){return this.chart=a,this.config=a.config,this.options=this.config.options=e.configMerge(t.defaults.global,t.defaults[this.config.type],this.config.options||{}),this.id=e.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),t.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},e.extend(t.Controller.prototype,{initialize:function(){var e=this;return t.plugins.notify("beforeInit",[e]),e.bindEvents(),e.ensureScalesHaveIDs(),e.buildOrUpdateControllers(),e.buildScales(),e.updateLayout(),e.resetElements(),e.initToolTip(),e.update(),t.plugins.notify("afterInit",[e]),e},clear:function(){return e.clear(this.chart),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(a){var i=this,n=i.chart,o=n.canvas,r=e.getMaximumWidth(o),l=n.aspectRatio,s=i.options.maintainAspectRatio&&isNaN(l)===!1&&isFinite(l)&&0!==l?r/l:e.getMaximumHeight(o),d=n.width!==r||n.height!==s;if(!d)return i;o.width=n.width=r,o.height=n.height=s,e.retinaScale(n);var u={width:r,height:s};return t.plugins.notify("resize",[i,u]),i.options.onResize&&i.options.onResize(i,u),a||(i.stop(),i.update(i.options.responsiveAnimationDuration)),i},ensureScalesHaveIDs:function(){var t=this.options,a=t.scales||{},i=t.scale;e.each(a.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),e.each(a.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),i&&(i.id=i.id||"scale")},buildScales:function(){var a=this,i=a.options,n=a.scales={},o=[];i.scales&&(o=o.concat((i.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category"}}),(i.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear"}}))),i.scale&&o.push({options:i.scale,dtype:"radialLinear",isDefault:!0}),e.each(o,function(i){var o=i.options,r=e.getValueOrDefault(o.type,i.dtype),l=t.scaleService.getScaleConstructor(r);if(l){var s=new l({id:o.id,options:o,ctx:a.chart.ctx,chart:a});n[s.id]=s,i.isDefault&&(a.scale=s)}}),t.scaleService.addScalesToLayout(this)},updateLayout:function(){t.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var a=this,i=[],n=[];if(e.each(a.data.datasets,function(e,o){var r=a.getDatasetMeta(o);r.type||(r.type=e.type||a.config.type),i.push(r.type),r.controller?r.controller.updateIndex(o):(r.controller=new t.controllers[r.type](a,o),n.push(r.controller))},a),i.length>1)for(var o=1;o<i.length;o++)if(i[o]!==i[o-1]){a.isCombo=!0;break}return n},resetElements:function(){var t=this;e.each(t.data.datasets,function(e,a){t.getDatasetMeta(a).controller.reset()},t)},update:function(a,i){var n=this;t.plugins.notify("beforeUpdate",[n]),n.tooltip._data=n.data;var o=n.buildOrUpdateControllers();e.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.buildOrUpdateElements()},n),t.layoutService.update(n,n.chart.width,n.chart.height),t.plugins.notify("afterScaleUpdate",[n]),e.each(o,function(t){t.reset()}),n.updateDatasets(),t.plugins.notify("afterUpdate",[n]),n.render(a,i)},updateDatasets:function(){var e,a,i=this;if(t.plugins.notify("beforeDatasetsUpdate",[i])){for(e=0,a=i.data.datasets.length;a>e;++e)i.getDatasetMeta(e).controller.update();t.plugins.notify("afterDatasetsUpdate",[i])}},render:function(a,i){var n=this;t.plugins.notify("beforeRender",[n]);var o=n.options.animation;if(o&&("undefined"!=typeof a&&0!==a||"undefined"==typeof a&&0!==o.duration)){var r=new t.Animation;r.numSteps=(a||o.duration)/16.66,r.easing=o.easing,r.render=function(t,a){var i=e.easingEffects[a.easing],n=a.currentStep/a.numSteps,o=i(n);t.draw(o,n,a.currentStep)},r.onAnimationProgress=o.onProgress,r.onAnimationComplete=o.onComplete,t.animationService.addAnimation(n,r,a,i)}else n.draw(),o&&o.onComplete&&o.onComplete.call&&o.onComplete.call(n);return n},draw:function(a){var i=this,n=a||1;i.clear(),t.plugins.notify("beforeDraw",[i,n]),e.each(i.boxes,function(t){t.draw(i.chartArea)},i),i.scale&&i.scale.draw(),t.plugins.notify("beforeDatasetsDraw",[i,n]),e.each(i.data.datasets,function(t,e){i.isDatasetVisible(e)&&i.getDatasetMeta(e).controller.draw(a)},i,!0),t.plugins.notify("afterDatasetsDraw",[i,n]),i.tooltip.transition(n).draw(),t.plugins.notify("afterDraw",[i,n])},getElementAtEvent:function(t){var a=this,i=e.getRelativePosition(t,a.chart),n=[];return e.each(a.data.datasets,function(t,o){if(a.isDatasetVisible(o)){var r=a.getDatasetMeta(o);e.each(r.data,function(t){return t.inRange(i.x,i.y)?(n.push(t),n):void 0})}}),n.slice(0,1)},getElementsAtEvent:function(t){var a=this,i=e.getRelativePosition(t,a.chart),n=[],o=function(){if(a.data.datasets)for(var t=0;t<a.data.datasets.length;t++){var e=a.getDatasetMeta(t);if(a.isDatasetVisible(t))for(var n=0;n<e.data.length;n++)if(e.data[n].inRange(i.x,i.y))return e.data[n]}}.call(a);return o?(e.each(a.data.datasets,function(t,e){if(a.isDatasetVisible(e)){var i=a.getDatasetMeta(e),r=i.data[o._index];r&&!r._view.skip&&n.push(r)}},a),n):n},getElementsAtXAxis:function(t){var a=this,i=e.getRelativePosition(t,a.chart),n=[],o=function(){if(a.data.datasets)for(var t=0;t<a.data.datasets.length;t++){var e=a.getDatasetMeta(t);if(a.isDatasetVisible(t))for(var n=0;n<e.data.length;n++)if(e.data[n].inLabelRange(i.x,i.y))return e.data[n]}}.call(a);return o?(e.each(a.data.datasets,function(t,i){if(a.isDatasetVisible(i)){var r=a.getDatasetMeta(i),l=e.findIndex(r.data,function(t){return o._model.x===t._model.x});-1===l||r.data[l]._view.skip||n.push(r.data[l])}},a),n):n},getElementsAtEventForMode:function(t,e){var a=this;switch(e){case"single":return a.getElementAtEvent(t);case"label":return a.getElementsAtEvent(t);case"dataset":return a.getDatasetAtEvent(t);case"x-axis":return a.getElementsAtXAxis(t);default:return t}},getDatasetAtEvent:function(t){var e=this.getElementAtEvent(t);
return e.length>0&&(e=this.getDatasetMeta(e[0]._datasetIndex).data),e},getDatasetMeta:function(t){var e=this,a=e.data.datasets[t];a._meta||(a._meta={});var i=a._meta[e.id];return i||(i=a._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,a=this.data.datasets.length;a>e;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var a=this;a.stop(),a.clear(),e.unbindEvents(a,a.events),e.removeResizeListener(a.chart.canvas.parentNode);var i=a.chart.canvas;i.width=a.chart.width,i.height=a.chart.height,void 0!==a.chart.originalDevicePixelRatio&&a.chart.ctx.scale(1/a.chart.originalDevicePixelRatio,1/a.chart.originalDevicePixelRatio),i.style.width=a.chart.originalCanvasStyleWidth,i.style.height=a.chart.originalCanvasStyleHeight,t.plugins.notify("destroy",[a]),delete t.instances[a.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e.chart,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var t=this;e.bindEvents(t,t.options.events,function(e){t.eventHandler(e)})},updateHoverStyle:function(t,e,a){var i,n,o,r=a?"setHoverStyle":"removeHoverStyle";switch(e){case"single":t=[t[0]];break;case"label":case"dataset":case"x-axis":break;default:return}for(n=0,o=t.length;o>n;++n)i=t[n],i&&this.getDatasetMeta(i._datasetIndex).controller[r](i)},eventHandler:function(t){var a=this,i=a.tooltip,n=a.options||{},o=n.hover,r=n.tooltips;return a.lastActive=a.lastActive||[],a.lastTooltipActive=a.lastTooltipActive||[],"mouseout"===t.type?(a.active=[],a.tooltipActive=[]):(a.active=a.getElementsAtEventForMode(t,o.mode),a.tooltipActive=a.getElementsAtEventForMode(t,r.mode)),o.onHover&&o.onHover.call(a,a.active),a.legend&&a.legend.handleEvent&&a.legend.handleEvent(t),("mouseup"===t.type||"click"===t.type)&&n.onClick&&n.onClick.call(a,t,a.active),a.lastActive.length&&a.updateHoverStyle(a.lastActive,o.mode,!1),a.active.length&&o.mode&&a.updateHoverStyle(a.active,o.mode,!0),(r.enabled||r.custom)&&(i.initialize(),i._active=a.tooltipActive,i.update(!0)),i.pivot(),a.animating||e.arrayEquals(a.active,a.lastActive)&&e.arrayEquals(a.tooltipActive,a.lastTooltipActive)||(a.stop(),(r.enabled||r.custom)&&i.update(!0),a.render(o.animationDuration,!0)),a.lastActive=a.active,a.lastTooltipActive=a.tooltipActive,a}})}},{}],24:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=e.noop;t.DatasetController=function(t,e){this.initialize(t,e)},e.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var a=this;a.chart=t,a.index=e,a.linkScales(),a.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),a=t.getDataset();null===e.xAxisID&&(e.xAxisID=a.xAxisID||t.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=a.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,a=e.dataElementType;return a&&new a({_chart:e.chart.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,a=this,i=a.getMeta(),n=a.getDataset().data||[],o=i.data;for(t=0,e=n.length;e>t;++t)o[t]=o[t]||a.createMetaData(i,t);i.dataset=i.dataset||a.createMetaDataset()},addElementAndReset:function(t){var e=this,a=e.createMetaData(t);e.getMeta().data.splice(t,0,a),e.updateElement(a,t,!0)},buildOrUpdateElements:function(){var t=this.getMeta(),e=t.data,a=this.getDataset().data.length,i=e.length;if(i>a)e.splice(a,i-a);else if(a>i)for(var n=i;a>n;++n)this.addElementAndReset(n)},update:a,draw:function(t){var a=t||1;e.each(this.getMeta().data,function(t){t.transition(a).draw()})},removeHoverStyle:function(t,a){var i=this.chart.data.datasets[t._datasetIndex],n=t._index,o=t.custom||{},r=e.getValueAtIndexOrDefault,l=t._model;l.backgroundColor=o.backgroundColor?o.backgroundColor:r(i.backgroundColor,n,a.backgroundColor),l.borderColor=o.borderColor?o.borderColor:r(i.borderColor,n,a.borderColor),l.borderWidth=o.borderWidth?o.borderWidth:r(i.borderWidth,n,a.borderWidth)},setHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=e.getValueAtIndexOrDefault,r=e.getHoverColor,l=t._model;l.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:o(a.hoverBackgroundColor,i,r(l.backgroundColor)),l.borderColor=n.hoverBorderColor?n.hoverBorderColor:o(a.hoverBorderColor,i,r(l.borderColor)),l.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:o(a.hoverBorderWidth,i,l.borderWidth)}}),t.DatasetController.extend=e.inherits}},{}],25:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.elements={},t.Element=function(t){e.extend(this,t),this.initialize.apply(this,arguments)},e.extend(t.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=e.clone(t._model)),t._start=e.clone(t._view),t},transition:function(t){var a=this;return a._view||(a._view=e.clone(a._model)),1===t?(a._view=a._model,a._start=null,a):(a._start||a.pivot(),e.each(a._model,function(i,n){if("_"===n[0]);else if(a._view.hasOwnProperty(n))if(i===a._view[n]);else if("string"==typeof i)try{var o=e.color(a._model[n]).mix(e.color(a._start[n]),t);a._view[n]=o.rgbString()}catch(r){a._view[n]=i}else if("number"==typeof i){var l=void 0!==a._start[n]&&isNaN(a._start[n])===!1?a._start[n]:0;a._view[n]=(a._model[n]-l)*t+l}else a._view[n]=i;else"number"!=typeof i||isNaN(a._view[n])?a._view[n]=i:a._view[n]=i*t},a),a)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return e.isNumber(this._model.x)&&e.isNumber(this._model.y)}}),t.Element.extend=e.inherits}},{}],26:[function(t,e,a){"use strict";var i=t(3);e.exports=function(t){function e(t,e,a){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[a])):i=t,i}function a(t){return void 0!==t&&null!==t&&"none"!==t}function n(t,i,n){var o=document.defaultView,r=t.parentNode,l=o.getComputedStyle(t)[i],s=o.getComputedStyle(r)[i],d=a(l),u=a(s),c=Number.POSITIVE_INFINITY;return d||u?Math.min(d?e(l,t,n):c,u?e(s,r,n):c):"none"}var o=t.helpers={};o.each=function(t,e,a,i){var n,r;if(o.isArray(t))if(r=t.length,i)for(n=r-1;n>=0;n--)e.call(a,t[n],n);else for(n=0;r>n;n++)e.call(a,t[n],n);else if("object"==typeof t){var l=Object.keys(t);for(r=l.length,n=0;r>n;n++)e.call(a,t[l[n]],l[n])}},o.clone=function(t){var e={};return o.each(t,function(t,a){o.isArray(t)?e[a]=t.slice(0):"object"==typeof t&&null!==t?e[a]=o.clone(t):e[a]=t}),e},o.extend=function(t){for(var e=function(e,a){t[a]=e},a=1,i=arguments.length;i>a;a++)o.each(arguments[a],e);return t},o.configMerge=function(e){var a=o.clone(e);return o.each(Array.prototype.slice.call(arguments,1),function(e){o.each(e,function(e,i){if("scales"===i)a[i]=o.scaleMerge(a.hasOwnProperty(i)?a[i]:{},e);else if("scale"===i)a[i]=o.configMerge(a.hasOwnProperty(i)?a[i]:{},t.scaleService.getScaleDefaults(e.type),e);else if(a.hasOwnProperty(i)&&o.isArray(a[i])&&o.isArray(e)){var n=a[i];o.each(e,function(t,e){e<n.length?"object"==typeof n[e]&&null!==n[e]&&"object"==typeof t&&null!==t?n[e]=o.configMerge(n[e],t):n[e]=t:n.push(t)})}else a.hasOwnProperty(i)&&"object"==typeof a[i]&&null!==a[i]&&"object"==typeof e?a[i]=o.configMerge(a[i],e):a[i]=e})}),a},o.scaleMerge=function(e,a){var i=o.clone(e);return o.each(a,function(e,a){"xAxes"===a||"yAxes"===a?i.hasOwnProperty(a)?o.each(e,function(e,n){var r=o.getValueOrDefault(e.type,"xAxes"===a?"category":"linear"),l=t.scaleService.getScaleDefaults(r);n>=i[a].length||!i[a][n].type?i[a].push(o.configMerge(l,e)):e.type&&e.type!==i[a][n].type?i[a][n]=o.configMerge(i[a][n],l,e):i[a][n]=o.configMerge(i[a][n],e)}):(i[a]=[],o.each(e,function(e){var n=o.getValueOrDefault(e.type,"xAxes"===a?"category":"linear");i[a].push(o.configMerge(t.scaleService.getScaleDefaults(n),e))})):i.hasOwnProperty(a)&&"object"==typeof i[a]&&null!==i[a]&&"object"==typeof e?i[a]=o.configMerge(i[a],e):i[a]=e}),i},o.getValueAtIndexOrDefault=function(t,e,a){return void 0===t||null===t?a:o.isArray(t)?e<t.length?t[e]:a:t},o.getValueOrDefault=function(t,e){return void 0===t?e:t},o.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var a=0,i=t.length;i>a;++a)if(t[a]===e)return a;return-1},o.where=function(t,e){if(o.isArray(t)&&Array.prototype.filter)return t.filter(e);var a=[];return o.each(t,function(t){e(t)&&a.push(t)}),a},o.findIndex=Array.prototype.findIndex?function(t,e,a){return t.findIndex(e,a)}:function(t,e,a){a=void 0===a?t:a;for(var i=0,n=t.length;n>i;++i)if(e.call(a,t[i],i,t))return i;return-1},o.findNextWhere=function(t,e,a){(void 0===a||null===a)&&(a=-1);for(var i=a+1;i<t.length;i++){var n=t[i];if(e(n))return n}},o.findPreviousWhere=function(t,e,a){(void 0===a||null===a)&&(a=t.length);for(var i=a-1;i>=0;i--){var n=t[i];if(e(n))return n}},o.inherits=function(t){var e=this,a=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=a};return i.prototype=e.prototype,a.prototype=new i,a.extend=o.inherits,t&&o.extend(a.prototype,t),a.__super__=e.prototype,a},o.noop=function(){},o.uid=function(){var t=0;return function(){return t++}}(),o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,a){return Math.abs(t-e)<a},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},o.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var a=e.x-t.x,i=e.y-t.y,n=Math.sqrt(a*a+i*i),o=Math.atan2(i,a);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:n}},o.aliasPixel=function(t){return t%2===0?0:.5},o.splineCurve=function(t,e,a,i){var n=t.skip?e:t,o=e,r=a.skip?e:a,l=Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2)),s=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),d=l/(l+s),u=s/(l+s);d=isNaN(d)?0:d,u=isNaN(u)?0:u;var c=i*d,h=i*u;return{previous:{x:o.x-c*(r.x-n.x),y:o.y-c*(r.y-n.y)},next:{x:o.x+h*(r.x-n.x),y:o.y+h*(r.y-n.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(t){var e,a,i,n,r=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),l=r.length;for(e=0;l>e;++e)i=r[e],i.model.skip||(a=e>0?r[e-1]:null,n=l-1>e?r[e+1]:null,n&&!n.model.skip&&(i.deltaK=(n.model.y-i.model.y)/(n.model.x-i.model.x)),!a||a.model.skip?i.mK=i.deltaK:!n||n.model.skip?i.mK=a.deltaK:this.sign(a.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(a.deltaK+i.deltaK)/2);var s,d,u,c;for(e=0;l-1>e;++e)i=r[e],n=r[e+1],i.model.skip||n.model.skip||(o.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=n.mK=0:(s=i.mK/i.deltaK,d=n.mK/i.deltaK,c=Math.pow(s,2)+Math.pow(d,2),9>=c||(u=3/Math.sqrt(c),i.mK=s*u*i.deltaK,n.mK=d*u*i.deltaK)));var h;for(e=0;l>e;++e)i=r[e],i.model.skip||(a=e>0?r[e-1]:null,n=l-1>e?r[e+1]:null,a&&!a.model.skip&&(h=(i.model.x-a.model.x)/3,i.model.controlPointPreviousX=i.model.x-h,i.model.controlPointPreviousY=i.model.y-h*i.mK),n&&!n.model.skip&&(h=(n.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+h,i.model.controlPointNextY=i.model.y+h*i.mK))},o.nextItem=function(t,e,a){return a?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,a){return a?0>=e?t[t.length-1]:t[e-1]:0>=e?t[0]:t[e-1]},o.niceNum=function(t,e){var a,i=Math.floor(o.log10(t)),n=t/Math.pow(10,i);return a=e?1.5>n?1:3>n?2:7>n?5:10:1>=n?1:2>=n?2:5>=n?5:10,a*Math.pow(10,i)};var r=o.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,a=0,i=1;return 0===t?0:1===(t/=1)?1:(a||(a=.3),i<Math.abs(1)?(i=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/a)))},easeOutElastic:function(t){var e=1.70158,a=0,i=1;return 0===t?0:1===(t/=1)?1:(a||(a=.3),i<Math.abs(1)?(i=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/a)+1)},easeInOutElastic:function(t){var e=1.70158,a=0,i=1;return 0===t?0:2===(t/=.5)?1:(a||(a=1*(.3*1.5)),i<Math.abs(1)?(i=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/i),1>t?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/a)):i*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/a)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-r.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*r.easeInBounce(2*t):.5*r.easeOutBounce(2*t-1)+.5}};o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),o.getRelativePosition=function(t,e){var a,i,n=t.originalEvent||t,r=t.currentTarget||t.srcElement,l=r.getBoundingClientRect(),s=n.touches;s&&s.length>0?(a=s[0].clientX,i=s[0].clientY):(a=n.clientX,i=n.clientY);var d=parseFloat(o.getStyle(r,"padding-left")),u=parseFloat(o.getStyle(r,"padding-top")),c=parseFloat(o.getStyle(r,"padding-right")),h=parseFloat(o.getStyle(r,"padding-bottom")),f=l.right-l.left-d-c,g=l.bottom-l.top-u-h;return a=Math.round((a-l.left-d)/f*r.width/e.currentDevicePixelRatio),i=Math.round((i-l.top-u)/g*r.height/e.currentDevicePixelRatio),{x:a,y:i}},o.addEvent=function(t,e,a){t.addEventListener?t.addEventListener(e,a):t.attachEvent?t.attachEvent("on"+e,a):t["on"+e]=a},o.removeEvent=function(t,e,a){t.removeEventListener?t.removeEventListener(e,a,!1):t.detachEvent?t.detachEvent("on"+e,a):t["on"+e]=o.noop},o.bindEvents=function(t,e,a){var i=t.events=t.events||{};o.each(e,function(e){i[e]=function(){a.apply(t,arguments)},o.addEvent(t.chart.canvas,e,i[e])})},o.unbindEvents=function(t,e){var a=t.chart.canvas;o.each(e,function(t,e){o.removeEvent(a,e,t)})},o.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},o.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},o.getMaximumWidth=function(t){var e=t.parentNode,a=parseInt(o.getStyle(e,"padding-left"),10),i=parseInt(o.getStyle(e,"padding-right"),10),n=e.clientWidth-a-i,r=o.getConstraintWidth(t);return isNaN(r)?n:Math.min(n,r)},o.getMaximumHeight=function(t){var e=t.parentNode,a=parseInt(o.getStyle(e,"padding-top"),10),i=parseInt(o.getStyle(e,"padding-bottom"),10),n=e.clientHeight-a-i,r=o.getConstraintHeight(t);return isNaN(r)?n:Math.min(n,r)},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t){var e=t.ctx,a=t.canvas,i=a.width,n=a.height,o=t.currentDevicePixelRatio=window.devicePixelRatio||1;1!==o&&(a.height=n*o,a.width=i*o,e.scale(o,o),t.originalDevicePixelRatio=t.originalDevicePixelRatio||o),a.style.width=i+"px",a.style.height=n+"px"},o.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},o.fontString=function(t,e,a){return e+" "+t+"px "+a},o.longestText=function(t,e,a,i){i=i||{};var n=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(n=i.data={},r=i.garbageCollect=[],i.font=e),t.font=e;var l=0;o.each(a,function(e){void 0!==e&&null!==e&&o.isArray(e)!==!0?l=o.measureText(t,n,r,l,e):o.isArray(e)&&o.each(e,function(e){void 0===e||null===e||o.isArray(e)||(l=o.measureText(t,n,r,l,e))})});var s=r.length/2;if(s>a.length){for(var d=0;s>d;d++)delete n[r[d]];r.splice(0,s)}return l},o.measureText=function(t,e,a,i,n){var o=e[n];return o||(o=e[n]=t.measureText(n).width,a.push(n)),o>i&&(i=o),i},o.numberOfLabelLines=function(t){var e=1;return o.each(t,function(t){o.isArray(t)&&t.length>e&&(e=t.length)}),e},o.drawRoundedRectangle=function(t,e,a,i,n,o){t.beginPath(),t.moveTo(e+o,a),t.lineTo(e+i-o,a),t.quadraticCurveTo(e+i,a,e+i,a+o),t.lineTo(e+i,a+n-o),t.quadraticCurveTo(e+i,a+n,e+i-o,a+n),t.lineTo(e+o,a+n),t.quadraticCurveTo(e,a+n,e,a+n-o),t.lineTo(e,a+o),t.quadraticCurveTo(e,a,e+o,a),t.closePath()},o.color=function(e){return i?i(e instanceof CanvasGradient?t.defaults.global.defaultColor:e):(console.error("Color.js not found!"),e)},o.addResizeListener=function(t,e){var a=document.createElement("iframe"),i="chartjs-hidden-iframe";a.classlist?a.classlist.add(i):a.setAttribute("class",i),a.tabIndex=-1;var n=a.style;n.width="100%",n.display="block",n.border=0,n.height=0,n.margin=0,n.position="absolute",n.left=0,n.right=0,n.top=0,n.bottom=0,t.insertBefore(a,t.firstChild),(a.contentWindow||a).onresize=function(){return e?e():void 0}},o.removeResizeListener=function(t){var e=t.querySelector(".chartjs-hidden-iframe");e&&e.parentNode.removeChild(e)},o.isArray=Array.isArray?function(t){return Array.isArray(t)}:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o.arrayEquals=function(t,e){var a,i,n,r;if(!t||!e||t.length!==e.length)return!1;for(a=0,i=t.length;i>a;++a)if(n=t[a],r=e[a],n instanceof Array&&r instanceof Array){if(!o.arrayEquals(n,r))return!1}else if(n!==r)return!1;return!0},o.callCallback=function(t,e,a){t&&"function"==typeof t.call&&t.apply(a,e)},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},{3:3}],27:[function(t,e,a){"use strict";e.exports=function(){var t=function(e,a){var i=this,n=t.helpers;return i.config=a||{data:{datasets:[]}},e.length&&e[0].getContext&&(e=e[0]),e.getContext&&(e=e.getContext("2d")),i.ctx=e,i.canvas=e.canvas,e.canvas.style.display=e.canvas.style.display||"block",i.width=e.canvas.width||parseInt(n.getStyle(e.canvas,"width"),10)||n.getMaximumWidth(e.canvas),i.height=e.canvas.height||parseInt(n.getStyle(e.canvas,"height"),10)||n.getMaximumHeight(e.canvas),i.aspectRatio=i.width/i.height,(isNaN(i.aspectRatio)||isFinite(i.aspectRatio)===!1)&&(i.aspectRatio=void 0!==a.aspectRatio?a.aspectRatio:2),i.originalCanvasStyleWidth=e.canvas.style.width,i.originalCanvasStyleHeight=e.canvas.style.height,n.retinaScale(i),i.controller=new t.Controller(i),n.addResizeListener(e.canvas.parentNode,function(){i.controller&&i.controller.config.options.responsive&&i.controller.resize()}),i.controller?i.controller:i};return t.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var a=0;a<t.data.datasets.length;a++)e.push('<li><span style="background-color:'+t.data.datasets[a].backgroundColor+'"></span>'),t.data.datasets[a].label&&e.push(t.data.datasets[a].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},t.Chart=t,t}},{}],28:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(t,a,i){function n(t){var e,a=t.isHorizontal();a?(e=t.update(t.options.fullWidth?p:k,y),S-=e.height):(e=t.update(x,v),k-=e.width),w.push({horizontal:a,minSize:e,box:t})}function o(t){var a=e.findNextWhere(w,function(e){return e.box===t});if(a)if(t.isHorizontal()){var i={left:C,right:M,top:0,bottom:0};t.update(t.options.fullWidth?p:k,m/2,i)}else t.update(a.minSize.width,S)}function r(t){var a=e.findNextWhere(w,function(e){return e.box===t}),i={left:0,right:0,top:D,bottom:I};a&&t.update(a.minSize.width,S,i)}function l(t){t.isHorizontal()?(t.left=t.options.fullWidth?s:C,t.right=t.options.fullWidth?a-s:C+k,t.top=F,t.bottom=F+t.height,F=t.bottom):(t.left=P,t.right=P+t.width,t.top=D,t.bottom=D+S,P=t.right)}if(t){var s=0,d=0,u=e.where(t.boxes,function(t){return"left"===t.options.position}),c=e.where(t.boxes,function(t){return"right"===t.options.position}),h=e.where(t.boxes,function(t){return"top"===t.options.position}),f=e.where(t.boxes,function(t){return"bottom"===t.options.position}),g=e.where(t.boxes,function(t){return"chartArea"===t.options.position});h.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),f.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var p=a-2*s,m=i-2*d,b=p/2,v=m/2,x=(a-b)/(u.length+c.length),y=(i-v)/(h.length+f.length),k=p,S=m,w=[];e.each(u.concat(c,h,f),n);var C=s,M=s,D=d,I=d;e.each(u.concat(c),o),e.each(u,function(t){C+=t.width}),e.each(c,function(t){M+=t.width}),e.each(h.concat(f),o),e.each(h,function(t){D+=t.height}),e.each(f,function(t){I+=t.height}),e.each(u.concat(c),r),C=s,M=s,D=d,I=d,e.each(u,function(t){C+=t.width}),e.each(c,function(t){M+=t.width}),e.each(h,function(t){D+=t.height}),e.each(f,function(t){I+=t.height});var A=i-D-I,T=a-C-M;(T!==k||A!==S)&&(e.each(u,function(t){t.height=A}),e.each(c,function(t){t.height=A}),e.each(h,function(t){t.options.fullWidth||(t.width=T)}),e.each(f,function(t){t.options.fullWidth||(t.width=T)}),S=A,k=T);var P=s,F=d;e.each(u.concat(h),l),P+=k,F+=S,e.each(c,l),e.each(f,l),t.chartArea={left:C,top:D,right:C+k,bottom:D+S},e.each(g,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(k,S)})}}}}},{}],29:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=e.noop;t.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var a=e.datasetIndex,i=this.chart,n=i.getDatasetMeta(a);n.hidden=null===n.hidden?!i.data.datasets[a].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var a=t.data;return e.isArray(a.datasets)?a.datasets.map(function(a,i){return{text:a.label,fillStyle:e.isArray(a.backgroundColor)?a.backgroundColor[0]:a.backgroundColor,hidden:!t.isDatasetVisible(i),lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:a.borderWidth,strokeStyle:a.borderColor,pointStyle:a.pointStyle,datasetIndex:i}},this):[]}}},t.Legend=t.Element.extend({initialize:function(t){e.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:a,update:function(t,e,a){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=a,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:a,beforeSetDimensions:a,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:a,beforeBuildLabels:a,buildLabels:function(){var t=this;t.legendItems=t.options.labels.generateLabels.call(t,t.chart),t.options.reverse&&t.legendItems.reverse()},afterBuildLabels:a,beforeFit:a,fit:function(){var a=this,i=a.options,n=i.labels,o=i.display,r=a.ctx,l=t.defaults.global,s=e.getValueOrDefault,d=s(n.fontSize,l.defaultFontSize),u=s(n.fontStyle,l.defaultFontStyle),c=s(n.fontFamily,l.defaultFontFamily),h=e.fontString(d,u,c),f=a.legendHitBoxes=[],g=a.minSize,p=a.isHorizontal();if(p?(g.width=a.maxWidth,g.height=o?10:0):(g.width=o?10:0,g.height=a.maxHeight),o)if(r.font=h,p){var m=a.lineWidths=[0],b=a.legendItems.length?d+n.padding:0;r.textAlign="left",r.textBaseline="top",e.each(a.legendItems,function(t,e){var i=n.usePointStyle?d*Math.sqrt(2):n.boxWidth,o=i+d/2+r.measureText(t.text).width;m[m.length-1]+o+n.padding>=a.width&&(b+=d+n.padding,m[m.length]=a.left),f[e]={left:0,top:0,width:o,height:d},m[m.length-1]+=o+n.padding}),g.height+=b}else{var v=n.padding,x=a.columnWidths=[],y=n.padding,k=0,S=0,w=d+v;e.each(a.legendItems,function(t,e){var a=n.usePointStyle?2*n.boxWidth:n.boxWidth,i=a+d/2+r.measureText(t.text).width;S+w>g.height&&(y+=k+n.padding,x.push(k),k=0,S=0),k=Math.max(k,i),S+=w,f[e]={left:0,top:0,width:i,height:d}}),y+=k,x.push(k),g.width+=y}a.width=g.width,a.height=g.height},afterFit:a,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var a=this,i=a.options,n=i.labels,o=t.defaults.global,r=o.elements.line,l=a.width,s=a.lineWidths;if(i.display){var d,u=a.ctx,c=e.getValueOrDefault,h=c(n.fontColor,o.defaultFontColor),f=c(n.fontSize,o.defaultFontSize),g=c(n.fontStyle,o.defaultFontStyle),p=c(n.fontFamily,o.defaultFontFamily),m=e.fontString(f,g,p);u.textAlign="left",u.textBaseline="top",u.lineWidth=.5,u.strokeStyle=h,u.fillStyle=h,u.font=m;var b=n.boxWidth,v=a.legendHitBoxes,x=function(e,a,n){if(!(isNaN(b)||0>=b)){u.save(),u.fillStyle=c(n.fillStyle,o.defaultColor),u.lineCap=c(n.lineCap,r.borderCapStyle),u.lineDashOffset=c(n.lineDashOffset,r.borderDashOffset),u.lineJoin=c(n.lineJoin,r.borderJoinStyle),u.lineWidth=c(n.lineWidth,r.borderWidth),u.strokeStyle=c(n.strokeStyle,o.defaultColor);var l=0===c(n.lineWidth,r.borderWidth);if(u.setLineDash&&u.setLineDash(c(n.lineDash,r.borderDash)),i.labels&&i.labels.usePointStyle){var s=f*Math.SQRT2/2,d=s/Math.SQRT2,h=e+d,g=a+d;t.canvasHelpers.drawPoint(u,n.pointStyle,s,h,g)}else l||u.strokeRect(e,a,b,f),u.fillRect(e,a,b,f);u.restore()}},y=function(t,e,a,i){u.fillText(a.text,b+f/2+t,e),a.hidden&&(u.beginPath(),u.lineWidth=2,u.moveTo(b+f/2+t,e+f/2),u.lineTo(b+f/2+t+i,e+f/2),u.stroke())},k=a.isHorizontal();d=k?{x:a.left+(l-s[0])/2,y:a.top+n.padding,line:0}:{x:a.left+n.padding,y:a.top+n.padding,line:0};var S=f+n.padding;e.each(a.legendItems,function(t,e){var i=u.measureText(t.text).width,o=n.usePointStyle?f+f/2+i:b+f/2+i,r=d.x,c=d.y;k?r+o>=l&&(c=d.y+=S,d.line++,r=d.x=a.left+(l-s[d.line])/2):c+S>a.bottom&&(r=d.x=r+a.columnWidths[d.line]+n.padding,c=d.y=a.top,d.line++),x(r,c,t),v[e].left=r,v[e].top=c,y(r,c,t,i),k?d.x+=o+n.padding:d.y+=S})}},handleEvent:function(t){var a=this,i=a.options,n="mouseup"===t.type?"click":t.type;if("mousemove"===n){if(!i.onHover)return}else{if("click"!==n)return;if(!i.onClick)return}var o=e.getRelativePosition(t,a.chart.chart),r=o.x,l=o.y;if(r>=a.left&&r<=a.right&&l>=a.top&&l<=a.bottom)for(var s=a.legendHitBoxes,d=0;d<s.length;++d){var u=s[d];if(r>=u.left&&r<=u.left+u.width&&l>=u.top&&l<=u.top+u.height){if("click"===n){i.onClick.call(a,t,a.legendItems[d]);break}if("mousemove"===n){i.onHover.call(a,t,a.legendItems[d]);break}}}}}),t.plugins.register({beforeInit:function(e){var a=e.options,i=a.legend;i&&(e.legend=new t.Legend({ctx:e.chart.ctx,options:i,chart:e}),t.layoutService.addBox(e,e.legend))}})}},{}],30:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers.noop;t.plugins={_plugins:[],register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)})},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var a=e.indexOf(t);-1!==a&&e.splice(a,1)})},clear:function(){this._plugins=[]},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e){var a,i,n=this._plugins,o=n.length;for(a=0;o>a;++a)if(i=n[a],"function"==typeof i[t]&&i[t].apply(i,e||[])===!1)return!1;return!0}},t.PluginBase=t.Element.extend({beforeInit:e,afterInit:e,beforeUpdate:e,afterUpdate:e,beforeDraw:e,afterDraw:e,destroy:e}),t.pluginService=t.plugins}},{}],31:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(t){return e.isArray(t)?t:""+t}}},t.Scale=t.Element.extend({beforeUpdate:function(){e.callCallback(this.options.beforeUpdate,[this])},update:function(t,a,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=a,n.margins=e.extend({left:0,right:0,top:0,bottom:0},i),n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeDataLimits(),n.determineDataLimits(),n.afterDataLimits(),n.beforeBuildTicks(),n.buildTicks(),n.afterBuildTicks(),n.beforeTickToLabelConversion(),n.convertTicksToLabels(),n.afterTickToLabelConversion(),n.beforeCalculateTickRotation(),n.calculateTickRotation(),n.afterCalculateTickRotation(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:function(){e.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){e.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){e.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){e.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:e.noop,afterDataLimits:function(){e.callCallback(this.options.afterDataLimits,[this]);
},beforeBuildTicks:function(){e.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:e.noop,afterBuildTicks:function(){e.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){e.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this;t.ticks=t.ticks.map(function(e,a,i){return t.options.ticks.userCallback?t.options.ticks.userCallback(e,a,i):t.options.ticks.callback(e,a,i)},t)},afterTickToLabelConversion:function(){e.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){e.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var a=this,i=a.ctx,n=t.defaults.global,o=a.options.ticks,r=e.getValueOrDefault(o.fontSize,n.defaultFontSize),l=e.getValueOrDefault(o.fontStyle,n.defaultFontStyle),s=e.getValueOrDefault(o.fontFamily,n.defaultFontFamily),d=e.fontString(r,l,s);i.font=d;var u,c=i.measureText(a.ticks[0]).width,h=i.measureText(a.ticks[a.ticks.length-1]).width;if(a.labelRotation=o.minRotation||0,a.paddingRight=0,a.paddingLeft=0,a.options.display&&a.isHorizontal()){a.paddingRight=h/2+3,a.paddingLeft=c/2+3,a.longestTextCache||(a.longestTextCache={});for(var f,g,p=e.longestText(i,d,a.ticks,a.longestTextCache),m=p,b=a.getPixelForTick(1)-a.getPixelForTick(0)-6;m>b&&a.labelRotation<o.maxRotation;){if(f=Math.cos(e.toRadians(a.labelRotation)),g=Math.sin(e.toRadians(a.labelRotation)),u=f*c,u+r/2>a.yLabelWidth&&(a.paddingLeft=u+r/2),a.paddingRight=r/2,g*p>a.maxHeight){a.labelRotation--;break}a.labelRotation++,m=f*p}}a.margins&&(a.paddingLeft=Math.max(a.paddingLeft-a.margins.left,0),a.paddingRight=Math.max(a.paddingRight-a.margins.right,0))},afterCalculateTickRotation:function(){e.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){e.callCallback(this.options.beforeFit,[this])},fit:function(){var a=this,i=a.minSize={width:0,height:0},n=a.options,o=t.defaults.global,r=n.ticks,l=n.scaleLabel,s=n.gridLines,d=n.display,u=a.isHorizontal(),c=e.getValueOrDefault(r.fontSize,o.defaultFontSize),h=e.getValueOrDefault(r.fontStyle,o.defaultFontStyle),f=e.getValueOrDefault(r.fontFamily,o.defaultFontFamily),g=e.fontString(c,h,f),p=e.getValueOrDefault(l.fontSize,o.defaultFontSize),m=n.gridLines.tickMarkLength;if(u?i.width=a.isFullWidth()?a.maxWidth-a.margins.left-a.margins.right:a.maxWidth:i.width=d&&s.drawTicks?m:0,u?i.height=d&&s.drawTicks?m:0:i.height=a.maxHeight,l.display&&d&&(u?i.height+=1.5*p:i.width+=1.5*p),r.display&&d){a.longestTextCache||(a.longestTextCache={});var b=e.longestText(a.ctx,g,a.ticks,a.longestTextCache),v=e.numberOfLabelLines(a.ticks),x=.5*c;if(u){a.longestLabelWidth=b;var y=Math.sin(e.toRadians(a.labelRotation))*a.longestLabelWidth+c*v+x*v;i.height=Math.min(a.maxHeight,i.height+y),a.ctx.font=g;var k=a.ctx.measureText(a.ticks[0]).width,S=a.ctx.measureText(a.ticks[a.ticks.length-1]).width,w=Math.cos(e.toRadians(a.labelRotation)),C=Math.sin(e.toRadians(a.labelRotation));a.paddingLeft=0!==a.labelRotation?w*k+3:k/2+3,a.paddingRight=0!==a.labelRotation?C*(c/2)+3:S/2+3}else{var M=a.maxWidth-i.width,D=r.mirror;D?b=0:b+=a.options.ticks.padding,M>b?i.width+=b:i.width=a.maxWidth,a.paddingTop=c/2,a.paddingBottom=c/2}}a.margins&&(a.paddingLeft=Math.max(a.paddingLeft-a.margins.left,0),a.paddingTop=Math.max(a.paddingTop-a.margins.top,0),a.paddingRight=Math.max(a.paddingRight-a.margins.right,0),a.paddingBottom=Math.max(a.paddingBottom-a.margins.bottom,0)),a.width=i.width,a.height=i.height},afterFit:function(){e.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){return null===t||"undefined"==typeof t?NaN:"number"==typeof t&&isNaN(t)?NaN:"object"==typeof t?t instanceof Date||t.isValid?t:this.getRightValue(this.isHorizontal()?t.x:t.y):t},getLabelForIndex:e.noop,getPixelForValue:e.noop,getValueForPixel:e.noop,getPixelForTick:function(t,e){var a=this;if(a.isHorizontal()){var i=a.width-(a.paddingLeft+a.paddingRight),n=i/Math.max(a.ticks.length-(a.options.gridLines.offsetGridLines?0:1),1),o=n*t+a.paddingLeft;e&&(o+=n/2);var r=a.left+Math.round(o);return r+=a.isFullWidth()?a.margins.left:0}var l=a.height-(a.paddingTop+a.paddingBottom);return a.top+t*(l/(a.ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var a=e.width-(e.paddingLeft+e.paddingRight),i=a*t+e.paddingLeft,n=e.left+Math.round(i);return n+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){var t=this,e=t.min,a=t.max;return t.getPixelForValue(t.beginAtZero?0:0>e&&0>a?a:e>0&&a>0?e:0)},draw:function(a){var i=this,n=i.options;if(n.display){var o,r,l=i.ctx,s=t.defaults.global,d=n.ticks,u=n.gridLines,c=n.scaleLabel,h=0!==i.labelRotation,f=d.autoSkip,g=i.isHorizontal();d.maxTicksLimit&&(r=d.maxTicksLimit);var p=e.getValueOrDefault(d.fontColor,s.defaultFontColor),m=e.getValueOrDefault(d.fontSize,s.defaultFontSize),b=e.getValueOrDefault(d.fontStyle,s.defaultFontStyle),v=e.getValueOrDefault(d.fontFamily,s.defaultFontFamily),x=e.fontString(m,b,v),y=u.tickMarkLength,k=e.getValueOrDefault(u.borderDash,s.borderDash),S=e.getValueOrDefault(u.borderDashOffset,s.borderDashOffset),w=e.getValueOrDefault(c.fontColor,s.defaultFontColor),C=e.getValueOrDefault(c.fontSize,s.defaultFontSize),M=e.getValueOrDefault(c.fontStyle,s.defaultFontStyle),D=e.getValueOrDefault(c.fontFamily,s.defaultFontFamily),I=e.fontString(C,M,D),A=e.toRadians(i.labelRotation),T=Math.cos(A),P=i.longestLabelWidth*T;l.fillStyle=p;var F=[];if(g){if(o=!1,h&&(P/=2),(P+d.autoSkipPadding)*i.ticks.length>i.width-(i.paddingLeft+i.paddingRight)&&(o=1+Math.floor((P+d.autoSkipPadding)*i.ticks.length/(i.width-(i.paddingLeft+i.paddingRight)))),r&&i.ticks.length>r)for(;!o||i.ticks.length/(o||1)>r;)o||(o=1),o+=1;f||(o=!1)}var R="right"===n.position?i.left:i.right-y,_="right"===n.position?i.left+y:i.right,V="bottom"===n.position?i.top:i.bottom-y,L="bottom"===n.position?i.top+y:i.bottom;if(e.each(i.ticks,function(t,r){if(void 0!==t&&null!==t){var l=i.ticks.length===r+1,s=o>1&&r%o>0||r%o===0&&r+o>=i.ticks.length;if((!s||l)&&void 0!==t&&null!==t){var c,f;r===("undefined"!=typeof i.zeroLineIndex?i.zeroLineIndex:0)?(c=u.zeroLineWidth,f=u.zeroLineColor):(c=e.getValueAtIndexOrDefault(u.lineWidth,r),f=e.getValueAtIndexOrDefault(u.color,r));var p,m,b,v,x,w,C,M,D,I,T="middle",P="middle";if(g){h||(P="top"===n.position?"bottom":"top"),T=h?"right":"center";var O=i.getPixelForTick(r)+e.aliasPixel(c);D=i.getPixelForTick(r,u.offsetGridLines)+d.labelOffset,I=h?i.top+12:"top"===n.position?i.bottom-y:i.top+y,p=b=x=C=O,m=V,v=L,w=a.top,M=a.bottom}else{"left"===n.position?d.mirror?(D=i.right+d.padding,T="left"):(D=i.right-d.padding,T="right"):d.mirror?(D=i.left-d.padding,T="right"):(D=i.left+d.padding,T="left");var B=i.getPixelForTick(r);B+=e.aliasPixel(c),I=i.getPixelForTick(r,u.offsetGridLines),p=R,b=_,x=a.left,C=a.right,m=v=w=M=B}F.push({tx1:p,ty1:m,tx2:b,ty2:v,x1:x,y1:w,x2:C,y2:M,labelX:D,labelY:I,glWidth:c,glColor:f,glBorderDash:k,glBorderDashOffset:S,rotation:-1*A,label:t,textBaseline:P,textAlign:T})}}}),e.each(F,function(t){if(u.display&&(l.save(),l.lineWidth=t.glWidth,l.strokeStyle=t.glColor,l.setLineDash&&(l.setLineDash(t.glBorderDash),l.lineDashOffset=t.glBorderDashOffset),l.beginPath(),u.drawTicks&&(l.moveTo(t.tx1,t.ty1),l.lineTo(t.tx2,t.ty2)),u.drawOnChartArea&&(l.moveTo(t.x1,t.y1),l.lineTo(t.x2,t.y2)),l.stroke(),l.restore()),d.display){l.save(),l.translate(t.labelX,t.labelY),l.rotate(t.rotation),l.font=x,l.textBaseline=t.textBaseline,l.textAlign=t.textAlign;var a=t.label;if(e.isArray(a))for(var i=0,n=-(a.length-1)*m*.75;i<a.length;++i)l.fillText(""+a[i],0,n),n+=1.5*m;else l.fillText(a,0,0);l.restore()}}),c.display){var O,B,W=0;if(g)O=i.left+(i.right-i.left)/2,B="bottom"===n.position?i.bottom-C/2:i.top+C/2;else{var z="left"===n.position;O=z?i.left+C/2:i.right-C/2,B=i.top+(i.bottom-i.top)/2,W=z?-.5*Math.PI:.5*Math.PI}l.save(),l.translate(O,B),l.rotate(W),l.textAlign="center",l.textBaseline="middle",l.fillStyle=w,l.font=I,l.fillText(c.labelString,0,0),l.restore()}if(u.drawBorder){l.lineWidth=e.getValueAtIndexOrDefault(u.lineWidth,0),l.strokeStyle=e.getValueAtIndexOrDefault(u.color,0);var N=i.left,H=i.right,E=i.top,U=i.bottom,q=e.aliasPixel(l.lineWidth);g?(E=U="top"===n.position?i.bottom:i.top,E+=q,U+=q):(N=H="left"===n.position?i.right:i.left,N+=q,H+=q),l.beginPath(),l.moveTo(N,E),l.lineTo(H,U),l.stroke()}}}})}},{}],32:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,a,i){this.constructors[t]=a,this.defaults[t]=e.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(a){return this.defaults.hasOwnProperty(a)?e.scaleMerge(t.defaults.scale,this.defaults[a]):{}},updateScaleDefaults:function(t,a){var i=this.defaults;i.hasOwnProperty(t)&&(i[t]=e.extend(i[t],a))},addScalesToLayout:function(a){e.each(a.scales,function(e){t.layoutService.addBox(a,e)})}}}},{}],33:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var a=e.noop;t.Title=t.Element.extend({initialize:function(a){var i=this;e.extend(i,a),i.options=e.configMerge(t.defaults.global.title,a.options),i.legendHitBoxes=[]},beforeUpdate:function(){var a=this.chart.options;a&&a.title&&(this.options=e.configMerge(t.defaults.global.title,a.title))},update:function(t,e,a){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=a,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:a,beforeSetDimensions:a,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:a,beforeBuildLabels:a,buildLabels:a,afterBuildLabels:a,beforeFit:a,fit:function(){var a=this,i=e.getValueOrDefault,n=a.options,o=t.defaults.global,r=n.display,l=i(n.fontSize,o.defaultFontSize),s=a.minSize;a.isHorizontal()?(s.width=a.maxWidth,s.height=r?l+2*n.padding:0):(s.width=r?l+2*n.padding:0,s.height=a.maxHeight),a.width=s.width,a.height=s.height},afterFit:a,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var a=this,i=a.ctx,n=e.getValueOrDefault,o=a.options,r=t.defaults.global;if(o.display){var l,s,d=n(o.fontSize,r.defaultFontSize),u=n(o.fontStyle,r.defaultFontStyle),c=n(o.fontFamily,r.defaultFontFamily),h=e.fontString(d,u,c),f=0,g=a.top,p=a.left,m=a.bottom,b=a.right;i.fillStyle=n(o.fontColor,r.defaultFontColor),i.font=h,a.isHorizontal()?(l=p+(b-p)/2,s=g+(m-g)/2):(l="left"===o.position?p+d/2:b-d/2,s=g+(m-g)/2,f=Math.PI*("left"===o.position?-.5:.5)),i.save(),i.translate(l,s),i.rotate(f),i.textAlign="center",i.textBaseline="middle",i.fillText(o.text,0,0),i.restore()}}}),t.plugins.register({beforeInit:function(e){var a=e.options,i=a.title;i&&(e.titleBlock=new t.Title({ctx:e.chart.ctx,options:i,chart:e}),t.layoutService.addBox(e,e.titleBlock))}})}},{}],34:[function(t,e,a){"use strict";e.exports=function(t){function e(t,e){return e&&(n.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function a(t){if(!t.length)return!1;var e,a,i=[],n=[];for(e=0,a=t.length;a>e;++e){var o=t[e];if(o&&o.hasValue()){var r=o.tooltipPosition();i.push(r.x),n.push(r.y)}}var l=0,s=0;for(e=0;e<i.length;++e)i[e]&&(l+=i[e],s+=n[e]);return{x:Math.round(l/i.length),y:Math.round(s/i.length)}}function i(t){var e=t._xScale,a=t._yScale||t._scale,i=t._index,n=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(i,n):"",yLabel:a?a.getLabelForIndex(i,n):"",index:i,datasetIndex:n}}var n=t.helpers;t.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:n.noop,title:function(t,e){var a="",i=e.labels,n=i?i.length:0;if(t.length>0){var o=t[0];o.xLabel?a=o.xLabel:n>0&&o.index<n&&(a=i[o.index])}return a},afterTitle:n.noop,beforeBody:n.noop,beforeLabel:n.noop,label:function(t,e){var a=e.datasets[t.datasetIndex].label||"";return a+": "+t.yLabel},labelColor:function(t,e){var a=e.getDatasetMeta(t.datasetIndex),i=a.data[t.index],n=i._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},afterLabel:n.noop,afterBody:n.noop,beforeFooter:n.noop,footer:n.noop,afterFooter:n.noop}},t.Tooltip=t.Element.extend({initialize:function(){var e=this,a=t.defaults.global,i=e._options,o=n.getValueOrDefault;n.extend(e,{_model:{xPadding:i.xPadding,yPadding:i.yPadding,xAlign:i.xAlign,yAlign:i.yAlign,bodyFontColor:i.bodyFontColor,_bodyFontFamily:o(i.bodyFontFamily,a.defaultFontFamily),_bodyFontStyle:o(i.bodyFontStyle,a.defaultFontStyle),_bodyAlign:i.bodyAlign,bodyFontSize:o(i.bodyFontSize,a.defaultFontSize),bodySpacing:i.bodySpacing,titleFontColor:i.titleFontColor,_titleFontFamily:o(i.titleFontFamily,a.defaultFontFamily),_titleFontStyle:o(i.titleFontStyle,a.defaultFontStyle),titleFontSize:o(i.titleFontSize,a.defaultFontSize),_titleAlign:i.titleAlign,titleSpacing:i.titleSpacing,titleMarginBottom:i.titleMarginBottom,footerFontColor:i.footerFontColor,_footerFontFamily:o(i.footerFontFamily,a.defaultFontFamily),_footerFontStyle:o(i.footerFontStyle,a.defaultFontStyle),footerFontSize:o(i.footerFontSize,a.defaultFontSize),_footerAlign:i.footerAlign,footerSpacing:i.footerSpacing,footerMarginTop:i.footerMarginTop,caretSize:i.caretSize,cornerRadius:i.cornerRadius,backgroundColor:i.backgroundColor,opacity:0,legendColorBackground:i.multiKeyBackground}})},getTitle:function(){var t=this,a=t._options,i=a.callbacks,n=i.beforeTitle.apply(t,arguments),o=i.title.apply(t,arguments),r=i.afterTitle.apply(t,arguments),l=[];return l=e(l,n),l=e(l,o),l=e(l,r)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return n.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,a){var i=this,o=i._options.callbacks,r=[];return n.each(t,function(t){var n={before:[],lines:[],after:[]};e(n.before,o.beforeLabel.call(i,t,a)),e(n.lines,o.label.call(i,t,a)),e(n.after,o.afterLabel.call(i,t,a)),r.push(n)}),r},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return n.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this,a=t._options.callbacks,i=a.beforeFooter.apply(t,arguments),n=a.footer.apply(t,arguments),o=a.afterFooter.apply(t,arguments),r=[];return r=e(r,i),r=e(r,n),r=e(r,o)},update:function(t){var e,o,r=this,l=r._options,s=r._model,d=r._active,u=r._data,c=r._chartInstance;if(d.length){s.opacity=1;var h=[],f=a(d),g=[];for(e=0,o=d.length;o>e;++e)g.push(i(d[e]));l.itemSort&&(g=g.sort(function(t,e){return l.itemSort(t,e,u)})),d.length>1&&n.each(g,function(t){h.push(l.callbacks.labelColor.call(r,t,c))}),n.extend(s,{title:r.getTitle(g,u),beforeBody:r.getBeforeBody(g,u),body:r.getBody(g,u),afterBody:r.getAfterBody(g,u),footer:r.getFooter(g,u),x:Math.round(f.x),y:Math.round(f.y),caretPadding:n.getValueOrDefault(f.padding,2),labelColors:h});var p=r.getTooltipSize(s);r.determineAlignment(p),n.extend(s,r.getBackgroundPoint(s,p))}else r._model.opacity=0;return t&&l.custom&&l.custom.call(r,s),r},getTooltipSize:function(t){var e=this._chart.ctx,a={height:2*t.yPadding,width:0},i=t.body,o=i.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);o+=t.beforeBody.length+t.afterBody.length;var r=t.title.length,l=t.footer.length,s=t.titleFontSize,d=t.bodyFontSize,u=t.footerFontSize;a.height+=r*s,a.height+=(r-1)*t.titleSpacing,a.height+=r?t.titleMarginBottom:0,a.height+=o*d,a.height+=o?(o-1)*t.bodySpacing:0,a.height+=l?t.footerMarginTop:0,a.height+=l*u,a.height+=l?(l-1)*t.footerSpacing:0;var c=0,h=function(t){a.width=Math.max(a.width,e.measureText(t).width+c)};return e.font=n.fontString(s,t._titleFontStyle,t._titleFontFamily),n.each(t.title,h),e.font=n.fontString(d,t._bodyFontStyle,t._bodyFontFamily),n.each(t.beforeBody.concat(t.afterBody),h),c=i.length>1?d+2:0,n.each(i,function(t){n.each(t.before,h),n.each(t.lines,h),n.each(t.after,h)}),c=0,e.font=n.fontString(u,t._footerFontStyle,t._footerFontFamily),n.each(t.footer,h),a.width+=2*t.xPadding,a},determineAlignment:function(t){var e=this,a=e._model,i=e._chart,n=e._chartInstance.chartArea;a.y<t.height?a.yAlign="top":a.y>i.height-t.height&&(a.yAlign="bottom");var o,r,l,s,d,u=(n.left+n.right)/2,c=(n.top+n.bottom)/2;"center"===a.yAlign?(o=function(t){return u>=t},r=function(t){return t>u}):(o=function(e){return e<=t.width/2},r=function(e){return e>=i.width-t.width/2}),l=function(e){return e+t.width>i.width},s=function(e){return e-t.width<0},d=function(t){return c>=t?"top":"bottom"},o(a.x)?(a.xAlign="left",l(a.x)&&(a.xAlign="center",a.yAlign=d(a.y))):r(a.x)&&(a.xAlign="right",s(a.x)&&(a.xAlign="center",a.yAlign=d(a.y)))},getBackgroundPoint:function(t,e){var a={x:t.x,y:t.y},i=t.caretSize,n=t.caretPadding,o=t.cornerRadius,r=t.xAlign,l=t.yAlign,s=i+n,d=o+n;return"right"===r?a.x-=e.width:"center"===r&&(a.x-=e.width/2),"top"===l?a.y+=s:"bottom"===l?a.y-=e.height+s:a.y-=e.height/2,"center"===l?"left"===r?a.x+=s:"right"===r&&(a.x-=s):"left"===r?a.x-=d:"right"===r&&(a.x+=d),a},drawCaret:function(t,e,a){var i,o,r,l,s,d,u=this._view,c=this._chart.ctx,h=u.caretSize,f=u.cornerRadius,g=u.xAlign,p=u.yAlign,m=t.x,b=t.y,v=e.width,x=e.height;"center"===p?("left"===g?(i=m,o=i-h,r=i):(i=m+v,o=i+h,r=i),s=b+x/2,l=s-h,d=s+h):("left"===g?(i=m+f,o=i+h,r=o+h):"right"===g?(i=m+v-f,o=i-h,r=o-h):(o=m+v/2,i=o-h,r=o+h),"top"===p?(l=b,s=l-h,d=l):(l=b+x,s=l+h,d=l));var y=n.color(u.backgroundColor);c.fillStyle=y.alpha(a*y.alpha()).rgbString(),c.beginPath(),c.moveTo(i,l),c.lineTo(o,s),c.lineTo(r,d),c.closePath(),c.fill()},drawTitle:function(t,e,a,i){var o=e.title;if(o.length){a.textAlign=e._titleAlign,a.textBaseline="top";var r=e.titleFontSize,l=e.titleSpacing,s=n.color(e.titleFontColor);a.fillStyle=s.alpha(i*s.alpha()).rgbString(),a.font=n.fontString(r,e._titleFontStyle,e._titleFontFamily);var d,u;for(d=0,u=o.length;u>d;++d)a.fillText(o[d],t.x,t.y),t.y+=r+l,d+1===o.length&&(t.y+=e.titleMarginBottom-l)}},drawBody:function(t,e,a,i){var o=e.bodyFontSize,r=e.bodySpacing,l=e.body;a.textAlign=e._bodyAlign,a.textBaseline="top";var s=n.color(e.bodyFontColor),d=s.alpha(i*s.alpha()).rgbString();a.fillStyle=d,a.font=n.fontString(o,e._bodyFontStyle,e._bodyFontFamily);var u=0,c=function(e){a.fillText(e,t.x+u,t.y),t.y+=o+r};n.each(e.beforeBody,c);var h=l.length>1;u=h?o+2:0,n.each(l,function(r,l){n.each(r.before,c),n.each(r.lines,function(r){h&&(a.fillStyle=n.color(e.legendColorBackground).alpha(i).rgbaString(),a.fillRect(t.x,t.y,o,o),a.strokeStyle=n.color(e.labelColors[l].borderColor).alpha(i).rgbaString(),a.strokeRect(t.x,t.y,o,o),a.fillStyle=n.color(e.labelColors[l].backgroundColor).alpha(i).rgbaString(),a.fillRect(t.x+1,t.y+1,o-2,o-2),a.fillStyle=d),c(r)}),n.each(r.after,c)}),u=0,n.each(e.afterBody,c),t.y-=r},drawFooter:function(t,e,a,i){var o=e.footer;if(o.length){t.y+=e.footerMarginTop,a.textAlign=e._footerAlign,a.textBaseline="top";var r=n.color(e.footerFontColor);a.fillStyle=r.alpha(i*r.alpha()).rgbString(),a.font=n.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),n.each(o,function(i){a.fillText(i,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing})}},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var a=this.getTooltipSize(e),i={x:e.x,y:e.y},o=Math.abs(e.opacity<.001)?0:e.opacity;if(this._options.enabled){var r=n.color(e.backgroundColor);t.fillStyle=r.alpha(o*r.alpha()).rgbString(),n.drawRoundedRectangle(t,i.x,i.y,a.width,a.height,e.cornerRadius),t.fill(),this.drawCaret(i,a,o),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,o),this.drawBody(i,e,t,o),this.drawFooter(i,e,t,o)}}}})}},{}],35:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults.global;a.elements.arc={backgroundColor:a.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2):!1},inRange:function(t,a){var i=this._view;if(i){for(var n=e.getAngleFromPoint(i,{x:t,y:a}),o=n.angle,r=n.distance,l=i.startAngle,s=i.endAngle;l>s;)s+=2*Math.PI;for(;o>s;)o-=2*Math.PI;for(;l>o;)o+=2*Math.PI;var d=o>=l&&s>=o,u=r>=i.innerRadius&&r<=i.outerRadius;return d&&u}return!1},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,a=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*a,y:t.y+Math.sin(e)*a}},draw:function(){var t=this._chart.ctx,e=this._view,a=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,a,i),t.arc(e.x,e.y,e.innerRadius,i,a,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],36:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults.global;t.defaults.global.elements.line={tension:.4,backgroundColor:a.defaultColor,borderWidth:3,borderColor:a.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},t.elements.Line=t.Element.extend({draw:function(){function t(t,e){var a=e._view;e._view.steppedLine===!0?(s.lineTo(a.x,t._view.y),s.lineTo(a.x,a.y)):0===e._view.tension?s.lineTo(a.x,a.y):s.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,a.controlPointPreviousX,a.controlPointPreviousY,a.x,a.y)}var i=this,n=i._view,o=n.spanGaps,r=n.scaleZero,l=i._loop,s=i._chart.ctx;s.save();var d=i._children.slice(),u=-1;l&&d.length&&d.push(d[0]);var c,h,f,g;if(d.length&&n.fill){for(s.beginPath(),c=0;c<d.length;++c)h=d[c],f=e.previousItem(d,c),g=h._view,0===c?(l?s.moveTo(r.x,r.y):s.moveTo(g.x,r),g.skip||(u=c,s.lineTo(g.x,g.y))):(f=-1===u?f:d[u],g.skip?o||u!==c-1||(l?s.lineTo(r.x,r.y):s.lineTo(f._view.x,r)):(u!==c-1?o&&-1!==u?t(f,h):l?s.lineTo(g.x,g.y):(s.lineTo(g.x,r),s.lineTo(g.x,g.y)):t(f,h),u=c));l||-1===u||s.lineTo(d[u]._view.x,r),s.fillStyle=n.backgroundColor||a.defaultColor,s.closePath(),s.fill()}var p=a.elements.line;for(s.lineCap=n.borderCapStyle||p.borderCapStyle,s.setLineDash&&s.setLineDash(n.borderDash||p.borderDash),s.lineDashOffset=n.borderDashOffset||p.borderDashOffset,s.lineJoin=n.borderJoinStyle||p.borderJoinStyle,s.lineWidth=n.borderWidth||p.borderWidth,s.strokeStyle=n.borderColor||a.defaultColor,s.beginPath(),u=-1,c=0;c<d.length;++c)h=d[c],f=e.previousItem(d,c),g=h._view,0===c?g.skip||(s.moveTo(g.x,g.y),u=c):(f=-1===u?f:d[u],g.skip||(u!==c-1&&!o||-1===u?s.moveTo(g.x,g.y):t(f,h),u=c));s.stroke(),s.restore()}})}},{}],37:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults.global,i=a.defaultColor;a.elements.point={radius:3,pointStyle:"circle",backgroundColor:i,borderWidth:1,borderColor:i,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(t,e){var a=this._view;return a?Math.pow(t-a.x,2)+Math.pow(e-a.y,2)<Math.pow(a.hitRadius+a.radius,2):!1},inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2):!1},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(){var n=this._view,o=this._chart.ctx,r=n.pointStyle,l=n.radius,s=n.x,d=n.y;n.skip||(o.strokeStyle=n.borderColor||i,o.lineWidth=e.getValueOrDefault(n.borderWidth,a.elements.point.borderWidth),o.fillStyle=n.backgroundColor||i,t.canvasHelpers.drawPoint(o,r,l,s,d))}})}},{}],38:[function(t,e,a){"use strict";e.exports=function(t){var e=t.defaults.global;e.elements.rectangle={backgroundColor:e.defaultColor,borderWidth:0,borderColor:e.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return s[(u+t)%4]}var e=this._chart.ctx,a=this._view,i=a.width/2,n=a.x-i,o=a.x+i,r=a.base-(a.base-a.y),l=a.borderWidth/2;a.borderWidth&&(n+=l,o-=l,r+=l),e.beginPath(),e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth;var s=[[n,a.base],[n,r],[o,r],[o,a.base]],d=["bottom","left","top","right"],u=d.indexOf(a.borderSkipped,0);-1===u&&(u=0),e.moveTo.apply(e,t(0));for(var c=1;4>c;c++)e.lineTo.apply(e,t(c));e.fill(),a.borderWidth&&e.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var a=this._view;return a?a.y<a.base?t>=a.x-a.width/2&&t<=a.x+a.width/2&&e>=a.y&&e<=a.base:t>=a.x-a.width/2&&t<=a.x+a.width/2&&e>=a.base&&e<=a.y:!1},inLabelRange:function(t){var e=this._view;return e?t>=e.x-e.width/2&&t<=e.x+e.width/2:!1},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],39:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a={position:"bottom"},i=t.Scale.extend({getLabels:function(){var t=this.chart.data;return(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t=this,a=t.getLabels();t.minIndex=0,t.maxIndex=a.length-1;var i;void 0!==t.options.ticks.min&&(i=e.indexOf(a,t.options.ticks.min),t.minIndex=-1!==i?i:t.minIndex),void 0!==t.options.ticks.max&&(i=e.indexOf(a,t.options.ticks.max),t.maxIndex=-1!==i?i:t.maxIndex),t.min=a[t.minIndex],t.max=a[t.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var a=this,i=a.chart.data,n=a.isHorizontal();return i.xLabels&&n||i.yLabels&&!n?a.getRightValue(i.datasets[e].data[t]):a.ticks[t]},getPixelForValue:function(t,e,a,i){var n=this,o=Math.max(n.maxIndex+1-n.minIndex-(n.options.gridLines.offsetGridLines?0:1),1);if(void 0!==t&&isNaN(e)){var r=n.getLabels(),l=r.indexOf(t);e=-1!==l?l:e}if(n.isHorizontal()){var s=n.width-(n.paddingLeft+n.paddingRight),d=s/o,u=d*(e-n.minIndex)+n.paddingLeft;return(n.options.gridLines.offsetGridLines&&i||n.maxIndex===n.minIndex&&i)&&(u+=d/2),n.left+Math.round(u)}var c=n.height-(n.paddingTop+n.paddingBottom),h=c/o,f=h*(e-n.minIndex)+n.paddingTop;return n.options.gridLines.offsetGridLines&&i&&(f+=h/2),n.top+Math.round(f)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)},getValueForPixel:function(t){var e,a=this,i=Math.max(a.ticks.length-(a.options.gridLines.offsetGridLines?0:1),1),n=a.isHorizontal(),o=n?a.width-(a.paddingLeft+a.paddingRight):a.height-(a.paddingTop+a.paddingBottom),r=o/i;return t-=n?a.left:a.top,a.options.gridLines.offsetGridLines&&(t-=r/2),t-=n?a.paddingLeft:a.paddingTop,e=0>=t?0:Math.round(t/r)},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",i,a)}},{}],40:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a={position:"left",ticks:{callback:function(t,a,i){var n=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));var o=e.log10(Math.abs(n)),r="";if(0!==t){var l=-1*Math.floor(o);l=Math.max(Math.min(l,20),0),r=t.toFixed(l)}else r="0";return r}}},i=t.LinearScaleBase.extend({determineDataLimits:function(){function t(t){return l?t.xAxisID===a.id:t.yAxisID===a.id}var a=this,i=a.options,n=a.chart,o=n.data,r=o.datasets,l=a.isHorizontal();if(a.min=null,a.max=null,i.stacked){var s={};e.each(r,function(o,r){var l=n.getDatasetMeta(r);void 0===s[l.type]&&(s[l.type]={positiveValues:[],negativeValues:[]});var d=s[l.type].positiveValues,u=s[l.type].negativeValues;n.isDatasetVisible(r)&&t(l)&&e.each(o.data,function(t,e){var n=+a.getRightValue(t);isNaN(n)||l.data[e].hidden||(d[e]=d[e]||0,u[e]=u[e]||0,i.relativePoints?d[e]=100:0>n?u[e]+=n:d[e]+=n)})}),e.each(s,function(t){var i=t.positiveValues.concat(t.negativeValues),n=e.min(i),o=e.max(i);a.min=null===a.min?n:Math.min(a.min,n),a.max=null===a.max?o:Math.max(a.max,o)})}else e.each(r,function(i,o){var r=n.getDatasetMeta(o);n.isDatasetVisible(o)&&t(r)&&e.each(i.data,function(t,e){var i=+a.getRightValue(t);isNaN(i)||r.data[e].hidden||(null===a.min?a.min=i:i<a.min&&(a.min=i),null===a.max?a.max=i:i>a.max&&(a.max=i))})});this.handleTickRangeOptions()},getTickLimit:function(){var a,i=this,n=i.options.ticks;if(i.isHorizontal())a=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(i.width/50));else{var o=e.getValueOrDefault(n.fontSize,t.defaults.global.defaultFontSize);a=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(i.height/(2*o)))}return a},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e,a,i=this,n=i.paddingLeft,o=i.paddingBottom,r=i.start,l=+i.getRightValue(t),s=i.end-r;return i.isHorizontal()?(a=i.width-(n+i.paddingRight),e=i.left+a/s*(l-r),Math.round(e+n)):(a=i.height-(i.paddingTop+o),e=i.bottom-o-a/s*(l-r),Math.round(e))},getValueForPixel:function(t){var e=this,a=e.isHorizontal(),i=e.paddingLeft,n=e.paddingBottom,o=a?e.width-(i+e.paddingRight):e.height-(e.paddingTop+n),r=(a?t-e.left-i:e.bottom-n-t)/o;return e.start+(e.end-e.start)*r},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",i,a)}},{}],41:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=e.noop;t.LinearScaleBase=t.Scale.extend({handleTickRangeOptions:function(){var t=this,a=t.options,i=a.ticks;if(i.beginAtZero){var n=e.sign(t.min),o=e.sign(t.max);0>n&&0>o?t.max=0:n>0&&o>0&&(t.min=0)}void 0!==i.min?t.min=i.min:void 0!==i.suggestedMin&&(t.min=Math.min(t.min,i.suggestedMin)),void 0!==i.max?t.max=i.max:void 0!==i.suggestedMax&&(t.max=Math.max(t.max,i.suggestedMax)),t.min===t.max&&(t.max++,i.beginAtZero||t.min--)},getTickLimit:a,handleDirectionalChanges:a,buildTicks:function(){var t=this,a=t.options,i=t.ticks=[],n=a.ticks,o=e.getValueOrDefault,r=t.getTickLimit();r=Math.max(2,r);var l,s=n.fixedStepSize&&n.fixedStepSize>0||n.stepSize&&n.stepSize>0;if(s)l=o(n.fixedStepSize,n.stepSize);else{var d=e.niceNum(t.max-t.min,!1);l=e.niceNum(d/(r-1),!0)}var u=Math.floor(t.min/l)*l,c=Math.ceil(t.max/l)*l,h=(c-u)/l;h=e.almostEquals(h,Math.round(h),l/1e3)?Math.round(h):Math.ceil(h),i.push(void 0!==n.min?n.min:u);for(var f=1;h>f;++f)i.push(u+f*l);i.push(void 0!==n.max?n.max:c),t.handleDirectionalChanges(),t.max=e.max(i),t.min=e.min(i),n.reverse?(i.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)}})}},{}],42:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a={position:"left",ticks:{callback:function(t,a,i){var n=t/Math.pow(10,Math.floor(e.log10(t)));return 0===t?"0":1===n||2===n||5===n||0===a||a===i.length-1?t.toExponential():""}}},i=t.Scale.extend({determineDataLimits:function(){function t(t){return d?t.xAxisID===a.id:t.yAxisID===a.id}var a=this,i=a.options,n=i.ticks,o=a.chart,r=o.data,l=r.datasets,s=e.getValueOrDefault,d=a.isHorizontal();if(a.min=null,a.max=null,a.minNotZero=null,i.stacked){var u={};e.each(l,function(n,r){var l=o.getDatasetMeta(r);o.isDatasetVisible(r)&&t(l)&&(void 0===u[l.type]&&(u[l.type]=[]),e.each(n.data,function(t,e){var n=u[l.type],o=+a.getRightValue(t);isNaN(o)||l.data[e].hidden||(n[e]=n[e]||0,i.relativePoints?n[e]=100:n[e]+=o)}))}),e.each(u,function(t){var i=e.min(t),n=e.max(t);a.min=null===a.min?i:Math.min(a.min,i),
a.max=null===a.max?n:Math.max(a.max,n)})}else e.each(l,function(i,n){var r=o.getDatasetMeta(n);o.isDatasetVisible(n)&&t(r)&&e.each(i.data,function(t,e){var i=+a.getRightValue(t);isNaN(i)||r.data[e].hidden||(null===a.min?a.min=i:i<a.min&&(a.min=i),null===a.max?a.max=i:i>a.max&&(a.max=i),0!==i&&(null===a.minNotZero||i<a.minNotZero)&&(a.minNotZero=i))})});a.min=s(n.min,a.min),a.max=s(n.max,a.max),a.min===a.max&&(0!==a.min&&null!==a.min?(a.min=Math.pow(10,Math.floor(e.log10(a.min))-1),a.max=Math.pow(10,Math.floor(e.log10(a.max))+1)):(a.min=1,a.max=10))},buildTicks:function(){for(var t=this,a=t.options,i=a.ticks,n=e.getValueOrDefault,o=t.ticks=[],r=n(i.min,Math.pow(10,Math.floor(e.log10(t.min))));r<t.max;){o.push(r);var l,s;0===r?(l=Math.floor(e.log10(t.minNotZero)),s=Math.round(t.minNotZero/Math.pow(10,l))):(l=Math.floor(e.log10(r)),s=Math.floor(r/Math.pow(10,l))+1),10===s&&(s=1,++l),r=s*Math.pow(10,l)}var d=n(i.max,r);o.push(d),t.isHorizontal()||o.reverse(),t.max=e.max(o),t.min=e.min(o),i.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},getPixelForValue:function(t){var a,i,n,o=this,r=o.start,l=+o.getRightValue(t),s=o.paddingTop,d=o.paddingBottom,u=o.paddingLeft,c=o.options,h=c.ticks;return o.isHorizontal()?(n=e.log10(o.end)-e.log10(r),0===l?i=o.left+u:(a=o.width-(u+o.paddingRight),i=o.left+a/n*(e.log10(l)-e.log10(r)),i+=u)):(a=o.height-(s+d),0!==r||h.reverse?0===o.end&&h.reverse?(n=e.log10(o.start)-e.log10(o.minNotZero),i=l===o.end?o.top+s:l===o.minNotZero?o.top+s+.02*a:o.top+s+.02*a+.98*a/n*(e.log10(l)-e.log10(o.minNotZero))):(n=e.log10(o.end)-e.log10(r),a=o.height-(s+d),i=o.bottom-d-a/n*(e.log10(l)-e.log10(r))):(n=e.log10(o.end)-e.log10(o.minNotZero),i=l===r?o.bottom-d:l===o.minNotZero?o.bottom-d-.02*a:o.bottom-d-.02*a-.98*a/n*(e.log10(l)-e.log10(o.minNotZero)))),i},getValueForPixel:function(t){var a,i,n=this,o=e.log10(n.end)-e.log10(n.start);return n.isHorizontal()?(i=n.width-(n.paddingLeft+n.paddingRight),a=n.start*Math.pow(10,(t-n.left-n.paddingLeft)*o/i)):(i=n.height-(n.paddingTop+n.paddingBottom),a=Math.pow(10,(n.bottom-n.paddingBottom-t)*o/i)/n.start),a}});t.scaleService.registerScaleType("logarithmic",i,a)}},{}],43:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults.global,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(t){return t}}},n=t.LinearScaleBase.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var t=this,i=t.options,n=i.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var o=e.min([t.height,t.width]),r=e.getValueOrDefault(n.fontSize,a.defaultFontSize);t.drawingArea=i.display?o/2-(r/2+n.backdropPaddingY):o/2},determineDataLimits:function(){var t=this,a=t.chart;t.min=null,t.max=null,e.each(a.data.datasets,function(i,n){if(a.isDatasetVisible(n)){var o=a.getDatasetMeta(n);e.each(i.data,function(e,a){var i=+t.getRightValue(e);isNaN(i)||o.data[a].hidden||(null===t.min?t.min=i:i<t.min&&(t.min=i),null===t.max?t.max=i:i>t.max&&(t.max=i))})}}),t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,i=e.getValueOrDefault(t.fontSize,a.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*i)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,i,n,o,r,l,s,d,u,c,h,f,g=this.options.pointLabels,p=e.getValueOrDefault(g.fontSize,a.defaultFontSize),m=e.getValueOrDefault(g.fontStyle,a.defaultFontStyle),b=e.getValueOrDefault(g.fontFamily,a.defaultFontFamily),v=e.fontString(p,m,b),x=e.min([this.height/2-p-5,this.width/2]),y=this.width,k=0;for(this.ctx.font=v,i=0;i<this.getValueCount();i++){t=this.getPointPosition(i,x),n=this.ctx.measureText(this.pointLabels[i]?this.pointLabels[i]:"").width+5;var S=this.getIndexAngle(i)+Math.PI/2,w=360*S/(2*Math.PI)%360;0===w||180===w?(o=n/2,t.x+o>y&&(y=t.x+o,r=i),t.x-o<k&&(k=t.x-o,s=i)):180>w?t.x+n>y&&(y=t.x+n,r=i):t.x-n<k&&(k=t.x-n,s=i)}u=k,c=Math.ceil(y-this.width),l=this.getIndexAngle(r),d=this.getIndexAngle(s),h=c/Math.sin(l+Math.PI/2),f=u/Math.sin(d+Math.PI/2),h=e.isNumber(h)?h:0,f=e.isNumber(f)?f:0,this.drawingArea=Math.round(x-(f+h)/2),this.setCenterPoint(f,h)},setCenterPoint:function(t,e){var a=this,i=a.width-e-a.drawingArea,n=t+a.drawingArea;a.xCenter=Math.round((n+i)/2+a.left),a.yCenter=Math.round(a.height/2+a.top)},getIndexAngle:function(t){var e=2*Math.PI/this.getValueCount(),a=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0,i=a*Math.PI*2/360;return t*e-Math.PI/2+i},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var a=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*a:(t-e.min)*a},getPointPosition:function(t,e){var a=this,i=a.getIndexAngle(t);return{x:Math.round(Math.cos(i)*e)+a.xCenter,y:Math.round(Math.sin(i)*e)+a.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,a=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:0>e&&0>a?a:e>0&&a>0?e:0)},draw:function(){var t=this,i=t.options,n=i.gridLines,o=i.ticks,r=i.angleLines,l=i.pointLabels,s=e.getValueOrDefault;if(i.display){var d=t.ctx,u=s(o.fontSize,a.defaultFontSize),c=s(o.fontStyle,a.defaultFontStyle),h=s(o.fontFamily,a.defaultFontFamily),f=e.fontString(u,c,h);if(e.each(t.ticks,function(r,l){if(l>0||i.reverse){var c=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),h=t.yCenter-c;if(n.display&&0!==l)if(d.strokeStyle=e.getValueAtIndexOrDefault(n.color,l-1),d.lineWidth=e.getValueAtIndexOrDefault(n.lineWidth,l-1),i.lineArc)d.beginPath(),d.arc(t.xCenter,t.yCenter,c,0,2*Math.PI),d.closePath(),d.stroke();else{d.beginPath();for(var g=0;g<t.getValueCount();g++){var p=t.getPointPosition(g,c);0===g?d.moveTo(p.x,p.y):d.lineTo(p.x,p.y)}d.closePath(),d.stroke()}if(o.display){var m=s(o.fontColor,a.defaultFontColor);if(d.font=f,o.showLabelBackdrop){var b=d.measureText(r).width;d.fillStyle=o.backdropColor,d.fillRect(t.xCenter-b/2-o.backdropPaddingX,h-u/2-o.backdropPaddingY,b+2*o.backdropPaddingX,u+2*o.backdropPaddingY)}d.textAlign="center",d.textBaseline="middle",d.fillStyle=m,d.fillText(r,t.xCenter,h)}}}),!i.lineArc){d.lineWidth=r.lineWidth,d.strokeStyle=r.color;for(var g=t.getDistanceFromCenterForValue(i.reverse?t.min:t.max),p=s(l.fontSize,a.defaultFontSize),m=s(l.fontStyle,a.defaultFontStyle),b=s(l.fontFamily,a.defaultFontFamily),v=e.fontString(p,m,b),x=t.getValueCount()-1;x>=0;x--){if(r.display){var y=t.getPointPosition(x,g);d.beginPath(),d.moveTo(t.xCenter,t.yCenter),d.lineTo(y.x,y.y),d.stroke(),d.closePath()}var k=t.getPointPosition(x,g+5),S=s(l.fontColor,a.defaultFontColor);d.font=v,d.fillStyle=S;var w=t.pointLabels,C=this.getIndexAngle(x)+Math.PI/2,M=360*C/(2*Math.PI)%360;0===M||180===M?d.textAlign="center":180>M?d.textAlign="left":d.textAlign="right",90===M||270===M?d.textBaseline="middle":M>270||90>M?d.textBaseline="bottom":d.textBaseline="top",d.fillText(w[x]?w[x]:"",k.x,k.y)}}}}});t.scaleService.registerScaleType("radialLinear",n,i)}},{}],44:[function(t,e,a){"use strict";var i=t(1);i="function"==typeof i?i:window.moment,e.exports=function(t){var e=t.helpers,a={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},n={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},o=t.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");t.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return null===t||null===e?null:"undefined"!=typeof this.labelMoments[t]?this.labelMoments[t][e]:null},getLabelDiff:function(t,e){var a=this;return null===t||null===e?null:(void 0===a.labelDiffs&&a.buildLabelDiffs(),"undefined"!=typeof a.labelDiffs[t]?a.labelDiffs[t][e]:null)},getMomentStartOf:function(t){var e=this;return"week"===e.options.time.unit&&e.options.time.isoWeekday!==!1?t.clone().startOf("isoWeek").isoWeekday(e.options.time.isoWeekday):t.clone().startOf(e.tickUnit)},determineDataLimits:function(){var t=this;t.labelMoments=[];var a=[];t.chart.data.labels&&t.chart.data.labels.length>0?(e.each(t.chart.data.labels,function(e){var i=t.parseTime(e);i.isValid()&&(t.options.time.round&&i.startOf(t.options.time.round),a.push(i))},t),t.firstTick=i.min.call(t,a),t.lastTick=i.max.call(t,a)):(t.firstTick=null,t.lastTick=null),e.each(t.chart.data.datasets,function(n,o){var r=[],l=t.chart.isDatasetVisible(o);"object"==typeof n.data[0]&&null!==n.data[0]?e.each(n.data,function(e){var a=t.parseTime(t.getRightValue(e));a.isValid()&&(t.options.time.round&&a.startOf(t.options.time.round),r.push(a),l&&(t.firstTick=null!==t.firstTick?i.min(t.firstTick,a):a,t.lastTick=null!==t.lastTick?i.max(t.lastTick,a):a))},t):r=a,t.labelMoments.push(r)},t),t.options.time.min&&(t.firstTick=t.parseTime(t.options.time.min)),t.options.time.max&&(t.lastTick=t.parseTime(t.options.time.max)),t.firstTick=(t.firstTick||i()).clone(),t.lastTick=(t.lastTick||i()).clone()},buildLabelDiffs:function(){var t=this;t.labelDiffs=[];var a=[];t.chart.data.labels&&t.chart.data.labels.length>0&&e.each(t.chart.data.labels,function(e){var i=t.parseTime(e);i.isValid()&&(t.options.time.round&&i.startOf(t.options.time.round),a.push(i.diff(t.firstTick,t.tickUnit,!0)))},t),e.each(t.chart.data.datasets,function(i){var n=[];"object"==typeof i.data[0]&&null!==i.data[0]?e.each(i.data,function(e){var a=t.parseTime(t.getRightValue(e));a.isValid()&&(t.options.time.round&&a.startOf(t.options.time.round),n.push(a.diff(t.firstTick,t.tickUnit,!0)))},t):n=a,t.labelDiffs.push(n)},t)},buildTicks:function(){var i=this;i.ctx.save();var n=e.getValueOrDefault(i.options.ticks.fontSize,t.defaults.global.defaultFontSize),o=e.getValueOrDefault(i.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),r=e.getValueOrDefault(i.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),l=e.fontString(n,o,r);if(i.ctx.font=l,i.ticks=[],i.unitScale=1,i.scaleSizeInUnits=0,i.options.time.unit)i.tickUnit=i.options.time.unit||"day",i.displayFormat=i.options.time.displayFormats[i.tickUnit],i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0),i.unitScale=e.getValueOrDefault(i.options.time.unitStepSize,1);else{var s=i.isHorizontal()?i.width-(i.paddingLeft+i.paddingRight):i.height-(i.paddingTop+i.paddingBottom),d=i.tickFormatFunction(i.firstTick,0,[]),u=i.ctx.measureText(d).width,c=Math.cos(e.toRadians(i.options.ticks.maxRotation)),h=Math.sin(e.toRadians(i.options.ticks.maxRotation));u=u*c+n*h;var f=s/u;i.tickUnit=i.options.time.minUnit,i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0),i.displayFormat=i.options.time.displayFormats[i.tickUnit];for(var g=0,p=a.units[g];g<a.units.length;){if(i.unitScale=1,e.isArray(p.steps)&&Math.ceil(i.scaleSizeInUnits/f)<e.max(p.steps)){for(var m=0;m<p.steps.length;++m)if(p.steps[m]>=Math.ceil(i.scaleSizeInUnits/f)){i.unitScale=e.getValueOrDefault(i.options.time.unitStepSize,p.steps[m]);break}break}if(p.maxStep===!1||Math.ceil(i.scaleSizeInUnits/f)<p.maxStep){i.unitScale=e.getValueOrDefault(i.options.time.unitStepSize,Math.ceil(i.scaleSizeInUnits/f));break}++g,p=a.units[g],i.tickUnit=p.name;var b=i.firstTick.diff(i.getMomentStartOf(i.firstTick),i.tickUnit,!0),v=i.getMomentStartOf(i.lastTick.clone().add(1,i.tickUnit)).diff(i.lastTick,i.tickUnit,!0);i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0)+b+v,i.displayFormat=i.options.time.displayFormats[p.name]}}var x;if(i.options.time.min?x=i.getMomentStartOf(i.firstTick):(i.firstTick=i.getMomentStartOf(i.firstTick),x=i.firstTick),!i.options.time.max){var y=i.getMomentStartOf(i.lastTick),k=y.diff(i.lastTick,i.tickUnit,!0);0>k?i.lastTick=i.getMomentStartOf(i.lastTick.add(1,i.tickUnit)):k>=0&&(i.lastTick=y),i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0)}i.options.time.displayFormat&&(i.displayFormat=i.options.time.displayFormat),i.ticks.push(i.firstTick.clone());for(var S=1;S<=i.scaleSizeInUnits;++S){var w=x.clone().add(S,i.tickUnit);if(i.options.time.max&&w.diff(i.lastTick,i.tickUnit,!0)>=0)break;S%i.unitScale===0&&i.ticks.push(w)}var C=i.ticks[i.ticks.length-1].diff(i.lastTick,i.tickUnit);(0!==C||0===i.scaleSizeInUnits)&&(i.options.time.max?(i.ticks.push(i.lastTick.clone()),i.scaleSizeInUnits=i.lastTick.diff(i.ticks[0],i.tickUnit,!0)):(i.ticks.push(i.lastTick.clone()),i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0))),i.ctx.restore(),i.labelDiffs=void 0},getLabelForIndex:function(t,e){var a=this,i=a.chart.data.labels&&t<a.chart.data.labels.length?a.chart.data.labels[t]:"";return"object"==typeof a.chart.data.datasets[e].data[0]&&(i=a.getRightValue(a.chart.data.datasets[e].data[t])),a.options.time.tooltipFormat&&(i=a.parseTime(i).format(a.options.time.tooltipFormat)),i},tickFormatFunction:function(t,a,i){var n=t.format(this.displayFormat),o=this.options.ticks,r=e.getValueOrDefault(o.callback,o.userCallback);return r?r(n,a,i):n},convertTicksToLabels:function(){var t=this;t.tickMoments=t.ticks,t.ticks=t.ticks.map(t.tickFormatFunction,t)},getPixelForValue:function(t,e,a){var i=this,n=null;if(void 0!==e&&void 0!==a&&(n=i.getLabelDiff(a,e)),null===n&&(t&&t.isValid||(t=i.parseTime(i.getRightValue(t))),t&&t.isValid&&t.isValid()&&(n=t.diff(i.firstTick,i.tickUnit,!0))),null!==n){var o=0!==n?n/i.scaleSizeInUnits:n;if(i.isHorizontal()){var r=i.width-(i.paddingLeft+i.paddingRight),l=r*o+i.paddingLeft;return i.left+Math.round(l)}var s=i.height-(i.paddingTop+i.paddingBottom),d=s*o+i.paddingTop;return i.top+Math.round(d)}},getPixelForTick:function(t){return this.getPixelForValue(this.tickMoments[t],null,null)},getValueForPixel:function(t){var e=this,a=e.isHorizontal()?e.width-(e.paddingLeft+e.paddingRight):e.height-(e.paddingTop+e.paddingBottom),n=(t-(e.isHorizontal()?e.left+e.paddingLeft:e.top+e.paddingTop))/a;return n*=e.scaleSizeInUnits,e.firstTick.clone().add(i.duration(n,e.tickUnit).asSeconds(),"seconds")},parseTime:function(t){var e=this;return"string"==typeof e.options.time.parser?i(t,e.options.time.parser):"function"==typeof e.options.time.parser?e.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?i(t):t.isValid&&t.isValid()?t:"string"!=typeof e.options.time.format&&e.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),e.options.time.format(t)):i(t,e.options.time.format)}});t.scaleService.registerScaleType("time",o,n)}},{1:1}]},{},[7])(7)});/*! 
 color2color v0.2.1 indyarmy.com
 by Russ Porosky
 IndyArmy Network, Inc.
 */

;(function (window, undefined) {
	"use strict";
	var color2color = (function () {
		var color2color = function (color, newColor, calculateOpacity) {
			if (!newColor) {
				newColor = "rgba";
			}

			color = color.toLowerCase();
			newColor = newColor.toLowerCase();

			var namedColor = getNamedColor(color),
				colorDefs = [
					{
						re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
						example: [ "rgb(123, 234, 45)", "rgb(255,234,245)" ],
						process: function (bits) {
							return [
								parseInt(bits[ 1 ], 10), parseInt(bits[ 2 ], 10), parseInt(bits[ 3 ], 10), 1
							];
						}
					},
					{
						re: /^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d+(?:\.\d+)?|\.\d+)\s*\)/,
						example: [ "rgba(123, 234, 45, 1)", "rgba(255,234,245, 0.5)" ],
						process: function (bits) {
							return [
								parseInt(bits[ 1 ], 10), parseInt(bits[ 2 ], 10), parseInt(bits[ 3 ], 10), parseFloat(bits[ 4 ])
							];
						}
					},
					{
						re: /^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/,
						example: [ "hsl(120, 100%, 25%)", "hsl(0, 100%, 50%)" ],
						process: function (bits) {
							bits[ 4 ] = 1;
							var rgba = hslToRgb(bits);
							return [
								rgba.r, rgba.g, rgba.b, rgba.a
							];
						}
					},
					{
						re: /^hsla\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%,\s*(\d+(?:\.\d+)?|\.\d+)\s*\)/,
						example: [ "hsla(120, 100%, 25%, 1)", "hsla(0, 100%, 50%, 0.5)" ],
						process: function (bits) {
							var rgba = hslToRgb(bits);
							return [
								rgba.r, rgba.g, rgba.b, rgba.a
							];
						}
					},
					{
						re: /^hsv\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/,
						example: [ "hsv(120, 100%, 25%)", "hsl(0, 100%, 50%)" ],
						process: function (bits) {
							var rgb = hsvToRgb(bits);
							return [
								rgb.r, rgb.g, rgb.b, 1
							];
						}
					},
					{
						re: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
						example: [ "#00ff00", "336699" ],
						process: function (bits) {
							return [
								parseInt(bits[ 1 ], 16), parseInt(bits[ 2 ], 16), parseInt(bits[ 3 ], 16), 1
							];
						}
					},
					{
						re: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
						example: [ "#fb0", "f0f" ],
						process: function (bits) {
							return [
								parseInt(bits[ 1 ] + bits[ 1 ], 16), parseInt(bits[ 2 ] + bits[ 2 ], 16), parseInt(bits[ 3 ] + bits[ 3 ], 16), 1
							];
						}
					}
				], r, g, b, a, i, re, processor, bits, channels, min, hsl, hsv, retcolor;

			if (namedColor) {
				color = namedColor;
			} else {
				color = color.replace(/^\s*#|\s*$/g, "");
				if (color.length === 3) {
					color = color.replace(/(.)/g, "$1$1");
				}
			}

			// search through the definitions to find a match
			for (i = 0; i < colorDefs.length; i += 1) {
				re = colorDefs[ i ].re;
				processor = colorDefs[ i ].process;
				bits = re.exec(color);
				if (bits) {
					channels = processor(bits);
					r = channels[ 0 ];
					g = channels[ 1 ];
					b = channels[ 2 ];
					a = channels[ 3 ];
				}
			}
			r = ( r < 0 || isNaN(r) ) ? 0 : ( ( r > 255 ) ? 255 : r );
			g = ( g < 0 || isNaN(g) ) ? 0 : ( ( g > 255 ) ? 255 : g );
			b = ( b < 0 || isNaN(b) ) ? 0 : ( ( b > 255 ) ? 255 : b );
			a = ( a < 0 || isNaN(a) ) ? 0 : ( ( a > 1 ) ? 1 : a );
			switch (newColor) {
				case "rgba":
					if (calculateOpacity) {
						a = ( 255 - ( min = Math.min(r, g, b) ) ) / 255;
						r = ( 0 || ( r - min ) / a ).toFixed(0);
						g = ( 0 || ( g - min ) / a ).toFixed(0);
						b = ( 0 || ( b - min ) / a ).toFixed(0);
						a = a.toFixed(4);
					}
					retcolor = "rgba(" + r + "," + g + "," + b + "," + a + ")";
					break;
				case "rgb":
					retcolor = "rgb(" + r + "," + g + "," + b + ")";
					break;
				case "hex":
					retcolor = "#" + ("0" + r.toString(16)).slice(-2) + ("0" + g.toString(16)).slice(-2) + ("0" + b.toString(16)).slice(-2);
					break;
				case "hsl":
					hsl = rgbToHsl({ "r": r, "g": g, "b": b });
					retcolor = "hsl(" + hsl.h + "," + hsl.s + "%," + hsl.l + "%)";
					break;
				case "hsla":
					hsl = rgbToHsl({ "r": r, "g": g, "b": b, "a": a });
					retcolor = "hsl(" + hsl.h + "," + hsl.s + "%," + hsl.l + "%," + hsl.a + ")";
					break;
				case "hsv":
					hsv = rgbToHsv({ "r": r, "g": g, "b": b });
					retcolor = "hsv(" + hsv.h + "," + hsv.s + "%," + hsv.v + "%)";
					break;
			}
			return retcolor;
		},
		hslToRgb = function (bits) {
			var rgba = {}, v, q, p, hsl = {
				h: toPercent(parseInt(bits[ 1 ], 10) % 360, 360),
				s: toPercent(parseInt(bits[ 2 ], 10) % 101, 100),
				l: toPercent(parseInt(bits[ 3 ], 10) % 101, 100),
				a: parseFloat(bits[ 4 ])
			};
			if (hsl.s === 0) {
				v = parseInt(Math.round(255 * hsl.l));
				rgba = {
					r: v,
					g: v,
					b: v,
					a: hsl.a
				};
			} else {
				q = hsl.l < 0.5 ? hsl.l * ( 1 + hsl.s ) : hsl.l + hsl.s - hsl.l * hsl.s;
				p = 2 * hsl.l - q;
				rgba.r = parseInt(( hueToRgb(p, q, hsl.h + 1 / 3) * 256 ).toFixed(0), 10);
				rgba.g = parseInt(( hueToRgb(p, q, hsl.h) * 256 ).toFixed(0), 10);
				rgba.b = parseInt(( hueToRgb(p, q, hsl.h - 1 / 3) * 256 ).toFixed(0), 10);
				rgba.a = hsl.a;
			}
			return rgba;
		},
		rgbToHsl = function (rgba) {
			rgba.r = toPercent(parseInt(rgba.r, 10) % 256, 256);
			rgba.g = toPercent(parseInt(rgba.g, 10) % 256, 256);
			rgba.b = toPercent(parseInt(rgba.b, 10) % 256, 256);
			var max = Math.max(rgba.r, rgba.g, rgba.b), min = Math.min(rgba.r, rgba.g, rgba.b), hsl = [], d;
			hsl.a = rgba.a;
			hsl.l = ( max + min ) / 2;
			if (max === min) {
				hsl.h = 0;
				hsl.s = 0;
			} else {
				d = max - min;
				hsl.s = hsl.l > 0.5 ? d / ( 2 - max - min ) : d / ( max + min );
				switch (max) {
					case rgba.r:
						hsl.h = ( rgba.g - rgba.b ) / d + ( rgba.g < rgba.b ? 6 : 0 );
						break;
					case rgba.g:
						hsl.h = ( rgba.b - rgba.r ) / d + 2;
						break;
					case rgba.b:
						hsl.h = ( rgba.r - rgba.g ) / d + 4;
						break;
				}
				hsl.h /= 6;
			}
			hsl.h = parseInt(( hsl.h * 360 ).toFixed(0), 10);
			hsl.s = parseInt(( hsl.s * 100 ).toFixed(0), 10);
			hsl.l = parseInt(( hsl.l * 100 ).toFixed(0), 10);
			return hsl;
		},
		hsvToRgb = function (bits) {
			var rgb = {}, hsv = {
					h: toPercent(parseInt(bits[ 1 ], 10) % 360, 360),
					s: toPercent(parseInt(bits[ 2 ], 10) % 101, 100),
					v: toPercent(parseInt(bits[ 3 ], 10) % 101, 100)
				}, i = Math.floor(hsv.h * 6), f = hsv.h * 6 - i, p = hsv.v * ( 1 - hsv.s ), q = hsv.v * ( 1 - f * hsv.s ), t = hsv.v * ( 1 - ( 1 - f ) * hsv.s );
			switch (i % 6) {
				case 0:
					rgb.r = hsv.v;
					rgb.g = t;
					rgb.b = p;
					break;
				case 1:
					rgb.r = q;
					rgb.g = hsv.v;
					rgb.b = p;
					break;
				case 2:
					rgb.r = p;
					rgb.g = hsv.v;
					rgb.b = t;
					break;
				case 3:
					rgb.r = p;
					rgb.g = q;
					rgb.b = hsv.v;
					break;
				case 4:
					rgb.r = t;
					rgb.g = p;
					rgb.b = hsv.v;
					break;
				case 5:
					rgb.r = hsv.v;
					rgb.g = p;
					rgb.b = q;
					break;
			}
			rgb.r = parseInt(rgb.r * 256, 10);
			rgb.g = parseInt(rgb.g * 256, 10);
			rgb.b = parseInt(rgb.b * 256, 10);
			return {
				"r": rgb.r,
				"g": rgb.g,
				"b": rgb.b
			};
		},
		rgbToHsv = function (rgba) {
			rgba.r = toPercent(parseInt(rgba.r, 10) % 256, 256);
			rgba.g = toPercent(parseInt(rgba.g, 10) % 256, 256);
			rgba.b = toPercent(parseInt(rgba.b, 10) % 256, 256);
			var max = Math.max(rgba.r, rgba.g, rgba.b), min = Math.min(rgba.r, rgba.g, rgba.b), d = max - min, hsv = {
					"h": 0,
					"s": max === 0 ? 0 : d / max,
					"v": max
				};
			if (max !== min) {
				switch (max) {
					case rgba.r:
						hsv.h = ( rgba.g - rgba.b ) / d + ( rgba.g < rgba.b ? 6 : 0 );
						break;
					case rgba.g:
						hsv.h = ( rgba.b - rgba.r ) / d + 2;
						break;
					case rgba.b:
						hsv.h = ( rgba.r - rgba.g ) / d + 4;
						break;
				}
				hsv.h /= 6;
			}
			hsv.h = parseInt(( hsv.h * 360 ).toFixed(0), 10);
			hsv.s = parseInt(( hsv.s * 100 ).toFixed(0), 10);
			hsv.v = parseInt(( hsv.v * 100 ).toFixed(0), 10);
			return hsv;
		},
		hueToRgb = function (p, q, t) {
			if (t < 0) {
				t += 1;
			}
			if (t > 1) {
				t -= 1;
			}
			if (t < 1 / 6) {
				return p + ( q - p ) * 6 * t;
			}
			if (t < 1 / 2) {
				return q;
			}
			if (t < 2 / 3) {
				return p + ( q - p ) * ( 2 / 3 - t ) * 6;
			}
			return p;
		},
		toPercent = function (amount, limit) {
			return amount / limit;
		},
		getNamedColor = function (color) {
			var key, namedColor = null, namedColors = {
					aliceblue: "f0f8ff",
					antiquewhite: "faebd7",
					aqua: "00ffff",
					aquamarine: "7fffd4",
					azure: "f0ffff",
					beige: "f5f5dc",
					bisque: "ffe4c4",
					black: "000000",
					blanchedalmond: "ffebcd",
					blue: "0000ff",
					blueviolet: "8a2be2",
					brown: "a52a2a",
					burlywood: "deb887",
					cadetblue: "5f9ea0",
					chartreuse: "7fff00",
					chocolate: "d2691e",
					coral: "ff7f50",
					cornflowerblue: "6495ed",
					cornsilk: "fff8dc",
					crimson: "dc143c",
					cyan: "00ffff",
					darkblue: "00008b",
					darkcyan: "008b8b",
					darkgoldenrod: "b8860b",
					darkgray: "a9a9a9",
					darkgreen: "006400",
					darkkhaki: "bdb76b",
					darkmagenta: "8b008b",
					darkolivegreen: "556b2f",
					darkorange: "ff8c00",
					darkorchid: "9932cc",
					darkred: "8b0000",
					darksalmon: "e9967a",
					darkseagreen: "8fbc8f",
					darkslateblue: "483d8b",
					darkslategray: "2f4f4f",
					darkturquoise: "00ced1",
					darkviolet: "9400d3",
					deeppink: "ff1493",
					deepskyblue: "00bfff",
					dimgray: "696969",
					dodgerblue: "1e90ff",
					feldspar: "d19275",
					firebrick: "b22222",
					floralwhite: "fffaf0",
					forestgreen: "228b22",
					fuchsia: "ff00ff",
					gainsboro: "dcdcdc",
					ghostwhite: "f8f8ff",
					gold: "ffd700",
					goldenrod: "daa520",
					gray: "808080",
					green: "008000",
					greenyellow: "adff2f",
					honeydew: "f0fff0",
					hotpink: "ff69b4",
					indianred: "cd5c5c",
					indigo: "4b0082",
					ivory: "fffff0",
					khaki: "f0e68c",
					lavender: "e6e6fa",
					lavenderblush: "fff0f5",
					lawngreen: "7cfc00",
					lemonchiffon: "fffacd",
					lightblue: "add8e6",
					lightcoral: "f08080",
					lightcyan: "e0ffff",
					lightgoldenrodyellow: "fafad2",
					lightgrey: "d3d3d3",
					lightgreen: "90ee90",
					lightpink: "ffb6c1",
					lightsalmon: "ffa07a",
					lightseagreen: "20b2aa",
					lightskyblue: "87cefa",
					lightslateblue: "8470ff",
					lightslategray: "778899",
					lightsteelblue: "b0c4de",
					lightyellow: "ffffe0",
					lime: "00ff00",
					limegreen: "32cd32",
					linen: "faf0e6",
					magenta: "ff00ff",
					maroon: "800000",
					mediumaquamarine: "66cdaa",
					mediumblue: "0000cd",
					mediumorchid: "ba55d3",
					mediumpurple: "9370d8",
					mediumseagreen: "3cb371",
					mediumslateblue: "7b68ee",
					mediumspringgreen: "00fa9a",
					mediumturquoise: "48d1cc",
					mediumvioletred: "c71585",
					midnightblue: "191970",
					mintcream: "f5fffa",
					mistyrose: "ffe4e1",
					moccasin: "ffe4b5",
					navajowhite: "ffdead",
					navy: "000080",
					oldlace: "fdf5e6",
					olive: "808000",
					olivedrab: "6b8e23",
					orange: "ffa500",
					orangered: "ff4500",
					orchid: "da70d6",
					palegoldenrod: "eee8aa",
					palegreen: "98fb98",
					paleturquoise: "afeeee",
					palevioletred: "d87093",
					papayawhip: "ffefd5",
					peachpuff: "ffdab9",
					peru: "cd853f",
					pink: "ffc0cb",
					plum: "dda0dd",
					powderblue: "b0e0e6",
					purple: "800080",
					red: "ff0000",
					rosybrown: "bc8f8f",
					royalblue: "4169e1",
					saddlebrown: "8b4513",
					salmon: "fa8072",
					sandybrown: "f4a460",
					seagreen: "2e8b57",
					seashell: "fff5ee",
					sienna: "a0522d",
					silver: "c0c0c0",
					skyblue: "87ceeb",
					slateblue: "6a5acd",
					slategray: "708090",
					snow: "fffafa",
					springgreen: "00ff7f",
					steelblue: "4682b4",
					tan: "d2b48c",
					teal: "008080",
					thistle: "d8bfd8",
					tomato: "ff6347",
					turquoise: "40e0d0",
					violet: "ee82ee",
					violetred: "d02090",
					wheat: "f5deb3",
					white: "ffffff",
					whitesmoke: "f5f5f5",
					yellow: "ffff00",
					yellowgreen: "9acd32"
				};

			for (key in namedColors) {
				if (color === key) {
					namedColor = namedColors[ key ];
				}
			}

			return namedColor;
		};
		return color2color;
	})();
	window.color2color = color2color;
})(window);
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");
/*! nouislider - 8.5.1 - 2016-04-24 16:00:29 */

!function(a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():window.noUiSlider=a()}(function(){"use strict";function a(a){return a.filter(function(a){return this[a]?!1:this[a]=!0},{})}function b(a,b){return Math.round(a/b)*b}function c(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.documentElement,e=l();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(e.x=0),{top:b.top+e.y-d.clientTop,left:b.left+e.x-d.clientLeft}}function d(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function e(a,b,c){i(a,b),setTimeout(function(){j(a,b)},c)}function f(a){return Math.max(Math.min(a,100),0)}function g(a){return Array.isArray(a)?a:[a]}function h(a){var b=a.split(".");return b.length>1?b[1].length:0}function i(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function j(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function k(a,b){return a.classList?a.classList.contains(b):new RegExp("\\b"+b+"\\b").test(a.className)}function l(){var a=void 0!==window.pageXOffset,b="CSS1Compat"===(document.compatMode||""),c=a?window.pageXOffset:b?document.documentElement.scrollLeft:document.body.scrollLeft,d=a?window.pageYOffset:b?document.documentElement.scrollTop:document.body.scrollTop;return{x:c,y:d}}function m(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function n(a,b){return 100/(b-a)}function o(a,b){return 100*b/(a[1]-a[0])}function p(a,b){return o(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function q(a,b){return b*(a[1]-a[0])/100+a[0]}function r(a,b){for(var c=1;a>=b[c];)c+=1;return c}function s(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=r(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+p([d,e],c)/n(f,g)}function t(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=r(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],q([d,e],(c-f)*n(f,g))}function u(a,c,d,e){if(100===e)return e;var f,g,h=r(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):c[h-1]?a[h-1]+b(e-a[h-1],c[h-1]):e}function v(a,b,c){var e;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw new Error("noUiSlider: 'range' contains invalid value.");if(e="min"===a?0:"max"===a?100:parseFloat(a),!d(e)||!d(b[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");c.xPct.push(e),c.xVal.push(b[0]),e?c.xSteps.push(isNaN(b[1])?!1:b[1]):isNaN(b[1])||(c.xSteps[0]=b[1])}function w(a,b,c){return b?void(c.xSteps[a]=o([c.xVal[a],c.xVal[a+1]],b)/n(c.xPct[a],c.xPct[a+1])):!0}function x(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.length&&"object"==typeof f[0][0]?f.sort(function(a,b){return a[0][0]-b[0][0]}):f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)v(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)w(e,this.xNumSteps[e],this)}function y(a,b){if(!d(b))throw new Error("noUiSlider: 'step' is not numeric.");a.singleStep=b}function z(a,b){if("object"!=typeof b||Array.isArray(b))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===b.min||void 0===b.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(b.min===b.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");a.spectrum=new x(b,a.snap,a.dir,a.singleStep)}function A(a,b){if(b=g(b),!Array.isArray(b)||!b.length||b.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");a.handles=b.length,a.start=b}function B(a,b){if(a.snap=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function C(a,b){if(a.animate=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function D(a,b){if(a.animationDuration=b,"number"!=typeof b)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function E(a,b){if("lower"===b&&1===a.handles)a.connect=1;else if("upper"===b&&1===a.handles)a.connect=2;else if(b===!0&&2===a.handles)a.connect=3;else{if(b!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");a.connect=0}}function F(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function G(a,b){if(!d(b))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==b&&(a.margin=a.spectrum.getMargin(b),!a.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function H(a,b){if(!d(b))throw new Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function I(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1,a.connect=[0,2,1,3][a.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function J(a,b){if("string"!=typeof b)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var c=b.indexOf("tap")>=0,d=b.indexOf("drag")>=0,e=b.indexOf("fixed")>=0,f=b.indexOf("snap")>=0,g=b.indexOf("hover")>=0;if(d&&!a.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");a.events={tap:c||f,drag:d,fixed:e,snap:f,hover:g}}function K(a,b){var c;if(b!==!1)if(b===!0)for(a.tooltips=[],c=0;c<a.handles;c++)a.tooltips.push(!0);else{if(a.tooltips=g(b),a.tooltips.length!==a.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");a.tooltips.forEach(function(a){if("boolean"!=typeof a&&("object"!=typeof a||"function"!=typeof a.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function L(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function M(a,b){if(void 0!==b&&"string"!=typeof b&&b!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");a.cssPrefix=b}function N(a,b){if(void 0!==b&&"object"!=typeof b)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof a.cssPrefix){a.cssClasses={};for(var c in b)b.hasOwnProperty(c)&&(a.cssClasses[c]=a.cssPrefix+b[c])}else a.cssClasses=b}function O(a){var b,c={margin:0,limit:0,animate:!0,animationDuration:300,format:R};b={step:{r:!1,t:y},start:{r:!0,t:A},connect:{r:!0,t:E},direction:{r:!0,t:I},snap:{r:!1,t:B},animate:{r:!1,t:C},animationDuration:{r:!1,t:D},range:{r:!0,t:z},orientation:{r:!1,t:F},margin:{r:!1,t:G},limit:{r:!1,t:H},behaviour:{r:!0,t:J},format:{r:!1,t:L},tooltips:{r:!1,t:K},cssPrefix:{r:!1,t:M},cssClasses:{r:!1,t:N}};var d={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(b).forEach(function(e){if(void 0===a[e]&&void 0===d[e]){if(b[e].r)throw new Error("noUiSlider: '"+e+"' is required.");return!0}b[e].t(c,void 0===a[e]?d[e]:a[e])}),c.pips=a.pips,c.style=c.ort?"top":"left",c}function P(b,d,n){function o(a,b,c){var d=a+b[0],e=a+b[1];return c?(0>d&&(e+=Math.abs(d)),e>100&&(d-=e-100),[f(d),f(e)]):[d,e]}function p(a,b){a.preventDefault();var c,d,e=0===a.type.indexOf("touch"),f=0===a.type.indexOf("mouse"),g=0===a.type.indexOf("pointer"),h=a;return 0===a.type.indexOf("MSPointer")&&(g=!0),e&&(c=a.changedTouches[0].pageX,d=a.changedTouches[0].pageY),b=b||l(),(f||g)&&(c=a.clientX+b.x,d=a.clientY+b.y),h.pageOffset=b,h.points=[c,d],h.cursor=f||g,h}function q(a,b){var c=document.createElement("div"),e=document.createElement("div"),f=[d.cssClasses.handleLower,d.cssClasses.handleUpper];return a&&f.reverse(),i(e,d.cssClasses.handle),i(e,f[b]),i(c,d.cssClasses.origin),c.appendChild(e),c}function r(a,b,c){switch(a){case 1:i(b,d.cssClasses.connect),i(c[0],d.cssClasses.background);break;case 3:i(c[1],d.cssClasses.background);case 2:i(c[0],d.cssClasses.connect);case 0:i(b,d.cssClasses.background)}}function s(a,b,c){var d,e=[];for(d=0;a>d;d+=1)e.push(c.appendChild(q(b,d)));return e}function t(a,b,c){i(c,d.cssClasses.target),0===a?i(c,d.cssClasses.ltr):i(c,d.cssClasses.rtl),0===b?i(c,d.cssClasses.horizontal):i(c,d.cssClasses.vertical);var e=document.createElement("div");return i(e,d.cssClasses.base),c.appendChild(e),e}function u(a,b){if(!d.tooltips[b])return!1;var c=document.createElement("div");return c.className=d.cssClasses.tooltip,a.firstChild.appendChild(c)}function v(){d.dir&&d.tooltips.reverse();var a=W.map(u);d.dir&&(a.reverse(),d.tooltips.reverse()),S("update",function(b,c,e){a[c]&&(a[c].innerHTML=d.tooltips[c]===!0?b[c]:d.tooltips[c].to(e[c]))})}function w(a,b,c){if("range"===a||"steps"===a)return _.xVal;if("count"===a){var d,e=100/(b-1),f=0;for(b=[];(d=f++*e)<=100;)b.push(d);a="positions"}return"positions"===a?b.map(function(a){return _.fromStepping(c?_.getStep(a):a)}):"values"===a?c?b.map(function(a){return _.fromStepping(_.getStep(_.toStepping(a)))}):b:void 0}function x(b,c,d){function e(a,b){return(a+b).toFixed(7)/1}var f=_.direction,g={},h=_.xVal[0],i=_.xVal[_.xVal.length-1],j=!1,k=!1,l=0;return _.direction=0,d=a(d.slice().sort(function(a,b){return a-b})),d[0]!==h&&(d.unshift(h),j=!0),d[d.length-1]!==i&&(d.push(i),k=!0),d.forEach(function(a,f){var h,i,m,n,o,p,q,r,s,t,u=a,v=d[f+1];if("steps"===c&&(h=_.xNumSteps[f]),h||(h=v-u),u!==!1&&void 0!==v)for(i=u;v>=i;i=e(i,h)){for(n=_.toStepping(i),o=n-l,r=o/b,s=Math.round(r),t=o/s,m=1;s>=m;m+=1)p=l+m*t,g[p.toFixed(5)]=["x",0];q=d.indexOf(i)>-1?1:"steps"===c?2:0,!f&&j&&(q=0),i===v&&k||(g[n.toFixed(5)]=[i,q]),l=n}}),_.direction=f,g}function y(a,b,c){function e(a,b){var c=b===d.cssClasses.value,e=c?m:n,f=c?k:l;return b+" "+e[d.ort]+" "+f[a]}function f(a,b,c){return'class="'+e(c[1],b)+'" style="'+d.style+": "+a+'%"'}function g(a,e){_.direction&&(a=100-a),e[1]=e[1]&&b?b(e[0],e[1]):e[1],j+="<div "+f(a,d.cssClasses.marker,e)+"></div>",e[1]&&(j+="<div "+f(a,d.cssClasses.value,e)+">"+c.to(e[0])+"</div>")}var h=document.createElement("div"),j="",k=[d.cssClasses.valueNormal,d.cssClasses.valueLarge,d.cssClasses.valueSub],l=[d.cssClasses.markerNormal,d.cssClasses.markerLarge,d.cssClasses.markerSub],m=[d.cssClasses.valueHorizontal,d.cssClasses.valueVertical],n=[d.cssClasses.markerHorizontal,d.cssClasses.markerVertical];return i(h,d.cssClasses.pips),i(h,0===d.ort?d.cssClasses.pipsHorizontal:d.cssClasses.pipsVertical),Object.keys(a).forEach(function(b){g(b,a[b])}),h.innerHTML=j,h}function z(a){var b=a.mode,c=a.density||1,d=a.filter||!1,e=a.values||!1,f=a.stepped||!1,g=w(b,e,f),h=x(c,b,g),i=a.format||{to:Math.round};return Z.appendChild(y(h,d,i))}function A(){var a=V.getBoundingClientRect(),b="offset"+["Width","Height"][d.ort];return 0===d.ort?a.width||V[b]:a.height||V[b]}function B(a,b,c){var e;for(e=0;e<d.handles;e++)if(-1===$[e])return;void 0!==b&&1!==d.handles&&(b=Math.abs(b-d.dir)),Object.keys(ba).forEach(function(d){var e=d.split(".")[0];a===e&&ba[d].forEach(function(a){a.call(X,g(P()),b,g(C(Array.prototype.slice.call(aa))),c||!1,$)})})}function C(a){return 1===a.length?a[0]:d.dir?a.reverse():a}function D(a,b,c,e){var f=function(b){return Z.hasAttribute("disabled")?!1:k(Z,d.cssClasses.tap)?!1:(b=p(b,e.pageOffset),a===Y.start&&void 0!==b.buttons&&b.buttons>1?!1:e.hover&&b.buttons?!1:(b.calcPoint=b.points[d.ort],void c(b,e)))},g=[];return a.split(" ").forEach(function(a){b.addEventListener(a,f,!1),g.push([a,f])}),g}function E(a,b){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===a.buttons&&0!==b.buttonsProperty)return F(a,b);var c,d,e=b.handles||W,f=!1,g=100*(a.calcPoint-b.start)/b.baseSize,h=e[0]===W[0]?0:1;if(c=o(g,b.positions,e.length>1),f=L(e[0],c[h],1===e.length),e.length>1){if(f=L(e[1],c[h?0:1],!1)||f)for(d=0;d<b.handles.length;d++)B("slide",d)}else f&&B("slide",h)}function F(a,b){var c=V.querySelector("."+d.cssClasses.active),e=b.handles[0]===W[0]?0:1;null!==c&&j(c,d.cssClasses.active),a.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var f=document.documentElement;f.noUiListeners.forEach(function(a){f.removeEventListener(a[0],a[1])}),j(Z,d.cssClasses.drag),B("set",e),B("change",e),void 0!==b.handleNumber&&B("end",b.handleNumber)}function G(a,b){"mouseout"===a.type&&"HTML"===a.target.nodeName&&null===a.relatedTarget&&F(a,b)}function H(a,b){var c=document.documentElement;if(1===b.handles.length){if(b.handles[0].hasAttribute("disabled"))return!1;i(b.handles[0].children[0],d.cssClasses.active)}a.preventDefault(),a.stopPropagation();var e=D(Y.move,c,E,{start:a.calcPoint,baseSize:A(),pageOffset:a.pageOffset,handles:b.handles,handleNumber:b.handleNumber,buttonsProperty:a.buttons,positions:[$[0],$[W.length-1]]}),f=D(Y.end,c,F,{handles:b.handles,handleNumber:b.handleNumber}),g=D("mouseout",c,G,{handles:b.handles,handleNumber:b.handleNumber});if(c.noUiListeners=e.concat(f,g),a.cursor){document.body.style.cursor=getComputedStyle(a.target).cursor,W.length>1&&i(Z,d.cssClasses.drag);var h=function(){return!1};document.body.noUiListener=h,document.body.addEventListener("selectstart",h,!1)}void 0!==b.handleNumber&&B("start",b.handleNumber)}function I(a){var b,f,g=a.calcPoint,h=0;return a.stopPropagation(),W.forEach(function(a){h+=c(a)[d.style]}),b=h/2>g||1===W.length?0:1,W[b].hasAttribute("disabled")&&(b=b?0:1),g-=c(V)[d.style],f=100*g/A(),d.events.snap||e(Z,d.cssClasses.tap,d.animationDuration),W[b].hasAttribute("disabled")?!1:(L(W[b],f),B("slide",b,!0),B("set",b,!0),B("change",b,!0),void(d.events.snap&&H(a,{handles:[W[b]]})))}function J(a){var b=a.calcPoint-c(V)[d.style],e=_.getStep(100*b/A()),f=_.fromStepping(e);Object.keys(ba).forEach(function(a){"hover"===a.split(".")[0]&&ba[a].forEach(function(a){a.call(X,f)})})}function K(a){if(a.fixed||W.forEach(function(a,b){D(Y.start,a.children[0],H,{handles:[a],handleNumber:b})}),a.tap&&D(Y.start,V,I,{handles:W}),a.hover&&D(Y.move,V,J,{hover:!0}),a.drag){var b=[V.querySelector("."+d.cssClasses.connect)];i(b[0],d.cssClasses.draggable),a.fixed&&b.push(W[b[0]===W[0]?1:0].children[0]),b.forEach(function(a){D(Y.start,a,H,{handles:W})})}}function L(a,b,c){var e=a!==W[0]?1:0,g=$[0]+d.margin,h=$[1]-d.margin,k=$[0]+d.limit,l=$[1]-d.limit;return W.length>1&&(b=e?Math.max(b,g):Math.min(b,h)),c!==!1&&d.limit&&W.length>1&&(b=e?Math.min(b,k):Math.max(b,l)),b=_.getStep(b),b=f(b),b===$[e]?!1:(window.requestAnimationFrame?window.requestAnimationFrame(function(){a.style[d.style]=b+"%"}):a.style[d.style]=b+"%",a.previousSibling||(j(a,d.cssClasses.stacking),b>50&&i(a,d.cssClasses.stacking)),$[e]=b,aa[e]=_.fromStepping(b),B("update",e),!0)}function M(a,b){var c,e,f;for(d.limit&&(a+=1),c=0;a>c;c+=1)e=c%2,f=b[e],null!==f&&f!==!1&&("number"==typeof f&&(f=String(f)),f=d.format.from(f),(f===!1||isNaN(f)||L(W[e],_.toStepping(f),c===3-d.dir)===!1)&&B("update",e))}function N(a,b){var c,f,h=g(a);for(b=void 0===b?!0:!!b,d.dir&&d.handles>1&&h.reverse(),d.animate&&-1!==$[0]&&e(Z,d.cssClasses.tap,d.animationDuration),c=W.length>1?3:1,1===h.length&&(c=1),M(c,h),f=0;f<W.length;f++)null!==h[f]&&b&&B("set",f)}function P(){var a,b=[];for(a=0;a<d.handles;a+=1)b[a]=d.format.to(aa[a]);return C(b)}function Q(){for(var a in d.cssClasses)d.cssClasses.hasOwnProperty(a)&&j(Z,d.cssClasses[a]);for(;Z.firstChild;)Z.removeChild(Z.firstChild);delete Z.noUiSlider}function R(){var a=$.map(function(a,b){var c=_.getApplicableStep(a),d=h(String(c[2])),e=aa[b],f=100===a?null:c[2],g=Number((e-c[2]).toFixed(d)),i=0===a?null:g>=c[1]?c[2]:c[0]||!1;return[i,f]});return C(a)}function S(a,b){ba[a]=ba[a]||[],ba[a].push(b),"update"===a.split(".")[0]&&W.forEach(function(a,b){B("update",b)})}function T(a){var b=a&&a.split(".")[0],c=b&&a.substring(b.length);Object.keys(ba).forEach(function(a){var d=a.split(".")[0],e=a.substring(d.length);b&&b!==d||c&&c!==e||delete ba[a]})}function U(a,b){var c=P(),e=O({start:[0,0],margin:a.margin,limit:a.limit,step:void 0===a.step?d.singleStep:a.step,range:a.range,animate:a.animate,snap:void 0===a.snap?d.snap:a.snap});["margin","limit","range","animate"].forEach(function(b){void 0!==a[b]&&(d[b]=a[b])}),e.spectrum.direction=_.direction,_=e.spectrum,$=[-1,-1],N(a.start||c,b)}var V,W,X,Y=m(),Z=b,$=[-1,-1],_=d.spectrum,aa=[],ba={};if(Z.noUiSlider)throw new Error("Slider was already initialized.");return V=t(d.dir,d.ort,Z),W=s(d.handles,d.dir,V),r(d.connect,Z,W),d.pips&&z(d.pips),d.tooltips&&v(),X={destroy:Q,steps:R,on:S,off:T,get:P,set:N,updateOptions:U,options:n,target:Z,pips:z},K(d.events),X}function Q(a,b){if(!a.nodeName)throw new Error("noUiSlider.create requires a single element.");var c=O(b,a),d=P(a,c,b);return d.set(c.start),a.noUiSlider=d,d}x.prototype.getMargin=function(a){return 2===this.xPct.length?o(this.xVal,a):!1},x.prototype.toStepping=function(a){return a=s(this.xVal,this.xPct,a),this.direction&&(a=100-a),a},x.prototype.fromStepping=function(a){return this.direction&&(a=100-a),t(this.xVal,this.xPct,a)},x.prototype.getStep=function(a){return this.direction&&(a=100-a),a=u(this.xPct,this.xSteps,this.snap,a),this.direction&&(a=100-a),a},x.prototype.getApplicableStep=function(a){var b=r(a,this.xPct),c=100===a?2:1;return[this.xNumSteps[b-2],this.xVal[b-c],this.xNumSteps[b-c]]},x.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var R={to:function(a){return void 0!==a&&a.toFixed(2)},from:Number};return{create:Q}});/**
 * @fileoverview
 * - Using the 'QRCode for Javascript library'
 * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.
 * - this library has no dependencies.
 *
 * @author davidshimjs
 * @see <a href="http://www.d-project.com/" target="_blank">http://www.d-project.com/</a>
 * @see <a href="http://jeromeetienne.github.com/jquery-qrcode/" target="_blank">http://jeromeetienne.github.com/jquery-qrcode/</a>
 */
var QRCode;

(function () {
	//---------------------------------------------------------------------
	// QRCode for JavaScript
	//
	// Copyright (c) 2009 Kazuhiko Arase
	//
	// URL: http://www.d-project.com/
	//
	// Licensed under the MIT license:
	//   http://www.opensource.org/licenses/mit-license.php
	//
	// The word "QR Code" is registered trademark of
	// DENSO WAVE INCORPORATED
	//   http://www.denso-wave.com/qrcode/faqpatent-e.html
	//
	//---------------------------------------------------------------------
	function QR8bitByte(data) {
		this.mode = QRMode.MODE_8BIT_BYTE;
		this.data = data;
		this.parsedData = [];

		// Added to support UTF-8 Characters
		for (var i = 0, l = this.data.length; i < l; i++) {
			var byteArray = [];
			var code = this.data.charCodeAt(i);

			if (code > 0x10000) {
				byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);
				byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);
				byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);
				byteArray[3] = 0x80 | (code & 0x3F);
			} else if (code > 0x800) {
				byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);
				byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);
				byteArray[2] = 0x80 | (code & 0x3F);
			} else if (code > 0x80) {
				byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);
				byteArray[1] = 0x80 | (code & 0x3F);
			} else {
				byteArray[0] = code;
			}

			this.parsedData.push(byteArray);
		}

		this.parsedData = Array.prototype.concat.apply([], this.parsedData);

		if (this.parsedData.length != this.data.length) {
			this.parsedData.unshift(191);
			this.parsedData.unshift(187);
			this.parsedData.unshift(239);
		}
	}

	QR8bitByte.prototype = {
		getLength: function (buffer) {
			return this.parsedData.length;
		},
		write: function (buffer) {
			for (var i = 0, l = this.parsedData.length; i < l; i++) {
				buffer.put(this.parsedData[i], 8);
			}
		}
	};

	function QRCodeModel(typeNumber, errorCorrectLevel) {
		this.typeNumber = typeNumber;
		this.errorCorrectLevel = errorCorrectLevel;
		this.modules = null;
		this.moduleCount = 0;
		this.dataCache = null;
		this.dataList = [];
	}

	QRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+","+col);}
	return this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}
	this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}
	if(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}
	this.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}
	return pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}
	return qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}
	this.modules[r][6]=(r%2==0);}
	for(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}
	this.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}
	for(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}
	for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}
	for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}
	this.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}
	var mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}
	this.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}
	row+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}
	var totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}
	if(buffer.getLengthInBits()>totalDataCount*8){throw new Error("code length overflow. ("
	+buffer.getLengthInBits()
	+">"
	+totalDataCount*8
	+")");}
	if(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}
	while(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}
	while(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}
	buffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}
	buffer.put(QRCodeModel.PAD1,8);}
	return QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}
	offset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}
	var totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}
	var data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}
	for(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}
	return data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}
	return((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}
	return(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}
	return digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error("bad maskPattern:"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}
	return a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+mode);}}else{throw new Error("type:"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}
	for(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}
	if(r==0&&c==0){continue;}
	if(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}
	if(sameCount>5){lostPoint+=(3+sameCount-5);}}}
	for(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}
	for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}
	for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}
	var darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}
	var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error("glog("+n+")");}
	return QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}
	while(n>=256){n-=255;}
	return QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}
	for(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}
	for(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}
	function QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+"/"+shift);}
	var offset=0;while(offset<num.length&&num[offset]==0){offset++;}
	this.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}
	QRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}
	return new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}
	var ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}
	for(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}
	return new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}
	QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error("bad rs block @ typeNumber:"+typeNumber+"/errorCorrectLevel:"+errorCorrectLevel);}
	var length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}
	return list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}
	QRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}
	if(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}
	this.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];

	function _isSupportCanvas() {
		return typeof CanvasRenderingContext2D != "undefined";
	}

	// android 2.x doesn't support Data-URI spec
	function _getAndroid() {
		var android = false;
		var sAgent = navigator.userAgent;

		if (/android/i.test(sAgent)) { // android
			android = true;
			var aMat = sAgent.toString().match(/android ([0-9]\.[0-9])/i);

			if (aMat && aMat[1]) {
				android = parseFloat(aMat[1]);
			}
		}

		return android;
	}

	var svgDrawer = (function() {

		var Drawing = function (el, htOption) {
			this._el = el;
			this._htOption = htOption;
		};

		Drawing.prototype.draw = function (oQRCode) {
			var _htOption = this._htOption;
			var _el = this._el;
			var nCount = oQRCode.getModuleCount();
			var nWidth = Math.floor(_htOption.width / nCount);
			var nHeight = Math.floor(_htOption.height / nCount);

			this.clear();

			function makeSVG(tag, attrs) {
				var el = document.createElementNS('http://www.w3.org/2000/svg', tag);
				for (var k in attrs)
					if (attrs.hasOwnProperty(k)) el.setAttribute(k, attrs[k]);
				return el;
			}

			var svg = makeSVG("svg" , {'viewBox': '0 0 ' + String(nCount) + " " + String(nCount), 'width': '100%', 'height': '100%', 'fill': _htOption.colorLight});
			svg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
			_el.appendChild(svg);

			svg.appendChild(makeSVG("rect", {"fill": _htOption.colorLight, "width": "100%", "height": "100%"}));
			svg.appendChild(makeSVG("rect", {"fill": _htOption.colorDark, "width": "1", "height": "1", "id": "template"}));

			for (var row = 0; row < nCount; row++) {
				for (var col = 0; col < nCount; col++) {
					if (oQRCode.isDark(row, col)) {
						var child = makeSVG("use", {"x": String(col), "y": String(row)});
						child.setAttributeNS("http://www.w3.org/1999/xlink", "href", "#template")
						svg.appendChild(child);
					}
				}
			}
		};
		Drawing.prototype.clear = function () {
			while (this._el.hasChildNodes())
				this._el.removeChild(this._el.lastChild);
		};
		return Drawing;
	})();

	var useSVG = document.documentElement.tagName.toLowerCase() === "svg";

	// Drawing in DOM by using Table tag
	var Drawing = useSVG ? svgDrawer : !_isSupportCanvas() ? (function () {
		var Drawing = function (el, htOption) {
			this._el = el;
			this._htOption = htOption;
		};

		/**
		 * Draw the QRCode
		 *
		 * @param {QRCode} oQRCode
		 */
		Drawing.prototype.draw = function (oQRCode) {
            var _htOption = this._htOption;
            var _el = this._el;
			var nCount = oQRCode.getModuleCount();
			var nWidth = Math.floor(_htOption.width / nCount);
			var nHeight = Math.floor(_htOption.height / nCount);
			var aHTML = ['<table style="border:0;border-collapse:collapse;">'];

			for (var row = 0; row < nCount; row++) {
				aHTML.push('<tr>');

				for (var col = 0; col < nCount; col++) {
					aHTML.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:' + nWidth + 'px;height:' + nHeight + 'px;background-color:' + (oQRCode.isDark(row, col) ? _htOption.colorDark : _htOption.colorLight) + ';"></td>');
				}

				aHTML.push('</tr>');
			}

			aHTML.push('</table>');
			_el.innerHTML = aHTML.join('');

			// Fix the margin values as real size.
			var elTable = _el.childNodes[0];
			var nLeftMarginTable = (_htOption.width - elTable.offsetWidth) / 2;
			var nTopMarginTable = (_htOption.height - elTable.offsetHeight) / 2;

			if (nLeftMarginTable > 0 && nTopMarginTable > 0) {
				elTable.style.margin = nTopMarginTable + "px " + nLeftMarginTable + "px";
			}
		};

		/**
		 * Clear the QRCode
		 */
		Drawing.prototype.clear = function () {
			this._el.innerHTML = '';
		};

		return Drawing;
	})() : (function () { // Drawing in Canvas
		function _onMakeImage() {
			this._elImage.src = this._elCanvas.toDataURL("image/png");
			this._elImage.style.display = "block";
			this._elCanvas.style.display = "none";
		}

		// Android 2.1 bug workaround
		// http://code.google.com/p/android/issues/detail?id=5141
		if (this._android && this._android <= 2.1) {
	    	var factor = 1 / window.devicePixelRatio;
	        var drawImage = CanvasRenderingContext2D.prototype.drawImage;
	    	CanvasRenderingContext2D.prototype.drawImage = function (image, sx, sy, sw, sh, dx, dy, dw, dh) {
	    		if (("nodeName" in image) && /img/i.test(image.nodeName)) {
		        	for (var i = arguments.length - 1; i >= 1; i--) {
		            	arguments[i] = arguments[i] * factor;
		        	}
	    		} else if (typeof dw == "undefined") {
	    			arguments[1] *= factor;
	    			arguments[2] *= factor;
	    			arguments[3] *= factor;
	    			arguments[4] *= factor;
	    		}

	        	drawImage.apply(this, arguments);
	    	};
		}

		/**
		 * Check whether the user's browser supports Data URI or not
		 *
		 * @private
		 * @param {Function} fSuccess Occurs if it supports Data URI
		 * @param {Function} fFail Occurs if it doesn't support Data URI
		 */
		function _safeSetDataURI(fSuccess, fFail) {
            var self = this;
            self._fFail = fFail;
            self._fSuccess = fSuccess;

            // Check it just once
            if (self._bSupportDataURI === null) {
                var el = document.createElement("img");
                var fOnError = function() {
                    self._bSupportDataURI = false;

                    if (self._fFail) {
                        self._fFail.call(self);
                    }
                };
                var fOnSuccess = function() {
                    self._bSupportDataURI = true;

                    if (self._fSuccess) {
                        self._fSuccess.call(self);
                    }
                };

                el.onabort = fOnError;
                el.onerror = fOnError;
                el.onload = fOnSuccess;
                el.src = "data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=="; // the Image contains 1px data.
                return;
            } else if (self._bSupportDataURI === true && self._fSuccess) {
                self._fSuccess.call(self);
            } else if (self._bSupportDataURI === false && self._fFail) {
                self._fFail.call(self);
            }
		};

		/**
		 * Drawing QRCode by using canvas
		 *
		 * @constructor
		 * @param {HTMLElement} el
		 * @param {Object} htOption QRCode Options
		 */
		var Drawing = function (el, htOption) {
    		this._bIsPainted = false;
    		this._android = _getAndroid();

			this._htOption = htOption;
			this._elCanvas = document.createElement("canvas");
			this._elCanvas.width = htOption.width;
			this._elCanvas.height = htOption.height;
			el.appendChild(this._elCanvas);
			this._el = el;
			this._oContext = this._elCanvas.getContext("2d");
			this._bIsPainted = false;
			this._elImage = document.createElement("img");
			this._elImage.alt = "Scan me!";
			this._elImage.style.display = "none";
			this._el.appendChild(this._elImage);
			this._bSupportDataURI = null;
		};

		/**
		 * Draw the QRCode
		 *
		 * @param {QRCode} oQRCode
		 */
		Drawing.prototype.draw = function (oQRCode) {
            var _elImage = this._elImage;
            var _oContext = this._oContext;
            var _htOption = this._htOption;

			var nCount = oQRCode.getModuleCount();
			var nWidth = _htOption.width / nCount;
			var nHeight = _htOption.height / nCount;
			var nRoundedWidth = Math.round(nWidth);
			var nRoundedHeight = Math.round(nHeight);

			_elImage.style.display = "none";
			this.clear();

			for (var row = 0; row < nCount; row++) {
				for (var col = 0; col < nCount; col++) {
					var bIsDark = oQRCode.isDark(row, col);
					var nLeft = col * nWidth;
					var nTop = row * nHeight;
					_oContext.strokeStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;
					_oContext.lineWidth = 1;
					_oContext.fillStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;
					_oContext.fillRect(nLeft, nTop, nWidth, nHeight);

					//    
					_oContext.strokeRect(
						Math.floor(nLeft) + 0.5,
						Math.floor(nTop) + 0.5,
						nRoundedWidth,
						nRoundedHeight
					);

					_oContext.strokeRect(
						Math.ceil(nLeft) - 0.5,
						Math.ceil(nTop) - 0.5,
						nRoundedWidth,
						nRoundedHeight
					);
				}
			}

			this._bIsPainted = true;
		};

		/**
		 * Make the image from Canvas if the browser supports Data URI.
		 */
		Drawing.prototype.makeImage = function () {
			if (this._bIsPainted) {
				_safeSetDataURI.call(this, _onMakeImage);
			}
		};

		/**
		 * Return whether the QRCode is painted or not
		 *
		 * @return {Boolean}
		 */
		Drawing.prototype.isPainted = function () {
			return this._bIsPainted;
		};

		/**
		 * Clear the QRCode
		 */
		Drawing.prototype.clear = function () {
			this._oContext.clearRect(0, 0, this._elCanvas.width, this._elCanvas.height);
			this._bIsPainted = false;
		};

		/**
		 * @private
		 * @param {Number} nNumber
		 */
		Drawing.prototype.round = function (nNumber) {
			if (!nNumber) {
				return nNumber;
			}

			return Math.floor(nNumber * 1000) / 1000;
		};

		return Drawing;
	})();

	/**
	 * Get the type by string length
	 *
	 * @private
	 * @param {String} sText
	 * @param {Number} nCorrectLevel
	 * @return {Number} type
	 */
	function _getTypeNumber(sText, nCorrectLevel) {
		var nType = 1;
		var length = _getUTF8Length(sText);

		for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {
			var nLimit = 0;

			switch (nCorrectLevel) {
				case QRErrorCorrectLevel.L :
					nLimit = QRCodeLimitLength[i][0];
					break;
				case QRErrorCorrectLevel.M :
					nLimit = QRCodeLimitLength[i][1];
					break;
				case QRErrorCorrectLevel.Q :
					nLimit = QRCodeLimitLength[i][2];
					break;
				case QRErrorCorrectLevel.H :
					nLimit = QRCodeLimitLength[i][3];
					break;
			}

			if (length <= nLimit) {
				break;
			} else {
				nType++;
			}
		}

		if (nType > QRCodeLimitLength.length) {
			throw new Error("Too long data");
		}

		return nType;
	}

	function _getUTF8Length(sText) {
		var replacedText = encodeURI(sText).toString().replace(/\%[0-9a-fA-F]{2}/g, 'a');
		return replacedText.length + (replacedText.length != sText ? 3 : 0);
	}

	/**
	 * @class QRCode
	 * @constructor
	 * @example
	 * new QRCode(document.getElementById("test"), "http://jindo.dev.naver.com/collie");
	 *
	 * @example
	 * var oQRCode = new QRCode("test", {
	 *    text : "http://naver.com",
	 *    width : 128,
	 *    height : 128
	 * });
	 *
	 * oQRCode.clear(); // Clear the QRCode.
	 * oQRCode.makeCode("http://map.naver.com"); // Re-create the QRCode.
	 *
	 * @param {HTMLElement|String} el target element or 'id' attribute of element.
	 * @param {Object|String} vOption
	 * @param {String} vOption.text QRCode link data
	 * @param {Number} [vOption.width=256]
	 * @param {Number} [vOption.height=256]
	 * @param {String} [vOption.colorDark="#000000"]
	 * @param {String} [vOption.colorLight="#ffffff"]
	 * @param {QRCode.CorrectLevel} [vOption.correctLevel=QRCode.CorrectLevel.H] [L|M|Q|H]
	 */
	QRCode = function (el, vOption) {
		this._htOption = {
			width : 256,
			height : 256,
			typeNumber : 4,
			colorDark : "#000000",
			colorLight : "#ffffff",
			correctLevel : QRErrorCorrectLevel.H
		};

		if (typeof vOption === 'string') {
			vOption	= {
				text : vOption
			};
		}

		// Overwrites options
		if (vOption) {
			for (var i in vOption) {
				this._htOption[i] = vOption[i];
			}
		}

		if (typeof el == "string") {
			el = document.getElementById(el);
		}

		if (this._htOption.useSVG) {
			Drawing = svgDrawer;
		}

		this._android = _getAndroid();
		this._el = el;
		this._oQRCode = null;
		this._oDrawing = new Drawing(this._el, this._htOption);

		if (this._htOption.text) {
			this.makeCode(this._htOption.text);
		}
	};

	/**
	 * Make the QRCode
	 *
	 * @param {String} sText link data
	 */
	QRCode.prototype.makeCode = function (sText) {
		this._oQRCode = new QRCodeModel(_getTypeNumber(sText, this._htOption.correctLevel), this._htOption.correctLevel);
		this._oQRCode.addData(sText);
		this._oQRCode.make();
		this._el.title = sText;
		this._oDrawing.draw(this._oQRCode);
		this.makeImage();
	};

	/**
	 * Make the Image from Canvas element
	 * - It occurs automatically
	 * - Android below 3 doesn't support Data-URI spec.
	 *
	 * @private
	 */
	QRCode.prototype.makeImage = function () {
		if (typeof this._oDrawing.makeImage == "function" && (!this._android || this._android >= 3)) {
			this._oDrawing.makeImage();
		}
	};

	/**
	 * Clear the QRCode
	 */
	QRCode.prototype.clear = function () {
		this._oDrawing.clear();
	};

	/**
	 * @name QRCode.CorrectLevel
	 */
	QRCode.CorrectLevel = QRErrorCorrectLevel;
})();
/**
 * Copyright (c) 2011-2014 Felix Gnass
 * Licensed under the MIT license
 * http://spin.js.org/
 *
 * Example:
    var opts = {
      lines: 12             // The number of lines to draw
    , length: 7             // The length of each line
    , width: 5              // The line thickness
    , radius: 10            // The radius of the inner circle
    , scale: 1.0            // Scales overall size of the spinner
    , corners: 1            // Roundness (0..1)
    , color: '#000'         // #rgb or #rrggbb
    , opacity: 1/4          // Opacity of the lines
    , rotate: 0             // Rotation offset
    , direction: 1          // 1: clockwise, -1: counterclockwise
    , speed: 1              // Rounds per second
    , trail: 100            // Afterglow percentage
    , fps: 20               // Frames per second when using setTimeout()
    , zIndex: 2e9           // Use a high z-index by default
    , className: 'spinner'  // CSS class to assign to the element
    , top: '50%'            // center vertically
    , left: '50%'           // center horizontally
    , shadow: false         // Whether to render a shadow
    , hwaccel: false        // Whether to use hardware acceleration (might be buggy)
    , position: 'absolute'  // Element positioning
    }
    var target = document.getElementById('foo')
    var spinner = new Spinner(opts).spin(target)
 */
;(function (root, factory) {

    /* CommonJS */
    // if (typeof module == 'object' && module.exports) module.exports = factory()

    /* AMD module */
    // else if (typeof define == 'function' && define.amd) define(factory)

    /* Browser global */
    // else root.Spinner = factory()
    
    Spinner = factory()
}(this, function () {
  "use strict"

  var prefixes = ['webkit', 'Moz', 'ms', 'O'] /* Vendor prefixes */
    , animations = {} /* Animation rules keyed by their name */
    , useCssAnimations /* Whether to use CSS animations or setTimeout */
    , sheet /* A stylesheet to hold the @keyframe or VML rules. */

  /**
   * Utility function to create elements. If no tag name is given,
   * a DIV is created. Optionally properties can be passed.
   */
  function createEl (tag, prop) {
    var el = document.createElement(tag || 'div')
      , n

    for (n in prop) el[n] = prop[n]
    return el
  }

  /**
   * Appends children and returns the parent.
   */
  function ins (parent /* child1, child2, ...*/) {
    for (var i = 1, n = arguments.length; i < n; i++) {
      parent.appendChild(arguments[i])
    }

    return parent
  }

  /**
   * Creates an opacity keyframe animation rule and returns its name.
   * Since most mobile Webkits have timing issues with animation-delay,
   * we create separate rules for each line/segment.
   */
  function addAnimation (alpha, trail, i, lines) {
    var name = ['opacity', trail, ~~(alpha * 100), i, lines].join('-')
      , start = 0.01 + i/lines * 100
      , z = Math.max(1 - (1-alpha) / trail * (100-start), alpha)
      , prefix = useCssAnimations.substring(0, useCssAnimations.indexOf('Animation')).toLowerCase()
      , pre = prefix && '-' + prefix + '-' || ''

    if (!animations[name]) {
      sheet.insertRule(
        '@' + pre + 'keyframes ' + name + '{' +
        '0%{opacity:' + z + '}' +
        start + '%{opacity:' + alpha + '}' +
        (start+0.01) + '%{opacity:1}' +
        (start+trail) % 100 + '%{opacity:' + alpha + '}' +
        '100%{opacity:' + z + '}' +
        '}', sheet.cssRules.length)

      animations[name] = 1
    }

    return name
  }

  /**
   * Tries various vendor prefixes and returns the first supported property.
   */
  function vendor (el, prop) {
    var s = el.style
      , pp
      , i

    prop = prop.charAt(0).toUpperCase() + prop.slice(1)
    if (s[prop] !== undefined) return prop
    for (i = 0; i < prefixes.length; i++) {
      pp = prefixes[i]+prop
      if (s[pp] !== undefined) return pp
    }
  }

  /**
   * Sets multiple style properties at once.
   */
  function css (el, prop) {
    for (var n in prop) {
      el.style[vendor(el, n) || n] = prop[n]
    }

    return el
  }

  /**
   * Fills in default values.
   */
  function merge (obj) {
    for (var i = 1; i < arguments.length; i++) {
      var def = arguments[i]
      for (var n in def) {
        if (obj[n] === undefined) obj[n] = def[n]
      }
    }
    return obj
  }

  /**
   * Returns the line color from the given string or array.
   */
  function getColor (color, idx) {
    return typeof color == 'string' ? color : color[idx % color.length]
  }

  // Built-in defaults

  var defaults = {
    lines: 12             // The number of lines to draw
  , length: 7             // The length of each line
  , width: 5              // The line thickness
  , radius: 10            // The radius of the inner circle
  , scale: 1.0            // Scales overall size of the spinner
  , corners: 1            // Roundness (0..1)
  , color: '#000'         // #rgb or #rrggbb
  , opacity: 1/4          // Opacity of the lines
  , rotate: 0             // Rotation offset
  , direction: 1          // 1: clockwise, -1: counterclockwise
  , speed: 1              // Rounds per second
  , trail: 100            // Afterglow percentage
  , fps: 20               // Frames per second when using setTimeout()
  , zIndex: 2e9           // Use a high z-index by default
  , className: 'spinner'  // CSS class to assign to the element
  , top: '50%'            // center vertically
  , left: '50%'           // center horizontally
  , shadow: false         // Whether to render a shadow
  , hwaccel: false        // Whether to use hardware acceleration (might be buggy)
  , position: 'absolute'  // Element positioning
  }

  /** The constructor */
  function Spinner (o) {
    this.opts = merge(o || {}, Spinner.defaults, defaults)
  }

  // Global defaults that override the built-ins:
  Spinner.defaults = {}

  merge(Spinner.prototype, {
    /**
     * Adds the spinner to the given target element. If this instance is already
     * spinning, it is automatically removed from its previous target b calling
     * stop() internally.
     */
    spin: function (target) {
      this.stop()

      var self = this
        , o = self.opts
        , el = self.el = createEl(null, {className: o.className})

      css(el, {
        position: o.position
      , width: 0
      , zIndex: o.zIndex
      , left: o.left
      , top: o.top
      })

      if (target) {
        target.insertBefore(el, target.firstChild || null)
      }

      el.setAttribute('role', 'progressbar')
      self.lines(el, self.opts)

      if (!useCssAnimations) {
        // No CSS animation support, use setTimeout() instead
        var i = 0
          , start = (o.lines - 1) * (1 - o.direction) / 2
          , alpha
          , fps = o.fps
          , f = fps / o.speed
          , ostep = (1 - o.opacity) / (f * o.trail / 100)
          , astep = f / o.lines

        ;(function anim () {
          i++
          for (var j = 0; j < o.lines; j++) {
            alpha = Math.max(1 - (i + (o.lines - j) * astep) % f * ostep, o.opacity)

            self.opacity(el, j * o.direction + start, alpha, o)
          }
          self.timeout = self.el && setTimeout(anim, ~~(1000 / fps))
        })()
      }
      return self
    }

    /**
     * Stops and removes the Spinner.
     */
  , stop: function () {
      var el = this.el
      if (el) {
        clearTimeout(this.timeout)
        if (el.parentNode) el.parentNode.removeChild(el)
        this.el = undefined
      }
      return this
    }

    /**
     * Internal method that draws the individual lines. Will be overwritten
     * in VML fallback mode below.
     */
  , lines: function (el, o) {
      var i = 0
        , start = (o.lines - 1) * (1 - o.direction) / 2
        , seg

      function fill (color, shadow) {
        return css(createEl(), {
          position: 'absolute'
        , width: o.scale * (o.length + o.width) + 'px'
        , height: o.scale * o.width + 'px'
        , background: color
        , boxShadow: shadow
        , transformOrigin: 'left'
        , transform: 'rotate(' + ~~(360/o.lines*i + o.rotate) + 'deg) translate(' + o.scale*o.radius + 'px' + ',0)'
        , borderRadius: (o.corners * o.scale * o.width >> 1) + 'px'
        })
      }

      for (; i < o.lines; i++) {
        seg = css(createEl(), {
          position: 'absolute'
        , top: 1 + ~(o.scale * o.width / 2) + 'px'
        , transform: o.hwaccel ? 'translate3d(0,0,0)' : ''
        , opacity: o.opacity
        , animation: useCssAnimations && addAnimation(o.opacity, o.trail, start + i * o.direction, o.lines) + ' ' + 1 / o.speed + 's linear infinite'
        })

        if (o.shadow) ins(seg, css(fill('#000', '0 0 4px #000'), {top: '2px'}))
        ins(el, ins(seg, fill(getColor(o.color, i), '0 0 1px rgba(0,0,0,.1)')))
      }
      return el
    }

    /**
     * Internal method that adjusts the opacity of a single line.
     * Will be overwritten in VML fallback mode below.
     */
  , opacity: function (el, i, val) {
      if (i < el.childNodes.length) el.childNodes[i].style.opacity = val
    }

  })


  function initVML () {

    /* Utility function to create a VML tag */
    function vml (tag, attr) {
      return createEl('<' + tag + ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">', attr)
    }

    // No CSS transforms but VML support, add a CSS rule for VML elements:
    sheet.addRule('.spin-vml', 'behavior:url(#default#VML)')

    Spinner.prototype.lines = function (el, o) {
      var r = o.scale * (o.length + o.width)
        , s = o.scale * 2 * r

      function grp () {
        return css(
          vml('group', {
            coordsize: s + ' ' + s
          , coordorigin: -r + ' ' + -r
          })
        , { width: s, height: s }
        )
      }

      var margin = -(o.width + o.length) * o.scale * 2 + 'px'
        , g = css(grp(), {position: 'absolute', top: margin, left: margin})
        , i

      function seg (i, dx, filter) {
        ins(
          g
        , ins(
            css(grp(), {rotation: 360 / o.lines * i + 'deg', left: ~~dx})
          , ins(
              css(
                vml('roundrect', {arcsize: o.corners})
              , { width: r
                , height: o.scale * o.width
                , left: o.scale * o.radius
                , top: -o.scale * o.width >> 1
                , filter: filter
                }
              )
            , vml('fill', {color: getColor(o.color, i), opacity: o.opacity})
            , vml('stroke', {opacity: 0}) // transparent stroke to fix color bleeding upon opacity change
            )
          )
        )
      }

      if (o.shadow)
        for (i = 1; i <= o.lines; i++) {
          seg(i, -2, 'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')
        }

      for (i = 1; i <= o.lines; i++) seg(i)
      return ins(el, g)
    }

    Spinner.prototype.opacity = function (el, i, val, o) {
      var c = el.firstChild
      o = o.shadow && o.lines || 0
      if (c && i + o < c.childNodes.length) {
        c = c.childNodes[i + o]; c = c && c.firstChild; c = c && c.firstChild
        if (c) c.opacity = val
      }
    }
  }

  if (typeof document !== 'undefined') {
    sheet = (function () {
      var el = createEl('style', {type : 'text/css'})
      ins(document.getElementsByTagName('head')[0], el)
      return el.sheet || el.styleSheet
    }())

    var probe = css(createEl('group'), {behavior: 'url(#default#VML)'})

    if (!vendor(probe, 'transform') && probe.adj) initVML()
    else useCssAnimations = vendor(probe, 'animation')
  }

  return Spinner

}));
// TinyColor v1.3.0
// https://github.com/bgrins/TinyColor
// Brian Grinstead, MIT License

(function(Math) {

var trimLeft = /^\s+/,
    trimRight = /\s+$/,
    tinyCounter = 0,
    mathRound = Math.round,
    mathMin = Math.min,
    mathMax = Math.max,
    mathRandom = Math.random;

function tinycolor (color, opts) {

    color = (color) ? color : '';
    opts = opts || { };

    // If input is already a tinycolor, return itself
    if (color instanceof tinycolor) {
       return color;
    }
    // If we are called as a function, call using new instead
    if (!(this instanceof tinycolor)) {
        return new tinycolor(color, opts);
    }

    var rgb = inputToRGB(color);
    this._originalInput = color,
    this._r = rgb.r,
    this._g = rgb.g,
    this._b = rgb.b,
    this._a = rgb.a,
    this._roundA = mathRound(100*this._a) / 100,
    this._format = opts.format || rgb.format;
    this._gradientType = opts.gradientType;

    // Don't let the range of [0,255] come back in [0,1].
    // Potentially lose a little bit of precision here, but will fix issues where
    // .5 gets interpreted as half of the total, instead of half of 1
    // If it was supposed to be 128, this was already taken care of by `inputToRgb`
    if (this._r < 1) { this._r = mathRound(this._r); }
    if (this._g < 1) { this._g = mathRound(this._g); }
    if (this._b < 1) { this._b = mathRound(this._b); }

    this._ok = rgb.ok;
    this._tc_id = tinyCounter++;
}

tinycolor.prototype = {
    isDark: function() {
        return this.getBrightness() < 128;
    },
    isLight: function() {
        return !this.isDark();
    },
    isValid: function() {
        return this._ok;
    },
    getOriginalInput: function() {
      return this._originalInput;
    },
    getFormat: function() {
        return this._format;
    },
    getAlpha: function() {
        return this._a;
    },
    getBrightness: function() {
        //http://www.w3.org/TR/AERT#color-contrast
        var rgb = this.toRgb();
        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;
    },
    getLuminance: function() {
        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef
        var rgb = this.toRgb();
        var RsRGB, GsRGB, BsRGB, R, G, B;
        RsRGB = rgb.r/255;
        GsRGB = rgb.g/255;
        BsRGB = rgb.b/255;

        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}
        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}
        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}
        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);
    },
    setAlpha: function(value) {
        this._a = boundAlpha(value);
        this._roundA = mathRound(100*this._a) / 100;
        return this;
    },
    toHsv: function() {
        var hsv = rgbToHsv(this._r, this._g, this._b);
        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };
    },
    toHsvString: function() {
        var hsv = rgbToHsv(this._r, this._g, this._b);
        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);
        return (this._a == 1) ?
          "hsv("  + h + ", " + s + "%, " + v + "%)" :
          "hsva(" + h + ", " + s + "%, " + v + "%, "+ this._roundA + ")";
    },
    toHsl: function() {
        var hsl = rgbToHsl(this._r, this._g, this._b);
        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };
    },
    toHslString: function() {
        var hsl = rgbToHsl(this._r, this._g, this._b);
        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);
        return (this._a == 1) ?
          "hsl("  + h + ", " + s + "%, " + l + "%)" :
          "hsla(" + h + ", " + s + "%, " + l + "%, "+ this._roundA + ")";
    },
    toHex: function(allow3Char) {
        return rgbToHex(this._r, this._g, this._b, allow3Char);
    },
    toHexString: function(allow3Char) {
        return '#' + this.toHex(allow3Char);
    },
    toHex8: function() {
        return rgbaToHex(this._r, this._g, this._b, this._a);
    },
    toHex8String: function() {
        return '#' + this.toHex8();
    },
    toRgb: function() {
        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };
    },
    toRgbString: function() {
        return (this._a == 1) ?
          "rgb("  + mathRound(this._r) + ", " + mathRound(this._g) + ", " + mathRound(this._b) + ")" :
          "rgba(" + mathRound(this._r) + ", " + mathRound(this._g) + ", " + mathRound(this._b) + ", " + this._roundA + ")";
    },
    toPercentageRgb: function() {
        return { r: mathRound(bound01(this._r, 255) * 100) + "%", g: mathRound(bound01(this._g, 255) * 100) + "%", b: mathRound(bound01(this._b, 255) * 100) + "%", a: this._a };
    },
    toPercentageRgbString: function() {
        return (this._a == 1) ?
          "rgb("  + mathRound(bound01(this._r, 255) * 100) + "%, " + mathRound(bound01(this._g, 255) * 100) + "%, " + mathRound(bound01(this._b, 255) * 100) + "%)" :
          "rgba(" + mathRound(bound01(this._r, 255) * 100) + "%, " + mathRound(bound01(this._g, 255) * 100) + "%, " + mathRound(bound01(this._b, 255) * 100) + "%, " + this._roundA + ")";
    },
    toName: function() {
        if (this._a === 0) {
            return "transparent";
        }

        if (this._a < 1) {
            return false;
        }

        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;
    },
    toFilter: function(secondColor) {
        var hex8String = '#' + rgbaToHex(this._r, this._g, this._b, this._a);
        var secondHex8String = hex8String;
        var gradientType = this._gradientType ? "GradientType = 1, " : "";

        if (secondColor) {
            var s = tinycolor(secondColor);
            secondHex8String = s.toHex8String();
        }

        return "progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")";
    },
    toString: function(format) {
        var formatSet = !!format;
        format = format || this._format;

        var formattedString = false;
        var hasAlpha = this._a < 1 && this._a >= 0;
        var needsAlphaFormat = !formatSet && hasAlpha && (format === "hex" || format === "hex6" || format === "hex3" || format === "name");

        if (needsAlphaFormat) {
            // Special case for "transparent", all other non-alpha formats
            // will return rgba when there is transparency.
            if (format === "name" && this._a === 0) {
                return this.toName();
            }
            return this.toRgbString();
        }
        if (format === "rgb") {
            formattedString = this.toRgbString();
        }
        if (format === "prgb") {
            formattedString = this.toPercentageRgbString();
        }
        if (format === "hex" || format === "hex6") {
            formattedString = this.toHexString();
        }
        if (format === "hex3") {
            formattedString = this.toHexString(true);
        }
        if (format === "hex8") {
            formattedString = this.toHex8String();
        }
        if (format === "name") {
            formattedString = this.toName();
        }
        if (format === "hsl") {
            formattedString = this.toHslString();
        }
        if (format === "hsv") {
            formattedString = this.toHsvString();
        }

        return formattedString || this.toHexString();
    },
    clone: function() {
        return tinycolor(this.toString());
    },

    _applyModification: function(fn, args) {
        var color = fn.apply(null, [this].concat([].slice.call(args)));
        this._r = color._r;
        this._g = color._g;
        this._b = color._b;
        this.setAlpha(color._a);
        return this;
    },
    lighten: function() {
        return this._applyModification(lighten, arguments);
    },
    brighten: function() {
        return this._applyModification(brighten, arguments);
    },
    darken: function() {
        return this._applyModification(darken, arguments);
    },
    desaturate: function() {
        return this._applyModification(desaturate, arguments);
    },
    saturate: function() {
        return this._applyModification(saturate, arguments);
    },
    greyscale: function() {
        return this._applyModification(greyscale, arguments);
    },
    spin: function() {
        return this._applyModification(spin, arguments);
    },

    _applyCombination: function(fn, args) {
        return fn.apply(null, [this].concat([].slice.call(args)));
    },
    analogous: function() {
        return this._applyCombination(analogous, arguments);
    },
    complement: function() {
        return this._applyCombination(complement, arguments);
    },
    monochromatic: function() {
        return this._applyCombination(monochromatic, arguments);
    },
    splitcomplement: function() {
        return this._applyCombination(splitcomplement, arguments);
    },
    triad: function() {
        return this._applyCombination(triad, arguments);
    },
    tetrad: function() {
        return this._applyCombination(tetrad, arguments);
    }
};

// If input is an object, force 1 into "1.0" to handle ratios properly
// String input requires "1.0" as input, so 1 will be treated as 1
tinycolor.fromRatio = function(color, opts) {
    if (typeof color == "object") {
        var newColor = {};
        for (var i in color) {
            if (color.hasOwnProperty(i)) {
                if (i === "a") {
                    newColor[i] = color[i];
                }
                else {
                    newColor[i] = convertToPercentage(color[i]);
                }
            }
        }
        color = newColor;
    }

    return tinycolor(color, opts);
};

// Given a string or object, convert that input to RGB
// Possible string inputs:
//
//     "red"
//     "#f00" or "f00"
//     "#ff0000" or "ff0000"
//     "#ff000000" or "ff000000"
//     "rgb 255 0 0" or "rgb (255, 0, 0)"
//     "rgb 1.0 0 0" or "rgb (1, 0, 0)"
//     "rgba (255, 0, 0, 1)" or "rgba 255, 0, 0, 1"
//     "rgba (1.0, 0, 0, 1)" or "rgba 1.0, 0, 0, 1"
//     "hsl(0, 100%, 50%)" or "hsl 0 100% 50%"
//     "hsla(0, 100%, 50%, 1)" or "hsla 0 100% 50%, 1"
//     "hsv(0, 100%, 100%)" or "hsv 0 100% 100%"
//
function inputToRGB(color) {

    var rgb = { r: 0, g: 0, b: 0 };
    var a = 1;
    var s = null;
    var v = null;
    var l = null;
    var ok = false;
    var format = false;

    if (typeof color == "string") {
        color = stringInputToObject(color);
    }

    if (typeof color == "object") {
        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {
            rgb = rgbToRgb(color.r, color.g, color.b);
            ok = true;
            format = String(color.r).substr(-1) === "%" ? "prgb" : "rgb";
        }
        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {
            s = convertToPercentage(color.s);
            v = convertToPercentage(color.v);
            rgb = hsvToRgb(color.h, s, v);
            ok = true;
            format = "hsv";
        }
        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {
            s = convertToPercentage(color.s);
            l = convertToPercentage(color.l);
            rgb = hslToRgb(color.h, s, l);
            ok = true;
            format = "hsl";
        }

        if (color.hasOwnProperty("a")) {
            a = color.a;
        }
    }

    a = boundAlpha(a);

    return {
        ok: ok,
        format: color.format || format,
        r: mathMin(255, mathMax(rgb.r, 0)),
        g: mathMin(255, mathMax(rgb.g, 0)),
        b: mathMin(255, mathMax(rgb.b, 0)),
        a: a
    };
}


// Conversion Functions
// --------------------

// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:
// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>

// `rgbToRgb`
// Handle bounds / percentage checking to conform to CSS color spec
// <http://www.w3.org/TR/css3-color/>
// *Assumes:* r, g, b in [0, 255] or [0, 1]
// *Returns:* { r, g, b } in [0, 255]
function rgbToRgb(r, g, b){
    return {
        r: bound01(r, 255) * 255,
        g: bound01(g, 255) * 255,
        b: bound01(b, 255) * 255
    };
}

// `rgbToHsl`
// Converts an RGB color value to HSL.
// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]
// *Returns:* { h, s, l } in [0,1]
function rgbToHsl(r, g, b) {

    r = bound01(r, 255);
    g = bound01(g, 255);
    b = bound01(b, 255);

    var max = mathMax(r, g, b), min = mathMin(r, g, b);
    var h, s, l = (max + min) / 2;

    if(max == min) {
        h = s = 0; // achromatic
    }
    else {
        var d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        switch(max) {
            case r: h = (g - b) / d + (g < b ? 6 : 0); break;
            case g: h = (b - r) / d + 2; break;
            case b: h = (r - g) / d + 4; break;
        }

        h /= 6;
    }

    return { h: h, s: s, l: l };
}

// `hslToRgb`
// Converts an HSL color value to RGB.
// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]
// *Returns:* { r, g, b } in the set [0, 255]
function hslToRgb(h, s, l) {
    var r, g, b;

    h = bound01(h, 360);
    s = bound01(s, 100);
    l = bound01(l, 100);

    function hue2rgb(p, q, t) {
        if(t < 0) t += 1;
        if(t > 1) t -= 1;
        if(t < 1/6) return p + (q - p) * 6 * t;
        if(t < 1/2) return q;
        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;
        return p;
    }

    if(s === 0) {
        r = g = b = l; // achromatic
    }
    else {
        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
        var p = 2 * l - q;
        r = hue2rgb(p, q, h + 1/3);
        g = hue2rgb(p, q, h);
        b = hue2rgb(p, q, h - 1/3);
    }

    return { r: r * 255, g: g * 255, b: b * 255 };
}

// `rgbToHsv`
// Converts an RGB color value to HSV
// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]
// *Returns:* { h, s, v } in [0,1]
function rgbToHsv(r, g, b) {

    r = bound01(r, 255);
    g = bound01(g, 255);
    b = bound01(b, 255);

    var max = mathMax(r, g, b), min = mathMin(r, g, b);
    var h, s, v = max;

    var d = max - min;
    s = max === 0 ? 0 : d / max;

    if(max == min) {
        h = 0; // achromatic
    }
    else {
        switch(max) {
            case r: h = (g - b) / d + (g < b ? 6 : 0); break;
            case g: h = (b - r) / d + 2; break;
            case b: h = (r - g) / d + 4; break;
        }
        h /= 6;
    }
    return { h: h, s: s, v: v };
}

// `hsvToRgb`
// Converts an HSV color value to RGB.
// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]
// *Returns:* { r, g, b } in the set [0, 255]
 function hsvToRgb(h, s, v) {

    h = bound01(h, 360) * 6;
    s = bound01(s, 100);
    v = bound01(v, 100);

    var i = Math.floor(h),
        f = h - i,
        p = v * (1 - s),
        q = v * (1 - f * s),
        t = v * (1 - (1 - f) * s),
        mod = i % 6,
        r = [v, q, p, p, t, v][mod],
        g = [t, v, v, q, p, p][mod],
        b = [p, p, t, v, v, q][mod];

    return { r: r * 255, g: g * 255, b: b * 255 };
}

// `rgbToHex`
// Converts an RGB color to hex
// Assumes r, g, and b are contained in the set [0, 255]
// Returns a 3 or 6 character hex
function rgbToHex(r, g, b, allow3Char) {

    var hex = [
        pad2(mathRound(r).toString(16)),
        pad2(mathRound(g).toString(16)),
        pad2(mathRound(b).toString(16))
    ];

    // Return a 3 character hex if possible
    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {
        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);
    }

    return hex.join("");
}

// `rgbaToHex`
// Converts an RGBA color plus alpha transparency to hex
// Assumes r, g, b and a are contained in the set [0, 255]
// Returns an 8 character hex
function rgbaToHex(r, g, b, a) {

    var hex = [
        pad2(convertDecimalToHex(a)),
        pad2(mathRound(r).toString(16)),
        pad2(mathRound(g).toString(16)),
        pad2(mathRound(b).toString(16))
    ];

    return hex.join("");
}

// `equals`
// Can be called with any tinycolor input
tinycolor.equals = function (color1, color2) {
    if (!color1 || !color2) { return false; }
    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();
};

tinycolor.random = function() {
    return tinycolor.fromRatio({
        r: mathRandom(),
        g: mathRandom(),
        b: mathRandom()
    });
};


// Modification Functions
// ----------------------
// Thanks to less.js for some of the basics here
// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>

function desaturate(color, amount) {
    amount = (amount === 0) ? 0 : (amount || 10);
    var hsl = tinycolor(color).toHsl();
    hsl.s -= amount / 100;
    hsl.s = clamp01(hsl.s);
    return tinycolor(hsl);
}

function saturate(color, amount) {
    amount = (amount === 0) ? 0 : (amount || 10);
    var hsl = tinycolor(color).toHsl();
    hsl.s += amount / 100;
    hsl.s = clamp01(hsl.s);
    return tinycolor(hsl);
}

function greyscale(color) {
    return tinycolor(color).desaturate(100);
}

function lighten (color, amount) {
    amount = (amount === 0) ? 0 : (amount || 10);
    var hsl = tinycolor(color).toHsl();
    hsl.l += amount / 100;
    hsl.l = clamp01(hsl.l);
    return tinycolor(hsl);
}

function brighten(color, amount) {
    amount = (amount === 0) ? 0 : (amount || 10);
    var rgb = tinycolor(color).toRgb();
    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));
    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));
    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));
    return tinycolor(rgb);
}

function darken (color, amount) {
    amount = (amount === 0) ? 0 : (amount || 10);
    var hsl = tinycolor(color).toHsl();
    hsl.l -= amount / 100;
    hsl.l = clamp01(hsl.l);
    return tinycolor(hsl);
}

// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.
// Values outside of this range will be wrapped into this range.
function spin(color, amount) {
    var hsl = tinycolor(color).toHsl();
    var hue = (hsl.h + amount) % 360;
    hsl.h = hue < 0 ? 360 + hue : hue;
    return tinycolor(hsl);
}

// Combination Functions
// ---------------------
// Thanks to jQuery xColor for some of the ideas behind these
// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>

function complement(color) {
    var hsl = tinycolor(color).toHsl();
    hsl.h = (hsl.h + 180) % 360;
    return tinycolor(hsl);
}

function triad(color) {
    var hsl = tinycolor(color).toHsl();
    var h = hsl.h;
    return [
        tinycolor(color),
        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),
        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })
    ];
}

function tetrad(color) {
    var hsl = tinycolor(color).toHsl();
    var h = hsl.h;
    return [
        tinycolor(color),
        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),
        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),
        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })
    ];
}

function splitcomplement(color) {
    var hsl = tinycolor(color).toHsl();
    var h = hsl.h;
    return [
        tinycolor(color),
        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),
        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})
    ];
}

function analogous(color, results, slices) {
    results = results || 6;
    slices = slices || 30;

    var hsl = tinycolor(color).toHsl();
    var part = 360 / slices;
    var ret = [tinycolor(color)];

    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {
        hsl.h = (hsl.h + part) % 360;
        ret.push(tinycolor(hsl));
    }
    return ret;
}

function monochromatic(color, results) {
    results = results || 6;
    var hsv = tinycolor(color).toHsv();
    var h = hsv.h, s = hsv.s, v = hsv.v;
    var ret = [];
    var modification = 1 / results;

    while (results--) {
        ret.push(tinycolor({ h: h, s: s, v: v}));
        v = (v + modification) % 1;
    }

    return ret;
}

// Utility Functions
// ---------------------

tinycolor.mix = function(color1, color2, amount) {
    amount = (amount === 0) ? 0 : (amount || 50);

    var rgb1 = tinycolor(color1).toRgb();
    var rgb2 = tinycolor(color2).toRgb();

    var p = amount / 100;
    var w = p * 2 - 1;
    var a = rgb2.a - rgb1.a;

    var w1;

    if (w * a == -1) {
        w1 = w;
    } else {
        w1 = (w + a) / (1 + w * a);
    }

    w1 = (w1 + 1) / 2;

    var w2 = 1 - w1;

    var rgba = {
        r: rgb2.r * w1 + rgb1.r * w2,
        g: rgb2.g * w1 + rgb1.g * w2,
        b: rgb2.b * w1 + rgb1.b * w2,
        a: rgb2.a * p  + rgb1.a * (1 - p)
    };

    return tinycolor(rgba);
};


// Readability Functions
// ---------------------
// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)

// `contrast`
// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)
tinycolor.readability = function(color1, color2) {
    var c1 = tinycolor(color1);
    var c2 = tinycolor(color2);
    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);
};

// `isReadable`
// Ensure that foreground and background color combinations meet WCAG2 guidelines.
// The third argument is an optional Object.
//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';
//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.
// If the entire object is absent, isReadable defaults to {level:"AA",size:"small"}.

// *Example*
//    tinycolor.isReadable("#000", "#111") => false
//    tinycolor.isReadable("#000", "#111",{level:"AA",size:"large"}) => false
tinycolor.isReadable = function(color1, color2, wcag2) {
    var readability = tinycolor.readability(color1, color2);
    var wcag2Parms, out;

    out = false;

    wcag2Parms = validateWCAG2Parms(wcag2);
    switch (wcag2Parms.level + wcag2Parms.size) {
        case "AAsmall":
        case "AAAlarge":
            out = readability >= 4.5;
            break;
        case "AAlarge":
            out = readability >= 3;
            break;
        case "AAAsmall":
            out = readability >= 7;
            break;
    }
    return out;

};

// `mostReadable`
// Given a base color and a list of possible foreground or background
// colors for that base, returns the most readable color.
// Optionally returns Black or White if the most readable color is unreadable.
// *Example*
//    tinycolor.mostReadable(tinycolor.mostReadable("#123", ["#124", "#125"],{includeFallbackColors:false}).toHexString(); // "#112255"
//    tinycolor.mostReadable(tinycolor.mostReadable("#123", ["#124", "#125"],{includeFallbackColors:true}).toHexString();  // "#ffffff"
//    tinycolor.mostReadable("#a8015a", ["#faf3f3"],{includeFallbackColors:true,level:"AAA",size:"large"}).toHexString(); // "#faf3f3"
//    tinycolor.mostReadable("#a8015a", ["#faf3f3"],{includeFallbackColors:true,level:"AAA",size:"small"}).toHexString(); // "#ffffff"
tinycolor.mostReadable = function(baseColor, colorList, args) {
    var bestColor = null;
    var bestScore = 0;
    var readability;
    var includeFallbackColors, level, size ;
    args = args || {};
    includeFallbackColors = args.includeFallbackColors ;
    level = args.level;
    size = args.size;

    for (var i= 0; i < colorList.length ; i++) {
        readability = tinycolor.readability(baseColor, colorList[i]);
        if (readability > bestScore) {
            bestScore = readability;
            bestColor = tinycolor(colorList[i]);
        }
    }

    if (tinycolor.isReadable(baseColor, bestColor, {"level":level,"size":size}) || !includeFallbackColors) {
        return bestColor;
    }
    else {
        args.includeFallbackColors=false;
        return tinycolor.mostReadable(baseColor,["#fff", "#000"],args);
    }
};


// Big List of Colors
// ------------------
// <http://www.w3.org/TR/css3-color/#svg-color>
var names = tinycolor.names = {
    aliceblue: "f0f8ff",
    antiquewhite: "faebd7",
    aqua: "0ff",
    aquamarine: "7fffd4",
    azure: "f0ffff",
    beige: "f5f5dc",
    bisque: "ffe4c4",
    black: "000",
    blanchedalmond: "ffebcd",
    blue: "00f",
    blueviolet: "8a2be2",
    brown: "a52a2a",
    burlywood: "deb887",
    burntsienna: "ea7e5d",
    cadetblue: "5f9ea0",
    chartreuse: "7fff00",
    chocolate: "d2691e",
    coral: "ff7f50",
    cornflowerblue: "6495ed",
    cornsilk: "fff8dc",
    crimson: "dc143c",
    cyan: "0ff",
    darkblue: "00008b",
    darkcyan: "008b8b",
    darkgoldenrod: "b8860b",
    darkgray: "a9a9a9",
    darkgreen: "006400",
    darkgrey: "a9a9a9",
    darkkhaki: "bdb76b",
    darkmagenta: "8b008b",
    darkolivegreen: "556b2f",
    darkorange: "ff8c00",
    darkorchid: "9932cc",
    darkred: "8b0000",
    darksalmon: "e9967a",
    darkseagreen: "8fbc8f",
    darkslateblue: "483d8b",
    darkslategray: "2f4f4f",
    darkslategrey: "2f4f4f",
    darkturquoise: "00ced1",
    darkviolet: "9400d3",
    deeppink: "ff1493",
    deepskyblue: "00bfff",
    dimgray: "696969",
    dimgrey: "696969",
    dodgerblue: "1e90ff",
    firebrick: "b22222",
    floralwhite: "fffaf0",
    forestgreen: "228b22",
    fuchsia: "f0f",
    gainsboro: "dcdcdc",
    ghostwhite: "f8f8ff",
    gold: "ffd700",
    goldenrod: "daa520",
    gray: "808080",
    green: "008000",
    greenyellow: "adff2f",
    grey: "808080",
    honeydew: "f0fff0",
    hotpink: "ff69b4",
    indianred: "cd5c5c",
    indigo: "4b0082",
    ivory: "fffff0",
    khaki: "f0e68c",
    lavender: "e6e6fa",
    lavenderblush: "fff0f5",
    lawngreen: "7cfc00",
    lemonchiffon: "fffacd",
    lightblue: "add8e6",
    lightcoral: "f08080",
    lightcyan: "e0ffff",
    lightgoldenrodyellow: "fafad2",
    lightgray: "d3d3d3",
    lightgreen: "90ee90",
    lightgrey: "d3d3d3",
    lightpink: "ffb6c1",
    lightsalmon: "ffa07a",
    lightseagreen: "20b2aa",
    lightskyblue: "87cefa",
    lightslategray: "789",
    lightslategrey: "789",
    lightsteelblue: "b0c4de",
    lightyellow: "ffffe0",
    lime: "0f0",
    limegreen: "32cd32",
    linen: "faf0e6",
    magenta: "f0f",
    maroon: "800000",
    mediumaquamarine: "66cdaa",
    mediumblue: "0000cd",
    mediumorchid: "ba55d3",
    mediumpurple: "9370db",
    mediumseagreen: "3cb371",
    mediumslateblue: "7b68ee",
    mediumspringgreen: "00fa9a",
    mediumturquoise: "48d1cc",
    mediumvioletred: "c71585",
    midnightblue: "191970",
    mintcream: "f5fffa",
    mistyrose: "ffe4e1",
    moccasin: "ffe4b5",
    navajowhite: "ffdead",
    navy: "000080",
    oldlace: "fdf5e6",
    olive: "808000",
    olivedrab: "6b8e23",
    orange: "ffa500",
    orangered: "ff4500",
    orchid: "da70d6",
    palegoldenrod: "eee8aa",
    palegreen: "98fb98",
    paleturquoise: "afeeee",
    palevioletred: "db7093",
    papayawhip: "ffefd5",
    peachpuff: "ffdab9",
    peru: "cd853f",
    pink: "ffc0cb",
    plum: "dda0dd",
    powderblue: "b0e0e6",
    purple: "800080",
    rebeccapurple: "663399",
    red: "f00",
    rosybrown: "bc8f8f",
    royalblue: "4169e1",
    saddlebrown: "8b4513",
    salmon: "fa8072",
    sandybrown: "f4a460",
    seagreen: "2e8b57",
    seashell: "fff5ee",
    sienna: "a0522d",
    silver: "c0c0c0",
    skyblue: "87ceeb",
    slateblue: "6a5acd",
    slategray: "708090",
    slategrey: "708090",
    snow: "fffafa",
    springgreen: "00ff7f",
    steelblue: "4682b4",
    tan: "d2b48c",
    teal: "008080",
    thistle: "d8bfd8",
    tomato: "ff6347",
    turquoise: "40e0d0",
    violet: "ee82ee",
    wheat: "f5deb3",
    white: "fff",
    whitesmoke: "f5f5f5",
    yellow: "ff0",
    yellowgreen: "9acd32"
};

// Make it easy to access colors via `hexNames[hex]`
var hexNames = tinycolor.hexNames = flip(names);


// Utilities
// ---------

// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`
function flip(o) {
    var flipped = { };
    for (var i in o) {
        if (o.hasOwnProperty(i)) {
            flipped[o[i]] = i;
        }
    }
    return flipped;
}

// Return a valid alpha value [0,1] with all invalid values being set to 1
function boundAlpha(a) {
    a = parseFloat(a);

    if (isNaN(a) || a < 0 || a > 1) {
        a = 1;
    }

    return a;
}

// Take input from [0, n] and return it as [0, 1]
function bound01(n, max) {
    if (isOnePointZero(n)) { n = "100%"; }

    var processPercent = isPercentage(n);
    n = mathMin(max, mathMax(0, parseFloat(n)));

    // Automatically convert percentage into number
    if (processPercent) {
        n = parseInt(n * max, 10) / 100;
    }

    // Handle floating point rounding errors
    if ((Math.abs(n - max) < 0.000001)) {
        return 1;
    }

    // Convert into [0, 1] range if it isn't already
    return (n % max) / parseFloat(max);
}

// Force a number between 0 and 1
function clamp01(val) {
    return mathMin(1, mathMax(0, val));
}

// Parse a base-16 hex value into a base-10 integer
function parseIntFromHex(val) {
    return parseInt(val, 16);
}

// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1
// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>
function isOnePointZero(n) {
    return typeof n == "string" && n.indexOf('.') != -1 && parseFloat(n) === 1;
}

// Check to see if string passed in is a percentage
function isPercentage(n) {
    return typeof n === "string" && n.indexOf('%') != -1;
}

// Force a hex value to have 2 characters
function pad2(c) {
    return c.length == 1 ? '0' + c : '' + c;
}

// Replace a decimal with it's percentage value
function convertToPercentage(n) {
    if (n <= 1) {
        n = (n * 100) + "%";
    }

    return n;
}

// Converts a decimal to a hex value
function convertDecimalToHex(d) {
    return Math.round(parseFloat(d) * 255).toString(16);
}
// Converts a hex value to a decimal
function convertHexToDecimal(h) {
    return (parseIntFromHex(h) / 255);
}

var matchers = (function() {

    // <http://www.w3.org/TR/css3-values/#integers>
    var CSS_INTEGER = "[-\\+]?\\d+%?";

    // <http://www.w3.org/TR/css3-values/#number-value>
    var CSS_NUMBER = "[-\\+]?\\d*\\.\\d+%?";

    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.
    var CSS_UNIT = "(?:" + CSS_NUMBER + ")|(?:" + CSS_INTEGER + ")";

    // Actual matching.
    // Parentheses and commas are optional, but not required.
    // Whitespace can take the place of commas or opening paren
    var PERMISSIVE_MATCH3 = "[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";
    var PERMISSIVE_MATCH4 = "[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";

    return {
        CSS_UNIT: new RegExp(CSS_UNIT),
        rgb: new RegExp("rgb" + PERMISSIVE_MATCH3),
        rgba: new RegExp("rgba" + PERMISSIVE_MATCH4),
        hsl: new RegExp("hsl" + PERMISSIVE_MATCH3),
        hsla: new RegExp("hsla" + PERMISSIVE_MATCH4),
        hsv: new RegExp("hsv" + PERMISSIVE_MATCH3),
        hsva: new RegExp("hsva" + PERMISSIVE_MATCH4),
        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
    };
})();

// `isValidCSSUnit`
// Take in a single string / number and check to see if it looks like a CSS unit
// (see `matchers` above for definition).
function isValidCSSUnit(color) {
    return !!matchers.CSS_UNIT.exec(color);
}

// `stringInputToObject`
// Permissive string parsing.  Take in a number of formats, and output an object
// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`
function stringInputToObject(color) {

    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();
    var named = false;
    if (names[color]) {
        color = names[color];
        named = true;
    }
    else if (color == 'transparent') {
        return { r: 0, g: 0, b: 0, a: 0, format: "name" };
    }

    // Try to match string input using regular expressions.
    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]
    // Just return an object and let the conversion functions handle that.
    // This way the result will be the same whether the tinycolor is initialized with string or object.
    var match;
    if ((match = matchers.rgb.exec(color))) {
        return { r: match[1], g: match[2], b: match[3] };
    }
    if ((match = matchers.rgba.exec(color))) {
        return { r: match[1], g: match[2], b: match[3], a: match[4] };
    }
    if ((match = matchers.hsl.exec(color))) {
        return { h: match[1], s: match[2], l: match[3] };
    }
    if ((match = matchers.hsla.exec(color))) {
        return { h: match[1], s: match[2], l: match[3], a: match[4] };
    }
    if ((match = matchers.hsv.exec(color))) {
        return { h: match[1], s: match[2], v: match[3] };
    }
    if ((match = matchers.hsva.exec(color))) {
        return { h: match[1], s: match[2], v: match[3], a: match[4] };
    }
    if ((match = matchers.hex8.exec(color))) {
        return {
            a: convertHexToDecimal(match[1]),
            r: parseIntFromHex(match[2]),
            g: parseIntFromHex(match[3]),
            b: parseIntFromHex(match[4]),
            format: named ? "name" : "hex8"
        };
    }
    if ((match = matchers.hex6.exec(color))) {
        return {
            r: parseIntFromHex(match[1]),
            g: parseIntFromHex(match[2]),
            b: parseIntFromHex(match[3]),
            format: named ? "name" : "hex"
        };
    }
    if ((match = matchers.hex3.exec(color))) {
        return {
            r: parseIntFromHex(match[1] + '' + match[1]),
            g: parseIntFromHex(match[2] + '' + match[2]),
            b: parseIntFromHex(match[3] + '' + match[3]),
            format: named ? "name" : "hex"
        };
    }

    return false;
}

function validateWCAG2Parms(parms) {
    // return valid WCAG2 parms for isReadable.
    // If input parms are invalid, return {"level":"AA", "size":"small"}
    var level, size;
    parms = parms || {"level":"AA", "size":"small"};
    level = (parms.level || "AA").toUpperCase();
    size = (parms.size || "small").toLowerCase();
    if (level !== "AA" && level !== "AAA") {
        level = "AA";
    }
    if (size !== "small" && size !== "large") {
        size = "small";
    }
    return {"level":level, "size":size};
}

// Node: Export function
if (typeof module !== "undefined" && module.exports) {
    module.exports = tinycolor;
}
// AMD/requirejs: Define the module
else if (typeof define === 'function' && define.amd) {
    define(function () {return tinycolor;});
}
// Browser: Expose to window
else {
    window.tinycolor = tinycolor;
}

})(Math);
About = {};

About.nuke = function()
{
    NativeInterface.back = About.lastBack;
    WebLibSimple.nuke(About.topdiv);
};

About.headline = function()
{
    var headline = WebLibSimple.createDivHeight(0, 0, 0, GlobalConf.about_headlineSize, null, About.topdiv);
    headline.style.backgroundColor = GlobalConf.about_headlineColor;
    headline.style.textAlign = "center";
    headline.style.fontSize = GlobalConf.about_headlineFontSize + "px";
    headline.style.lineHeight = GlobalConf.about_headlineSize + "px";
    headline.innerHTML = "About";
};

About.bottom = function()
{
    var bottom = WebLibSimple.createDivHeight(0, 0, 0, GlobalConf.about_bottomSize, null, About.topdiv);
    bottom.style.top = null;
    bottom.style.bottom = "0px";
    bottom.style.backgroundColor = GlobalConf.about_bottomColor;
    bottom.style.textAlign = "center";
    bottom.style.fontSize = GlobalConf.about_bottomFontSize + "px";
    bottom.style.lineHeight = GlobalConf.about_bottomSize + "px";
    bottom.innerHTML = "Close";

    bottom.onclick = About.nuke;

    About.lastBack = NativeInterface.back;
    NativeInterface.back = About.nuke;

    StdDesign.dimmerTouch(bottom);
};

About.Who = function(parent)
{
    var headline = WebLibSimple.createAnyAppend("h1", parent);
    headline.style.textAlign = "center";
    headline.style.fontSize = GlobalConf.about_h1FontSize + "px";
    headline.innerHTML = "Who am I?";

    var centext = WebLibSimple.createAnyAppend("div", parent);
    // centext.style.width = GlobalConf.about_width + "px";
    centext.style.left = GlobalConf.about_border;
    centext.style.right = GlobalConf.about_border;
    centext.style.fontSize = GlobalConf.about_fontSize + "px";
    centext.innerHTML = "" +
        "My name is Patrick Zierahn. I'm a 18 years old Student who visits " +
        "a High-School in Hamburg Germany. I like to code " +
        " and design apps.";
};

About.libs = function(parent)
{
    var headline = WebLibSimple.createAnyAppend("h1", parent);
    headline.style.textAlign = "center";
    headline.style.fontSize = GlobalConf.about_h1FontSize + "px";
    headline.innerHTML = "Libarys";

    var centext = WebLibSimple.createAnyAppend("div", parent);
    // centext.style.width = GlobalConf.about_width + "px";
    centext.style.left = GlobalConf.about_border;
    centext.style.right = GlobalConf.about_border;
    centext.style.fontSize = GlobalConf.about_fontSize + "px";
    centext.innerHTML = "" +
        "I used the <strong>https://github.com/dm77/barcodescanner</strong> libary for the QR-Code proceedings. " +
        "A lot of thanks for the great work.\n" +
        "The libary is under Apache License 2.0: <strong>http://www.apache.org/licenses/LICENSE-2.0</strong>";

    // var link = WebLibSimple.createAnyAppend("a", centext);
    // link.href = "http://www.apache.org/licenses/LICENSE-2.0";
    // link.innerHTML = "http://www.apache.org/licenses/LICENSE-2.0";
};

About.content = function()
{
    var content = WebLibSimple.createDiv(40, GlobalConf.about_headlineSize, 40, GlobalConf.about_bottomSize, null, About.topdiv);
    content.style.color = "#000000";
    // content.innerHTML = "Content";

    var center = WebLibSimple.createAnyAppend("center", content);
    // About.Who(center);
    About.libs(center);
};

About.init = function()
{
    var topdiv = WebLibSimple.createDiv(0, 0, 0, 0, null, Main.toptopDiv);
    topdiv.style.backgroundColor = "#ffffff";
    About.topdiv = topdiv;

    About.headline();
    About.content();
    About.bottom();
};

// about_headlineFontSize: 50,
// about_headlineSize: 100,
// about_bottomColor: "#333333",
// about_bottomFontSize: 30,
// about_bottomSize: 100,
// about_h1FontSize: 35,
// GlobalConf.about_border
AddKind = {};

AddKind.nuke = function()
{
    NativeInterface.back = AddKind.lastBack;

    WebLibSimple.nuke(AddKind.topDiv);
};

AddKind.addNew = function()
{
    var value = AddKind.input.value;
    var color = AddKind.color;

    if ((value == "") || (value == null)) return;

    if (WebLibSimple.hasKey(CategoryManager.getCategorys(), value))
    {
        AddKind.nuke();
        return;
    }

    CategoryManager.add(value, color);

    AddKind.callback(value, color);
    AddKind.nuke();
};

AddKind.select = function(event)
{
    var target = event.target;

    for (var colorDiv in AddKind.colorDivs)
    {
        var div = AddKind.colorDivs[ colorDiv ];
        div.disselect();
    }

    target.select();
};

AddKind.mouseOver = function(elem)
{
    var mouseOver = function()
    {
        elem.style.border = "2px solid #ffffff";
    };

    var mouseOut = function()
    {
        if (! elem.selected)
        {
            elem.style.border = "2px solid " + elem.color;
        }
    };

    elem.addEventListener("mouseover", mouseOver);
    elem.addEventListener("mouseout",  mouseOut);
};

AddKind.createColorDiv = function(color, parent)
{
    var size = GlobalConf.addKind_boxSize;
    var paddingLR = GlobalConf.addKind_boxPadding;
    var border = "2px solid " + color;

    var paddingDiv = WebLibSimple.createAnyAppend("div", parent);
    paddingDiv.style.display      = "inline-block";
    paddingDiv.style.width        = (size + paddingLR * 2) + "px";
    paddingDiv.style.height       = (size + paddingLR * 2) + "px";
    paddingDiv.style.paddingLeft  = paddingLR + "px";
    paddingDiv.style.paddingRight = paddingLR + "px";
    // paddingDiv.style.backgroundColor = "#57d4b4";

    var button = Cricle.createBorderCircle("", size, color, border, paddingDiv, AddKind.select);
    button.style.left = paddingLR + "px";
    button.color      = color;
    button.selected   = false;

    button.disselect = function()
    {
        button.selected = true;
        button.style.border = "2px solid " + color;
    };

    button.select = function()
    {
        button.selected = false;
        button.style.border = "2px solid #ffffff";
        AddKind.color = color;
    };

    // AddKind.mouseOver(button);
    WebLibSimple.setBGColor(button, color);

    return button;
};

AddKind.createColorPicker = function(parent)
{
    // var top = 100 + 50;
    // var height = 100;
    //
    // var div = WebLibSimple.createDiv(0, top, 0, 0, null, parent);
    // div.style.backgroundColor = "#2de2f2";
    var center = WebLibSimple.createAnyAppend("center", parent);

    AddKind.colorDivs = [];
    var colors = GlobalConf.addKind_colors;

    for (var index in colors)
    {
        var color = colors[ index ];
        var colorDiv = AddKind.createColorDiv(color, center);
        AddKind.colorDivs.push(colorDiv);
    }

    AddKind.colorDivs[ 0 ].select();
};

AddKind.createInput = function(parent)
{
    var border = GlobalConf.addKind_paddingTop;
    var paddingLR = GlobalConf.addKind_paddingLR;
    var height = GlobalConf.addKind_inputHeight;

    var borderDiv = WebLibSimple.createDivHeight(
        paddingLR,
        border,
        paddingLR,
        height + 50,
        null,
        parent);

    borderDiv.style.overflow = "hidden";

    var colorPickerDiv = WebLibSimple.createDiv(paddingLR,
        height + 40,
        paddingLR,
        0,
        null,
        parent);

    colorPickerDiv.style.overflow = "auto";

    var div = StdDesign.createInput(
        height,
        StringManager.locale.newKind,
        borderDiv);

    AddKind.input = div.input;

    AddKind.createColorPicker(colorPickerDiv);
};

AddKind.createButtons = function(parent)
{
    AddKind.lastBack = NativeInterface.back;
    NativeInterface.back = AddKind.nuke;

    parent.createButton("X",  AddKind.nuke);
    parent.createButton("Ok", AddKind.addNew);
};

AddKind.init = function(parent, callback)
{
    var div = StdDesign.createStd(parent);

    AddKind.callback = callback;

    div.setHeadline(StringManager.locale.AddKind);
    AddKind.createInput(div.content);
    AddKind.createButtons(div);

    AddKind.topDiv = div;
};
AppointmentEditor = {};

AppointmentEditor.update = function(key, value)
{
    AppointmentEditor.data[ key ] = value;

    var box = AppointmentEditor.boxByKey[ key ];

    if (value === "")
    {
        value = "-";
    }

    box.valueDiv.innerHTML = value;
    box.value = value;

    if (key == "Kind")
    {
        box.borderColor = CategoryManager.getCategorysColor(value);

        var titleBox = AppointmentEditor.boxByKey[ "Title" ];
        titleBox.valueDiv.style.color = CategoryManager.getCategorysColor(value);
    }

    if (key == "Start" || key == "End")
    {
        box.valueDiv.innerHTML = AppointmentEditor.getDate(value);
    }

    if (key == "All-Day" || key == "Available")
    {
        box.valueDiv.innerHTML = StringManager.locale[ value + "" ];
    }

    if ((key == "All-Day") && (value == true))
    {
        var oldStartDate = AppointmentEditor.data[ "Start" ];
        var oldEndDate   = AppointmentEditor.data[  "End"  ];

        // NativeInterface.log(AppointmentEditor.data[ "Start" ]);
        // NativeInterface.log(Time.getEventDayDate(AppointmentEditor.data[ "Start" ]).toISOString());

        var newStartDate = Time.getEventDayDate(oldStartDate).toISOString();
        var newEndDate   = Time.getEventDayDate(oldEndDate).toISOString();

        AppointmentEditor.data[ "Start" ] = newStartDate;
        AppointmentEditor.data[  "End"  ] = newEndDate;

        var startTranz = AppointmentEditor.getDate(newStartDate);
        var endTranz   = AppointmentEditor.getDate(newEndDate);

        AppointmentEditor.boxByKey[ "Start" ].valueDiv.innerHTML = startTranz;
        AppointmentEditor.boxByKey[  "End"  ].valueDiv.innerHTML = endTranz;
    }

    if ((key == "All-Day") && (value == false))
    {
        var startTranz = AppointmentEditor.getDate(AppointmentEditor.data[ "Start" ]);
        var endTranz   = AppointmentEditor.getDate(AppointmentEditor.data[  "End"  ]);

        AppointmentEditor.boxByKey[ "Start" ].valueDiv.innerHTML = startTranz;
        AppointmentEditor.boxByKey[  "End"  ].valueDiv.innerHTML = endTranz;
    }
};

AppointmentEditor.nuke = function()
{
    NativeInterface.back = Schedule.back;

    CategorysInfo.updateAllCategorys();
    Schedule.updateInnerSchedule();
    CalendarMonth.updateAllDivs();

    // AppointmentEditor.topDiv.style.innerHTML = "";
    // AppointmentEditor.topDiv.style.display = "none";

    WebLibSimple.nuke(AppointmentEditor.topDiv);
};

AppointmentEditor.delete = function()
{
    var sure = function()
    {
        DataManager.delete(AppointmentEditor.data);
        AppointmentEditor.nuke();
    };

    Dialogue.sureDialogue(sure, AppointmentEditor.data[ "Title" ]);
};

AppointmentEditor.commit = function()
{
    var start = new Date(AppointmentEditor.data[ "Start" ]).getTime();
    var end   = new Date(AppointmentEditor.data[  "End"  ]).getTime();

    if (start > end)
    {
        Dialogue.okDialogue(StringManager.locale.startEndError);
        return;
    }

    DataManager.commit(AppointmentEditor.data);
    // Schedule.updateInnerSchedule();
    AppointmentEditor.nuke();
};

AppointmentEditor.openQr = function()
{
    DataManager.commit(AppointmentEditor.data);

    var title = AppointmentEditor.data[ "Title" ];

    var tmpJson = JSON.parse(JSON.stringify(AppointmentEditor.data));
    delete tmpJson[ "id" ];

    Qr.init(title, tmpJson, AppointmentEditor.topDiv);
};

AppointmentEditor.share = function()
{
    DataManager.commit(AppointmentEditor.data);

    var tmpJson = JSON.parse(JSON.stringify(AppointmentEditor.data));
    delete tmpJson[ "id" ];

    NativeInterface.share(tmpJson);
};

AppointmentEditor.openKind = function()
{
    Kind.init(AppointmentEditor.data[ "Kind" ], AppointmentEditor.topDiv);
};

AppointmentEditor.openPriority = function()
{
    PriorityPicker.init("Priority", AppointmentEditor.data[ "Priority" ], AppointmentEditor.topDiv);
};

AppointmentEditor.openBool = function(event)
{
    var target = event.target;
    if (target.root) target = target.root;

    var preBool = AppointmentEditor.data[ target.key ];

    Bool.init(target.key, preBool, AppointmentEditor.topDiv);
};

AppointmentEditor.openText = function(event)
{
    var target = event.target;
    if (target.root) target = target.root;

    Text.init(target.key, target.value, AppointmentEditor.topDiv);
};

AppointmentEditor.openDateTime = function(event)
{
    var target = event.target;
    if (target.root) target = target.root;

    var allDay = AppointmentEditor.data[ "All-Day" ];

    // console.log("clicked: key   --> " + target.key);
    // console.log("clicked: value --> " + target.value);
    // console.log("all-day: value --> " + allDay);

    DateTime.init(target.key, target.value, allDay, AppointmentEditor.topDiv);
};

AppointmentEditor.mouseOver = function(elem)
{
    var baseBorder = GlobalConf.edit_baseBorder;

    var mouseOver = function()
    {
        elem.style.border = baseBorder + elem.borderColor;
    };

    var mouseOut = function()
    {
        elem.style.border = baseBorder + GlobalConf.edit_tileColor;
    };

    if (! Main.isMobile)
    {
        elem.addEventListener("mouseover", mouseOver);
        elem.addEventListener("mouseout",  mouseOut);
    }
    // else
    // {
    //     elem.addEventListener("touchstart", mouseOver);
    //     elem.addEventListener("touchend",   mouseOut);
    // }
};

AppointmentEditor.createMainPoint = function(title, parent)
{
    var size = GlobalConf.edit_tilefontSize;

    var span = WebLibSimple.createDivHeight(0, 0, 0, 0, null, parent);
    span.style.top        = null;
    span.style.bottom     = GlobalConf.edit_tilePointPadding + "px";
    span.style.height     = size + "px";
    span.style.fontSize   = (size - 4) + "px";
    span.style.lineHeight = (size - 4) + "px";
    span.style.fontWeight = "900";
    span.style.textAlign  = "center";
    span.style.color      = GlobalConf.edit_mainPointColor;
    span.style.overflow   = "hidden";
    span.innerHTML        = title;

    return span;
};

AppointmentEditor.createNotePoint = function(title, parent)
{
    var span = AppointmentEditor.createMainPoint(title, parent);
    span.style.top        = GlobalConf.edit_tilePointPadding + "px";
    span.style.height     = null;
    span.style.bottom     = null;
    span.style.color      = GlobalConf.edit_notePointColor;
    span.style.fontWeight = "100";

    return span;
};

AppointmentEditor.createOptionFields = function(index, parent)
{
    var size   = 100 / 3;
    var left   = size * index;
    var width  = size + "%";
    var margin = 10;
    var bgcolor = GlobalConf.edit_tileColor;

    var div = WebLibSimple.createDivWidth(left + "%", 0, width, 0, null, parent);

    var content = WebLibSimple.createDiv(margin, margin, margin, margin, null, div);
    content.style.borderRadius = GlobalConf.edit_borderRadius + "px";
    content.style.overflow     = "hidden";
    content.style.border       = GlobalConf.edit_baseBorder + bgcolor;
    content.style.cursor       = "pointer";

    WebLibSimple.setBGColor(content, bgcolor);

    var tagBox = WebLibSimple.createDiv(0, 0, 0, "50%", null, content);
    var tagDiv = AppointmentEditor.createMainPoint("title", tagBox);

    var valueBox = WebLibSimple.createDiv(0, "50%", 0, 0, null, content);
    var valueDiv = AppointmentEditor.createNotePoint("title", valueBox);

    tagBox.root   = content;
    tagDiv.root   = content;
    valueBox.root = content;
    valueDiv.root = content;

    content.tagDiv = tagDiv;
    content.valueDiv = valueDiv;

    // AppointmentEditor.mouseOver(content);
    StdDesign.dimmerTouch(content);

    return content;
};

AppointmentEditor.createOptionLine = function(index, parent)
{
    var size   = 100 / 3;
    var top    = size * index;
    var height = size + "%";

    var topDiv = WebLibSimple.createDivHeight(0, top + "%", 0, height, null, parent);

    for (var inx = 0; inx < 3; inx++)
    {
        var optionBoxe = AppointmentEditor.createOptionFields(inx, topDiv);

        var optIndex = index + ":" + inx;
        AppointmentEditor.optionBoxes[ optIndex ] = optionBoxe;
    }
};

AppointmentEditor.getDate = function(date)
{
    if (AppointmentEditor.data[ "All-Day" ])
    {
        return Time.getDateTranzlation(date);
    }
    else
    {
        return Time.getDateTimeTranzlation(date);
    }
};

AppointmentEditor.confTile = function(index, key)
{
    var data        = AppointmentEditor.data;
    var box         = AppointmentEditor.optionBoxes[ index ];
    box.borderColor = GlobalConf.edit_tileBorderColor;
    box.onclick     = AppointmentEditor.openText;

    var value = data[ key ];

    box.key = key;
    box.value = value;

    AppointmentEditor.boxByKey[ key ] = box;

    if (value === "")
    {
        value = "-";
    }

    box.tagDiv.innerHTML = StringManager.locale[ key ];
    box.valueDiv.innerHTML = value;

    if (key == "Title")
    {
        // var color = GlobalConf.categorys[ data[ "Kind" ] ];
        // box.valueDiv.style.color = GlobalConf.edit_mainTitleColor;
        box.valueDiv.style.color = CategoryManager.getCategorysColor(data[ "Kind" ]);
        box.valueDiv.style.fontWeight = "900";
    }

    if (key == "Kind")
    {
        var color = CategoryManager.getCategorysColor(data[ "Kind" ]);
        box.borderColor = color;
        box.onclick = AppointmentEditor.openKind;
    }

    if (key == "Priority")
    {
        box.onclick = AppointmentEditor.openPriority;
    }

    if (key == "All-Day" || key == "Available")
    {
        box.onclick = AppointmentEditor.openBool;
        box.valueDiv.innerHTML = StringManager.locale[ value + "" ];
    }

    if (key == "Start" || key == "End")
    {
        box.onclick = AppointmentEditor.openDateTime;
        box.valueDiv.innerHTML = AppointmentEditor.getDate(data[ key ]);
    }
};

AppointmentEditor.createOptions = function(bottom, topDiv)
{
    var topDiv = WebLibSimple.createDiv(0, 0, 0, bottom, null, topDiv);

    var padding = 20;
    var paddingDiv = WebLibSimple.createDiv(padding, 0, padding, 0, null, topDiv);
    // WebLibSimple.setBGColor(paddingDiv, "#203dd4");

    AppointmentEditor.optionBoxes = {};

    for (var inx = 0; inx < 3; inx++)
    {
        AppointmentEditor.createOptionLine(inx, paddingDiv);
    }

    AppointmentEditor.boxByKey = [];

    var inz = 0;

    for (var inx = 0; inx < 3; inx++)
    {
        for (var iny = 0; iny < 3; iny++)
        {
            var index = inx + ":" + iny;
            var key   = AppointmentEditor.dataKeys[ inz ];

            AppointmentEditor.confTile(index, key);

            inz++;
        }
    }
};

AppointmentEditor.back = function()
{
    // NativeInterface.log(JSON.stringify(Schedule.stdJson));

    // console.log("#1 " + JSON.stringify(Schedule.stdJson));
    // console.log("#2 " + JSON.stringify(AppointmentEditor.data));

    if (JSON.stringify(Schedule.stdJson) == JSON.stringify(AppointmentEditor.data))
    {
        // delete without sure
        // DataManager.delete(AppointmentEditor.data);
        // AppointmentEditor.nuke();

        AppointmentEditor.delete();

        // NativeInterface.log("delete");

        return;
    }

    // NativeInterface.log("commit");

    AppointmentEditor.commit();
};

AppointmentEditor.createButtonBar = function(height, parent)
{
    var div = StdDesign.createStdButtonBar(height, parent);

    NativeInterface.back = AppointmentEditor.back;

    div.createButton("X",  AppointmentEditor.delete);
    div.createButton("Qr", AppointmentEditor.openQr);
    div.createButton("Ok", AppointmentEditor.commit);
};

AppointmentEditor.init = function(data)
{
    var topDiv = StdDesign.createStdDiv(Main.toptopDiv);

    WebLibSimple.setBGColor(topDiv, GlobalConf.bodyColor);

    AppointmentEditor.topDiv = topDiv;

    var keys = Object.keys(data);

    if (WebLibSimple.includes(keys, "id")) WebLibSimple.removeValFromArray("id", keys);

    AppointmentEditor.originalData = data;
    AppointmentEditor.data         = data;
    AppointmentEditor.dataKeys     = keys;

    var buttonBarHeight = GlobalConf.std_buttonBar_height;

    AppointmentEditor.createOptions(buttonBarHeight, topDiv);
    AppointmentEditor.createButtonBar(buttonBarHeight, topDiv);
};
Bool = {};

Bool.nuke = function()
{
    NativeInterface.back = Bool.lastBack;
    WebLibSimple.nuke(Bool.topDiv);
};

Bool.createPicker = function(parent, preBool)
{
    var height = GlobalConf.boolPicker_height;

    var text = WebLibSimple.createDivHeight(0, 0, 0, height, null, parent);
    text.style.lineHeight = height + "px";
    text.style.fontSize = GlobalConf.boolPicker_fontSize + "px";
    text.style.textAlign = "center";
    text.innerHTML = StringManager.locale[ preBool + "" ];

    var changeEvent = function(active)
    {
        text.innerHTML = StringManager.locale[ active + "" ];
        AppointmentEditor.update(Bool.key, active);
    };

    var switchDiv    = WebLibSimple.createDiv(0, height, 0, 0, null, parent);
    var center       = WebLibSimple.createAnyAppend("center", switchDiv);
    var switchButton = StdDesign.switchButton(center, 200, 100, changeEvent);

    if (preBool)
    {
        switchButton.on();
    }
    else
    {
        switchButton.off();
    }
};

Bool.init = function(key, preBool, parent)
{
    Bool.key = key;

    var div = StdDesign.createStd(parent);
    Bool.topDiv = div;

    div.setHeadline(StringManager.locale[ key ]);
    Bool.createPicker(div.content, preBool);

    Bool.lastBack = NativeInterface.back;
    NativeInterface.back = Bool.nuke;

    div.createButton("Ok", Bool.nuke);
};
CalendarMonth = {};

CalendarMonth.updateDate = function(date)
{
    var dayDiv = CalendarMonth.getDateDiv(date);
    CalendarMonth.updateDay(dayDiv, date, false);

    Schedule.update(date);
};

CalendarMonth.getDateDiv = function(date)
{
    var dayDiv = CalendarMonth.dateDiv[ date ];

    return dayDiv;
};

CalendarMonth.getMonthDates = function()
{
    return Object.keys(CalendarMonth.dateDiv);
};

CalendarMonth.updateDay = function(dayDiv, date, outDate)
{
    dayDiv.style.display = "none";

    if (outDate) return;

    var info = Time.dayInfo(date);

    dayDiv.innerHTML     = date.getDate();
    dayDiv.date          = date;
    dayDiv.month         = info.month;
    dayDiv.year          = info.year;
    dayDiv.color         = GlobalConf.month_monthColorNormal;
    dayDiv.style.color   = GlobalConf.month_weekDayColor;
    dayDiv.style.fontWeight = "lighter";

    Cricle.changeColor(dayDiv, GlobalConf.month_monthColorNormal);
    dayDiv.style.display = "inline-block";

    if (Time.checkToday(date))
    {
        // Cricle.changeColor(dayDiv, "#ffffff");
        dayDiv.style.color = GlobalConf.month_todayColor;
        dayDiv.style.backgroundColor = "#ffffff";
        dayDiv.style.fontWeight = "900";

        return;
    }

    var schedule = DataManager.getDay(dayDiv.date);

    if (schedule.length > 0)
    {
        var color = GlobalConf.month_monthColorEvent;
        dayDiv.color = color;

        var percent = schedule.length / CalendarMonth.eventCount;

        Cricle.changeColor(dayDiv, color);
        WebLibSimple.setOpacity(dayDiv, color, percent);

        return;
    }

    dayDiv.color = GlobalConf.month_monthColorNormal;
    Cricle.changeColor(dayDiv, GlobalConf.month_monthColorNormal);
};

CalendarMonth.updateMonth = function(month, year)
{
    CalendarMonth.dateDiv = {};
    var monthInfo = Time.monthInfo(month, year);

    var startDay = monthInfo.month_start_day - GlobalConf.weekStartDay;

    if (startDay < 0) startDay += 7;

    for (var day = 0; day < 42; day++)
    {
        var dayDiv = StdMonth.getDayDiv(day);
        CalendarMonth.updateDay(dayDiv, null, true);
    }

    var until = startDay + monthInfo.month_count;
    for (var day = startDay; day < until; day++)
    {
        var dayDiv = StdMonth.getDayDiv(day);

        var date = new Date(year, month - 1, (day - startDay + 1));
        CalendarMonth.updateDay(dayDiv, date, false);

        CalendarMonth.dateDiv[ date ] = dayDiv;
    }
};

CalendarMonth.updateAllDivs = function()
{
    CalendarMonth.eventCount = DataManager.getHighest();
    CalendarMonth.updateMonth(CalendarMonth.month, CalendarMonth.year);
};

CalendarMonth.update = function(month, year)
{
    CalendarMonth.month = month;
    CalendarMonth.year  = year;
    CalendarMonth.eventCount = DataManager.getHighest();

    StdMonth.updateHeadline(month, year);
    CalendarMonth.updateAllDivs();
};

CalendarMonth.init = function(date)
{
    var Schedule = Time.dayInfo(date);

    CalendarMonth.update(Schedule.month, Schedule.year);
};
Categorys = {};

Categorys.getHighest = function(data)
{
    var highest = 0;

    for (var index in data)
    {
        var value = data[ index ];

        if (value > highest)
        {
            highest = value;
        }
    }

    return highest;
};

Categorys.getHoleTimeSpan = function(data)
{
    var count = 0;

    for (var index in data)
    {
        var event = data[ index ];

        var start = new Date(event[ "Start" ]).getTime();
        var end   = new Date(event[  "End"  ]).getTime();

        count += end - start;
    }

    return count;
};

Categorys.makeMonthNormal = function()
{
    var color = GlobalConf.month_monthColorNormal;
    var alldays = CalendarMonth.getMonthDates();

    for (var index in alldays)
    {
        var date = alldays[ index ];
        var div = CalendarMonth.getDateDiv(date);
        div.style.color = GlobalConf.month_weekDayColor;
        div.color = color;

        Cricle.changeColor(div, color);
    }
};

Categorys.deHighlite = function()
{
    Main.showCategory = null;
    CalendarMonth.updateAllDivs();
};

Categorys.highlite = function(category)
{
    Main.showCategory = category;

    var results = DataManager.getByCategory(category);
    var count   = DataManager.countEvents(results);
    var highest = Categorys.getHighest(count);
    var color   = CategoryManager.getCategorysColor(category);

    // console.log("results: " + JSON.stringify(results));
    // console.log("count: " + JSON.stringify(count));
    // console.log("category: " + category + " highest: " + highest);

    Categorys.makeMonthNormal();

    var setOp = function(date)
    {
        var date = new Date(date);

        var div = CalendarMonth.getDateDiv(date);

        if (div === undefined) return;

        // div.schedule = DataManager.filterCategory(category, div.schedule);
        // console.log("div.schedule: " + JSON.stringify(div.schedule));

        var percent = DataManager.getCategoryDateCount(category, date) / highest;
        Cricle.changeColor(div, color);
        WebLibSimple.setOpacity(div, color, percent);

        // div.style.color = "#000000";
    };

    for (var index in results)
    {
        var json  = results[ index ];
        var event_start = Time.getEventDayDate(json[ "Start" ]).getTime();
        var event_end   = Time.getEventDayDate(json[  "End"  ]).getTime();

        if (event_start > event_end)
        {
            console.log("Break: event_start > event_end");
            break;
        }

        DataManager.getCategoryDateCount();

        var day_ms = 60 * 60 * 24 * 1000;

        while(event_start <= event_end)
        {
            setOp(event_start);

            event_start += day_ms;
        }
    }

    var timeSpan = Categorys.getHoleTimeSpan(results);

    var json = {
        "events": results.length,
        "time": (Math.round((timeSpan / 1000 / 3600) * 10) / 10)
    };

    return json;
};
CategorysInfo = {};

CategorysInfo.deHighlight = function()
{
    Categorys.deHighlite();
    CategorysInfo.changeHeadlineEvents();

    var categorys = CategorysInfo.categoryEntrys;

    for (var category in categorys)
    {
        var elem = categorys[ category ];

        elem.otherHighlight();
        elem.clicked = false;
    }
};

CategorysInfo.makeNormal = function()
{
    Categorys.deHighlite();
    CategorysInfo.changeHeadlineEvents();

    var categorys = CategorysInfo.categoryEntrys;

    for (var category in categorys)
    {
        var elem = categorys[ category ];

        elem.deHighlight();
        elem.clicked = false;
    }
};

CategorysInfo.touch = function(elem)
{
    var click = function()
    {
        if (elem.clicked)
        {
            CategorysInfo.makeNormal();
        }
        else
        {
            elem.clicked = true;
        }
    };

    var touchStart = function()
    {
        var tmp_clicked = elem.clicked;

        CategorysInfo.deHighlight();
        elem.highlight();

        elem.clicked = tmp_clicked;

        CategorysInfo.touchStart = new Date().getTime();
    };

    var touchEnd = function()
    {
        var duration = (new Date().getTime()) - CategorysInfo.touchStart;
        // console.log("touch duration: " + duration);

        if (duration > 300)
        {
            CategorysInfo.makeNormal();
        }
        else
        {
            click();
        }
    };

    elem.addEventListener("touchstart", touchStart);
    elem.addEventListener("touchend",   touchEnd);
};

CategorysInfo.click = function(elem)
{
    var click = function()
    {
        if (elem.clicked)
        {
            CategorysInfo.makeNormal();
        }
        else
        {
            CategorysInfo.deHighlight();
            elem.highlight();

            elem.clicked = true;
        }
    };

    var mouseOver = function()
    {
        var tmp_clicked = elem.clicked;

        CategorysInfo.deHighlight();
        elem.highlight();

        elem.clicked = tmp_clicked;
    };

    var mouseOut = function()
    {
        if (! elem.clicked) CategorysInfo.makeNormal();
    };

    // elem.addEventListener("mouseover", mouseOver);
    // elem.addEventListener("mouseout",  mouseOut);
    elem.addEventListener("click",     click);
};

CategorysInfo.createCircleBox = function(parent)
{
    var size     = GlobalConf.categorysInfo_mainCircleSize;
    var color    = GlobalConf.categorysInfo_mainCircleColor;
    var fontSize = GlobalConf.categorysInfo_eventFontSize;

    var paddingLeft = GlobalConf.categorysInfo_categoryPadding;

    var c_parent = WebLibSimple.createDiv(0, 0, "50%", 0, null, parent);

    var circle = Cricle.createCircle("0h", size, color, c_parent, null);
    circle.style.fontSize = fontSize;
    circle.style.position = "absolute";
    circle.style.right = (paddingLeft / 2) + "px";

    var div = WebLibSimple.createDiv("50%", 0, 0, 0, null, parent);
    div.style.lineHeight = size + "px";
    div.style.fontSize = fontSize;
    div.style.color = GlobalConf.categorysInfo_headlineColor;

    var span = WebLibSimple.createAnyAppend("span", div);
    span.style.paddingLeft = (paddingLeft / 2) + "px";

    span.innerHTML = StringManager.locale.Events + ": 0";

    CategorysInfo.changeHeadlineEvents = function(cricleTitle, eventsTitle)
    {
        if (cricleTitle == undefined && eventsTitle == undefined)
        {
            cricleTitle = CategorysInfo.combinedTime;
            eventsTitle = CategorysInfo.eventsCount;
        }

        circle.innerHTML = cricleTitle + StringManager.locale.HoursShort;
        span.innerHTML   = StringManager.locale.Events + ": " + eventsTitle;
    };
};

CategorysInfo.createEntry = function(category, index, parent)
{
    // var mainCircleSize = GlobalConf.categorysInfo_mainCircleSize;
    var mainCircleSize = 100;
    var paddingTop = GlobalConf.categorysInfo_categoryPaddingTop;

    var top = (mainCircleSize + paddingTop) * index + paddingTop;
    var div = WebLibSimple.createDivHeight(0, top, 0, mainCircleSize, null, parent);

    var color = CategoryManager.getCategorysColor(category);
    var fontSize = 25;

    div.style.fontSize = fontSize + "px";
    div.style.fontWeight = "100";
    div.style.textAlign = "center";
    div.style.lineHeight = mainCircleSize + "px";
    div.style.color = color;
    div.style.fontSize = GlobalConf.categorysInfo_categoryFontSize;

    var span = WebLibSimple.createAnyAppend("span", div);
    span.innerHTML = category;
    span.style.cursor = "pointer";
    span.clicked = false;

    var highlight = function()
    {
        div.style.color = color;
        var data = Categorys.highlite(category);
        CategorysInfo.changeHeadlineEvents(data.time, data.events);
    };

    var deHighlight = function()
    {
        div.style.color = color;
        Categorys.deHighlite();
    };

    var otherHighlight = function()
    {
        div.style.color = GlobalConf.categorysInfo_categoryNotSelected;
    };

    span.highlight = highlight;
    span.deHighlight = deHighlight;
    span.otherHighlight = otherHighlight;

    span.changeConf = function(size)
    {
        div.style.fontSize = (fontSize + size) + "px"
    };


    if (MobileConf.device == "Desktop")
    {
        CategorysInfo.click(span);
    }
    else
    {
        CategorysInfo.touch(span);
    }

    return span;
};

CategorysInfo.createHeadline = function(parent)
{
    var div = WebLibSimple.createDiv(0, 0, 0, 0, null, parent);
    CategorysInfo.createCircleBox(div);
};

CategorysInfo.createCategorys = function(parent)
{
    var div = WebLibSimple.createDiv(0, 20, 0, 0, null, parent);

    var index = 0;

    CategorysInfo.categoryEntrys = {};

    for (var category in CategoryManager.getCategorys())
    {
        var entry = CategorysInfo.createEntry(category, index, div);

        CategorysInfo.categoryEntrys[ category ] = entry;
        index++;
    }
};

CategorysInfo.update = function()
{
    var entrys = CategorysInfo.categoryEntrys;

    var combinedTime = 0;

    var highest = 0;

    var timeSpans = {};

    for (var category in CategoryManager.getCategorys())
    {
        var results = DataManager.getByCategory(category);
        var timeSpan = Categorys.getHoleTimeSpan(results);

        combinedTime += timeSpan;
        timeSpans[ category ] = timeSpan;

        if (timeSpan > highest) highest = timeSpan;
    }

    for (var entry in entrys)
    {
        var timeSpan = timeSpans[ entry ];

        var start = 30;
        var max = 50;

        var percent = timeSpan / highest;

        if (highest == 0) percent = 0;
        console.log(entry + " " + percent);

        var hours =  Math.round((timeSpan / 1000 / 3600) * 10) / 10;

        CategorysInfo.categoryEntrys[ entry ].changeConf(percent * max + start);
    }

    CategorysInfo.combinedTime = (Math.round((combinedTime / 1000 / 3600) * 10) / 10);
    CategorysInfo.eventsCount = DataManager.monthData.length;

    CategorysInfo.changeHeadlineEvents();
};

CategorysInfo.updateAllCategorys = function()
{
    CategorysInfo.contentDiv.innerHTML = "";

    CategorysInfo.createCategorys(CategorysInfo.contentDiv);
    CategorysInfo.update();
};

CategorysInfo.setup = function(parent)
{
    var size = GlobalConf.categorysInfo_mainCircleSize;
    var headlineDiv = WebLibSimple.createDivHeight(0, 0, 0, size + 10, null, parent);

    CategorysInfo.createHeadline(headlineDiv);

    var contentDiv = WebLibSimple.createDiv(0, size + 10, 0, 0, null, parent);
    contentDiv.style.overflow = "auto";

    CategorysInfo.contentDiv = contentDiv;

    CategorysInfo.createCategorys(contentDiv);
};

CategorysInfo.init = function(parent)
{
    var topDiv = StdDesign.createStdDiv(parent);
    topDiv.style.backgroundColor = null;

    CategorysInfo.setup(topDiv);

    return topDiv;
};
ColorPicker = {};

ColorPicker.nuke = function()
{
    WebLibSimple.nuke(ColorPicker.mainDiv);
};

ColorPicker.back = function()
{
    NativeInterface.back = ColorPicker.lastBack;

    if (ColorPicker.selectEvent != null)
    {
        ColorPicker.selectEvent(ColorPicker.color);
    }

    ColorPicker.nuke();
};

ColorPicker.select = function(event)
{
    var target = event.target;

    for (var colorDiv in ColorPicker.colorDivs)
    {
        var div = ColorPicker.colorDivs[ colorDiv ];
        div.disselect();
    }

    target.select();
};

ColorPicker.createColorDiv = function(color, parent)
{
    var size = GlobalConf.colorPicker_size;
    var paddingTop = GlobalConf.colorPicker_paddingTop;
    var border = "2px solid " + color;

    var paddingDiv = WebLibSimple.createAnyAppend("div", parent);
    paddingDiv.style.width      = (size + paddingTop * 2) + "px";
    paddingDiv.style.paddingTop = paddingTop + "px";

    var button = Cricle.createBorderCircle("", size, color, border, paddingDiv, ColorPicker.select);
    button.style.left = paddingTop + "px";
    button.color      = color;
    button.selected   = false;

    button.disselect = function()
    {
        button.selected = true;
        button.style.border = "2px solid " + color;
    };

    button.select = function()
    {
        button.selected = false;
        button.style.border = "2px solid #ffffff";
        ColorPicker.color = color;
    };

    // AddKind.mouseOver(button);
    WebLibSimple.setBGColor(button, color);

    return button;
};

ColorPicker.createColorPicker = function(preColor)
{
    var center = WebLibSimple.createAnyAppend("center", ColorPicker.topDiv);

    ColorPicker.colorDivs = [];
    var colors = GlobalConf.addKind_colors;

    for (var index in colors)
    {
        var color = colors[ index ];
        var colorDiv = ColorPicker.createColorDiv(color, center);
        ColorPicker.colorDivs.push(colorDiv);

        if (color == preColor) colorDiv.select();
    }
};

ColorPicker.init = function(preColor, selectEvent)
{
    var div = StdDesign.createStd(Config.mainDiv);

    ColorPicker.mainDiv = div;
    ColorPicker.topDiv = div.content;

    div.setHeadline(StringManager.locale.ColorPicker);
    div.createButton("OK", ColorPicker.back);

    ColorPicker.lastBack = NativeInterface.back;
    NativeInterface.back = ColorPicker.back;

    ColorPicker.selectEvent = selectEvent;

    ColorPicker.createColorPicker(preColor);
};
Config = {};

Config.nuke = function()
{
    NativeInterface.back = Config.lastBack;
    WebLibSimple.nuke(Config.mainDiv);
};

Config.update = function()
{
    ConfigManager.update();
    NativeInterface.reload();
};

Config.createEntry = function(event)
{
    var topDiv = Config.topDiv;

    var entry = WebLibSimple.createAnyAppend("center", topDiv);
    entry.style.paddingTop = GlobalConf.config_paddingTop + "px";

    var div = WebLibSimple.createAnyAppend("div", entry);
    div.style.borderRadius    = "1000px";
    div.style.width           = GlobalConf.config_width  + "px";
    div.style.height          = GlobalConf.config_height + "px";
    div.style.lineHeight      = GlobalConf.config_height + "px";
    div.style.fontSize        = GlobalConf.config_fontSize + "px";
    div.style.color           = GlobalConf.config_color;
    div.style.backgroundColor = GlobalConf.config_backgroundColor;

    div.changeTitle = function(title)
    {
        div.innerHTML = title;
    };

    div.onclick = event;

    StdDesign.dimmerTouch(div);

    return div;
};

Config.createOption = function(GlobalConfKey, strings)
{
    // "language": "Language",
    // "dateFormat": "Date Format",
    // "weekStartDay": "Start of the week"

    var selected = GlobalConf[ GlobalConfKey ];
    var options = Object.keys(strings);

    var title = StringManager.locale[ GlobalConfKey ];
    var target = null;

    var doneEvent = function(selection)
    {
        target.changeTitle(title + ": " + strings[ selection ]);
        GlobalConf[ GlobalConfKey ] = selection;
    };

    var click = function(event)
    {
        target = event.target;
        ConfigEditor.init(title, options, strings, doneEvent);
    };

    var entry = Config.createEntry(click);
    entry.changeTitle(title + ": " + strings[ selected ]);
};

Config.createEditCategorys = function()
{
    var click = function(event)
    {
        ConfigCategorys.init();
    };

    var entry = Config.createEntry(click);
    entry.changeTitle(StringManager.locale.EditCategorys);
};

Config.init = function()
{
    Menu.closeAnimation();

    var div = StdDesign.createStd(Main.toptopDiv);

    div.setHeadline(StringManager.locale.Config);
    // div.createButton("X", Config.nuke);
    div.createButton("OK", Config.update);

    Config.lastBack = NativeInterface.back;
    NativeInterface.back = Config.update;

    Config.mainDiv = div;
    Config.topDiv = div.content;

    // GlobalConf.language
    // GlobalConf.dateFormat
    // GlobalConf.weekStartDay

    Config.createOption("language",     StringManager.locale.languages);
    Config.createOption("dateFormat",   StringManager.locale.dateFormats);
    Config.createOption("weekStartDay", StringManager.locale.weekdays);

    Config.createEditCategorys();
};
ConfigCategorys = {};

ConfigCategorys.nuke = function()
{
    NativeInterface.back = ConfigCategorys.lastBack;
    WebLibSimple.nuke(ConfigCategorys.mainDiv);
};

ConfigCategorys.deleteCategory = function(category)
{
    CategoryManager.delete(category);
    ConfigCategorys.updateAll();

    ConfigCategorys.nuke();
    ConfigCategorys.init();
};

ConfigCategorys.changeCategoryName = function(oldName, newName)
{
    CategoryManager.changeName(oldName, newName);
    ConfigCategorys.updateAll();
};

ConfigCategorys.updateAll = function()
{
    Schedule.updateInnerSchedule();
    CalendarMonth.updateAllDivs();
    CategorysInfo.updateAllCategorys();
    // DataInterface.updateConfig();
};

ConfigCategorys.createEntry = function(index, category)
{
    var height = GlobalConf.configCategorys_height;
    var padding = GlobalConf.configCategorys_padding;
    var top = ((height + padding) * index)
    var div = WebLibSimple.createDivHeight(0, top, 0, height, null, ConfigCategorys.topDiv);

    //
    // Circle
    //

    var circleDiv = WebLibSimple.createDivWidth(0, 0, "33%", 0, null, div);
    var center = WebLibSimple.createAnyAppend("center", circleDiv);

    var color = CategoryManager.getCategorysColor(category);
    var circle = Cricle.createCircle("", height, color, center, null);

    var newColor = function(newColor)
    {
        CategoryManager.changeColor(category, newColor);
        Cricle.changeColor(circle, newColor);
        ConfigCategorys.updateAll();
    };

    circle.onclick = function()
    {
        ColorPicker.init(color, newColor);
    };

    StdDesign.dimmerTouch(circle);

    //
    // Text
    //

    var textDiv = WebLibSimple.createDivWidth("33%", 0, "33%", 0, null, div);

    var input = WebLibSimple.createAnyAppend("input", textDiv);
    input.placeholder           = StringManager.locale.Name;
    input.value                 = category;
    input.style.fontSize        = (height * 0.7) + "px";
    input.style.color           = "#ffffff";
    input.style.textAlign       = "center";
    input.style.lineHeight      = height + "px";
    input.style.fontFamily      = GlobalConf.fontFamily;
    input.style.backgroundColor = "transparent";
    input.style.border          = "0px solid #000000";
    input.style.width           = "100%";
    input.style.height          = "100%";
    input.style.outline         = 0;
    input.style.overflow        = "hidden";

    var commitDefaultChanges = function()
    {
        input.blur();
        ConfigCategorys.changeCategoryName(category, input.value);
        ConfigCategorys.updateAll();

        ConfigCategorys.okButton.onclick = ConfigCategorys.nuke;
    };

    input.onkeypress = function(event)
    {
        if (event.keyCode == 13) commitDefaultChanges();
    };

    input.oninput = function(event)
    {
        ConfigCategorys.okButton.onclick = commitDefaultChanges;
    };

    //
    // Delete Button
    //

    var buttonDiv = WebLibSimple.createDivWidth("66%", 0, "33%", 0, null, div);
    buttonDiv.style.lineHeight = height + "px";
    buttonDiv.style.textAlign  = "center";
    buttonDiv.style.fontSize   = (height * 0.5) + "px";
    buttonDiv.style.color      = GlobalConf.configCategorys_deleteButtonColor;
    buttonDiv.innerHTML        = StringManager.locale.Delete;

    var okEvent = function()
    {
        ConfigCategorys.deleteCategory(category);
        div.style.display = "none";
    };

    buttonDiv.onclick = function()
    {
        Dialogue.sureDialogue(okEvent, category);
    };

    StdDesign.dimmerTouch(buttonDiv);

    div.colorDiv  = circle;
    div.input     = input;
    div.buttonDiv = buttonDiv;

    return div;
};

ConfigCategorys.createDefaultCategory = function()
{
    var defaultName = GlobalConf.defaultCategory.name;
    var div = ConfigCategorys.createEntry(0, defaultName);

    //
    // Default Color
    //
    var circle = div.colorDiv;

    var newColor = function(newColor)
    {
        CategoryManager.changeDefaultCategoryColor(newColor);
        Cricle.changeColor(circle, newColor);
        ConfigCategorys.updateAll();
    };

    circle.onclick = function()
    {
        var color = CategoryManager.getCategorysColor(defaultName);
        ColorPicker.init(color, newColor);
    };

    //
    // Default category change name
    //

    var input = div.input;

    var commitDefaultChanges = function()
    {
        input.blur();
        CategoryManager.changeDefaultCategoryName(input.value);
        ConfigCategorys.updateAll();

        ConfigCategorys.okButton.onclick = ConfigCategorys.nuke;
    };

    input.onkeypress = function(event)
    {
        if (event.keyCode == 13) commitDefaultChanges();
    };

    input.oninput = function(event)
    {
        ConfigCategorys.okButton.onclick = commitDefaultChanges;
    };

    //
    // Delete --> Defualt
    //

    div.buttonDiv.innerHTML = StringManager.locale.Default;
    div.buttonDiv.onclick = null;
    div.buttonDiv.addEventListener("touchstart", null);
    div.buttonDiv.addEventListener("touchend",   null);
};

ConfigCategorys.createCategorys = function()
{
    var index = 1;

    for (var category in GlobalConf.categorys)
    {
        ConfigCategorys.createEntry(index, category);
        index++;
    }
};

ConfigCategorys.openNewKind = function()
{
    var done = function()
    {
        ConfigCategorys.updateAll();

        ConfigCategorys.nuke();
        ConfigCategorys.init();
    };

    AddKind.init(Config.mainDiv, done);
};

ConfigCategorys.init = function()
{
    var div = StdDesign.createStd(Config.mainDiv);

    ConfigCategorys.mainDiv = div;
    ConfigCategorys.topDiv = div.content;

    div.setHeadline(StringManager.locale.EditCategorys);
    div.createButton("+", ConfigCategorys.openNewKind);
    ConfigCategorys.okButton = div.createButton("Ok", ConfigCategorys.nuke);

    ConfigCategorys.lastBack = NativeInterface.back;
    NativeInterface.back = ConfigCategorys.nuke;

    ConfigCategorys.createDefaultCategory();
    ConfigCategorys.createCategorys();
};
ConfigEditor = {};

ConfigEditor.nuke = function()
{
    NativeInterface.back = ConfigEditor.lastBack;
    WebLibSimple.nuke(ConfigEditor.mainDiv);
};

ConfigEditor.createEntry = function(title, strings, event)
{
    var topDiv = ConfigEditor.topDiv;

    var entry = WebLibSimple.createAnyAppend("center", topDiv);
    entry.style.paddingTop = GlobalConf.configEditor_paddingTop + "px";

    var div = WebLibSimple.createAnyAppend("div", entry);
    div.style.height      = GlobalConf.configEditor_height   + "px";
    div.style.lineHeight  = GlobalConf.configEditor_height   + "px";
    div.style.fontSize    = GlobalConf.configEditor_fontSize + "px";
    div.style.color       = "#ffffff";
    div.innerHTML         = strings[ title ];

    div.onclick = function()
    {
        ConfigEditor.nuke();
        event(title);
    };

    StdDesign.dimmerTouch(div);

    return div;
};

ConfigEditor.init = function(title, options, strings, doneEvent)
{
    var div = StdDesign.createStd(Config.mainDiv);

    ConfigEditor.mainDiv = div;
    ConfigEditor.topDiv = div.content;

    div.setHeadline(title);
    div.createButton("X", ConfigEditor.nuke);

    ConfigEditor.lastBack = NativeInterface.back;
    NativeInterface.back = ConfigEditor.nuke;

    for (var index in options)
    {
        var option = options[ index ];
        ConfigEditor.createEntry(option, strings, doneEvent);
    }
};
DateTime = {};

DateTime.nuke = function()
{
    NativeInterface.back = DateTime.lastBack;
    WebLibSimple.nuke(DateTime.topDiv);
};

DateTime.update = function()
{
    var date = new Date(DateTime.dateInput.value);
    DateTime.dateInput.blur();

    var newDate = new Date(date.getTime() + (date.getTimezoneOffset() * 1000 * 60));

    AppointmentEditor.update(DateTime.key, newDate);
    DateTime.nuke();
};

DateTime.createButtons = function(parent)
{
    parent.createButton("X", DateTime.nuke);

    DateTime.lastBack = NativeInterface.back;
    NativeInterface.back = DateTime.update;

    parent.createButton("Ok", DateTime.update);
};

DateTime.createHeadline = function(title, parent)
{
    var height = GlobalConf.dateTime_headlineHeight;

    var div = WebLibSimple.createDivHeight(0, 0, 0, height, null, parent);
    div.style.color      = GlobalConf.headlineColor2;
    div.style.textAlign  = "center";
    div.style.lineHeight = height + "px";
    div.style.position   = "relative";
    div.style.fontSize   = (height * 0.5) + "px";
    div.innerHTML        = title;

    return div;
};

DateTime.createBox = function(title, parent)
{
    var headlineHeight = GlobalConf.dateTime_headlineHeight;
    var inputHeight    = GlobalConf.dateTime_inputHeight;

    var div = WebLibSimple.createAnyAppend("div", parent);
    div.style.height = (headlineHeight + inputHeight + 10) + "px";
    div.style.left   = "0px";
    div.style.right  = "0px";

    DateTime.createHeadline(title, div);

    var box = WebLibSimple.createDivHeight(0, 0, 0, inputHeight + 10, null, div);
    box.style.position = "relative";

    div.box = box;

    return div;
};

DateTime.getPickerDate = function(date, time)
{
    var date = new Date(date);
    var iso = "";

    var fillZeros = function(number)
    {
        var r = String(number);
        if (r.length === 1)
        {
          r = '0' + r;
        }

        return r;
    };

    iso += date.getFullYear();
    iso += '-' + fillZeros(date.getMonth() + 1);
    iso += '-' + fillZeros(date.getDate());

    if (time)
    {
        iso += 'T' + fillZeros(date.getHours());
        iso += ':' + fillZeros(date.getMinutes());
    }

    return iso;
};

DateTime.doneWithInput = function(event)
{
    if (event.keyCode == 13)
    {
        DateTime.update();
    }
};

DateTime.createTimeDateInput = function(date, parent)
{
    var div = DateTime.createBox(StringManager.locale.DateAndTime, parent);

    var inputHeight = GlobalConf.dateTime_inputHeight;

    var input = StdDesign.createInput(inputHeight, null, div.box);
    input.style.position = "relative";

    var preDate = DateTime.getPickerDate(date, true);
    input.input.value = preDate;
    // input.input.value = "2016-09-24T10:33";
    // input.input.value = "2016-09-24T10:50:00.000Z";
    // input.input.value = "2016-09-24";
    // input.input.value = "2016-09-24T15:00";
    input.input.type = "datetime-local";

    // console.log("preDate: " + preDate);

    input.input.onkeypress = DateTime.doneWithInput;

    // input.input.oninput = function()
    // {
    //     console.log("new Date: " + input.input.value);
    // };

    DateTime.dateInput = input.input;
};

DateTime.createDateInput = function(date, parent)
{
    var div = DateTime.createBox(StringManager.locale.Date, parent);

    var inputHeight = GlobalConf.dateTime_inputHeight;

    var input = StdDesign.createInput(inputHeight, null, div.box);
    input.style.position = "relative";

    input.input.value = DateTime.getPickerDate(date, false);;
    input.input.type = "date";

    // console.log("new Date: " + input.input.value);

    input.input.onkeypress = DateTime.doneWithInput;

    DateTime.dateInput = input.input;
};


DateTime.init = function(key, date, allday, parent)
{
    DateTime.key = key;

    var div = StdDesign.createStd(parent);
    DateTime.topDiv = div;

    div.setHeadline(StringManager.locale[ key ]);
    DateTime.createButtons(div);

    DateTime.allday = allday;

    var paddingDiv = WebLibSimple.createDiv(
        GlobalConf.textEdit_padding,
        0,
        GlobalConf.textEdit_padding,
        0,
        null,
        div.content);

    if (! allday)
    {
        DateTime.createTimeDateInput(date, paddingDiv);
    }
    else
    {
        DateTime.createDateInput(date, paddingDiv);
    }
};

// input.input.value = "2016-04-20T20:15";
// input.input.type = "datetime-local";

// input.input.value = "2016-04-20";
// input.input.type = "date";
Dialogue = {};

Dialogue.nuke = function()
{
    NativeInterface.back = Dialogue.lastBack;
    WebLibSimple.nuke(Dialogue.dimmerDiv);
};

Dialogue.sureDialogue = function(okEvent, message)
{
    var div = Dialogue.init();

    var text = WebLibSimple.createDiv(0, 0, 0, "50%", null, div);
    text.innerHTML = StringManager.locale.Delete + ": " + message + "?";

    var buttons = WebLibSimple.createDiv(0, "50%", 0, 0, null, div);

    var ok = WebLibSimple.createDiv("50%", 0, 0, 0, null, buttons);
    ok.style.color = GlobalConf.headlineColor;
    ok.innerHTML = "OK";

    ok.onclick = function()
    {
        Dialogue.nuke();
        okEvent();
    };

    var cancle = WebLibSimple.createDiv(0, 0, "50%", 0, null, buttons);
    cancle.innerHTML = StringManager.locale.cancle;
    cancle.onclick   = Dialogue.nuke;

    Dialogue.lastBack = NativeInterface.back;
    NativeInterface.back = Dialogue.nuke;

    StdDesign.dimmerTouch(ok);
    StdDesign.dimmerTouch(cancle);
};

Dialogue.init = function()
{
    var dimmerDiv = WebLibSimple.createDiv(0, 0, 0, 0, null, Main.toptopDiv);

    Dialogue.dimmerDiv = dimmerDiv;

    WebLibSimple.setBGColor(dimmerDiv, "#8c000000");

    // var dialogue = WebLibSimple.createDiv("20%", "40%", "20%", "40%", null, dimmerDiv);
    // dialogue.style.borderRadius = "20px";
    // dialogue.style.lineHeight = "70px";
    // dialogue.style.fontSize = "30px";
    // dialogue.style.color = "#3d3d3d";
    // dialogue.style.textAlign = "center";

    var center = WebLibSimple.createAnyAppend("center", dimmerDiv);
    var dialogue = WebLibSimple.createAnyAppend("div", center);
    dialogue.style.top = "40%";
    // dialogue.style.width = "600px";
    dialogue.style.left = "10%";
    dialogue.style.right = "10%";

    dialogue.style.height = "200px";
    dialogue.style.borderRadius = "20px";
    dialogue.style.lineHeight = "70px";
    dialogue.style.fontSize = "30px";
    dialogue.style.color = "#3d3d3d";
    dialogue.style.textAlign = "center";
    dialogue.style.position   = "absolute";

    WebLibSimple.setBGColor(dialogue, "#ffffff");

    return dialogue;
};

Dialogue.okDialogue = function(message)
{
    var div = Dialogue.init();

    var text = WebLibSimple.createDiv(0, 0, 0, "50%", null, div);
    text.innerHTML = message;

    var buttons = WebLibSimple.createDiv(0, "50%", 0, 0, null, div);

    var ok = WebLibSimple.createDiv("50%", 0, 0, 0, null, buttons);
    // ok.style.color = "#002fa7";
    ok.style.color = GlobalConf.headlineColor;
    ok.onclick = Dialogue.nuke;
    ok.innerHTML = "OK";

    NativeInterface.back = Dialogue.nuke;

    StdDesign.dimmerTouch(ok);
};
Text = {};

Text.nuke = function()
{
    NativeInterface.back = AppointmentEditor.back;
    WebLibSimple.nuke(Text.topDiv);
};

Text.update = function()
{
    var text = Text.input.input.value;

    Text.input.input.blur();

    if (Text.key == "Title" && (text == null || text == ""))
    {
        Text.nuke();
        return;
    }

    AppointmentEditor.update(Text.key, text);
    Text.nuke();
};

Text.createButtons = function(parent)
{
    parent.createButton("X", Text.nuke);

    if (Text.key == "Place")
    {
        StdDesign.createImgButton(parent, img_maps_w, Text.openMaps);
    }

    NativeInterface.back = Text.update;
    parent.createButton("Ok", Text.update);
};

Text.openMaps = function()
{
    var place = Text.input.input.value;
    NativeInterface.openMaps(place);
};

Text.createInput = function(oldTxt, parent)
{
    var height = 100;
    var placeholder = "type!";

    if (oldTxt == StringManager.locale.NewEvnetPlaceholder)
    {
        oldTxt = null;
        placeholder = StringManager.locale.NewEvnetPlaceholder;
    }

    var padding = GlobalConf.textEdit_padding;
    var paddingDiv = WebLibSimple.createDivHeight(padding, 0, padding, height, null, parent);
    var input = StdDesign.createInput(height, placeholder, paddingDiv);

    input.input.onkeypress = function(event)
    {
        if (event.keyCode == 13)
        {
            Text.update();
        }
    };

    if (oldTxt)
    {
        input.input.value = oldTxt;
    }

    Text.input = input;
};

Text.init = function(key, oldTxt, parent)
{
    var div = StdDesign.createStd(parent);
    Text.topDiv = div;
    Text.key    = key;

    div.setHeadline(StringManager.locale[ key ]);
    Text.createInput(oldTxt, div.content);
    Text.createButtons(div);
};
GlobalConf = {

    // blueColor: "#1ED760",
    // greyColor: "#282828",
    // purpleColor: "#7C25F8",
    // greenColor:  "#1ED760",
    // darkColor:  "#181818",
    // darkGreyColor:  "#282828",
    // lightGreyColor:  "#AFAFAF",
    // AtomDarkColor:  "#22252B",
    // AtomLighterDarkColor: "#292C36",
    // bodyColor: "#232323",
    // CC006A


    // #1ED760 --> rgb(30, 215, 96)

    //
    // Categorys
    //

    // fontFamily: "Ubuntu, Helvetica, Arial",
    // fontFamily: "Helvetica, Arial",
    fontFamily: "Arial, Lato",

    bodyColor: "#232323",
    headlineColor: "#7C25F8",
    // headlineColor2: "#232323",
    headlineColor2: "#ffffff",

    //
    // StdDesign
    //

    std_headline_height: 80,
    std_headline_fontSize: 50,
    std_buttonBar_height: 60,
    std_button_size: 50,
    std_button_color: "#ffffff",
    std_button_mouseover_color: "#CC006A",

    std_input_border: "2px solid #ffffff",
    std_input_color: "#ffffff",

    std_switch_color: "#CC006A",

    //
    // Calendar Month
    //

    month_circleSize: 60,
    month_circlefontSize: 30,

    month_headlineFontSize: 20,
    month_headlineHeight: 50,

    month_weekDayHeight: 50,
    month_weekDayBarColor: "#ffffff",
    month_weekfontSize: 20,

    month_weekHeight: 50,
    month_weekPadding: 10,

    month_todayColor: "#3D3D3D",

    // obsolet
    month_noneMonthColor: "#1f1e1e",

    month_monthColorEvent: "#7C25F8",
    month_monthColorNormal: "#3D3D3D",
    month_monthFontColor: "#ffffff",
    month_weekDayColor: "#ffffff",
    month_mouseOverColor: "#ffffff",

    //
    // Calendar Month Info
    //

    categorysInfo_eventFontSize: "40px",
    categorysInfo_eventColor: "#7C25F8",

    categorysInfo_categoryPadding: 40,

    categorysInfo_mainCircleSize: 150,
    categorysInfo_mainCircleColor: "#3D3D3D",

    categorysInfo_categoryFontSize: "40px",
    categorysInfo_categoryColor: "#ffffff",

    // categorysInfo_categoryNotSelected: "#3d3d3d",
    categorysInfo_categoryNotSelected: "#535151",

    categorysInfo_categoryDefaultCircleSize: 30,
    categorysInfo_categoryPaddingTop: 10,

    categorysInfo_headlineColor: "#7C25F8",

    //
    // Schedule
    //

    scheduleHeadlineHeight: 50,
    scheduleHeadlineSize: 30,
    scheduleHeadlineColor: "#7C25F8",
    schedulePointColor: "#ffffff",

    scheduleLoopWidth: 40,
    scheduleLoopPaddingFix: -12,
    scheduleLoopTextWeight: "300",

    schedulePaddingTop: 20,
    scheduleEntryHeight: 80,

    scheduleFontSize: 30,
    scheduleFontColor: "#ffffff",

    scheduleDateFontSize: 20,
    scheduleDateFontColor: "#ffffff",
    scheduleDateFontColor2: "#ffffff",

    //
    // Appointment-Edit
    //

    edit_baseBorder: "3px solid ",
    edit_tileColor: "#3D3D3D",
    edit_mainTitleColor: "#CC006A",
    edit_tileBorderColor: "#CC006A",
    edit_tilePointPadding: 10,
    edit_tilefontSize: 40,
    edit_borderRadius: 30,
    edit_mainPointColor: "#ffffff",
    edit_notePointColor: "#afafaf",
    edit_fontColor: "#ffffff",

    //
    // Menu
    //

    menu_color: "#3D3D3D",
    menu_width: 70,
    menu_paddingTop: 40,
    menu_size: 40,

    //
    // Kind
    //

    kind_paddingTop: 10,
    kind_paddingLR: 20,
    kind_height: 60,

    //
    // add Kind
    //

    addKind_colors: [
        "#F83434",
        "#F87534",
        "#F8B734",
        "#F8F834",
        "#B7F834",
        "#75F834",
        "#34F834",
        "#34F875",
        "#34F8B7",
        "#34F8F8",
        "#34B7F8",
        "#3475F8",
        "#3434F8",
        "#7534F8",
        "#B734F8",
        "#F834F8",
        "#F834B7",
        "#F83475"
    ],

    addKind_paddingLR: 20,
    addKind_paddingTop: 20,
    addKind_inputHeight: 100,
    addKind_boxSize: 60,
    addKind_boxPadding: 10,
    addKind_inputHeight: 100,

    //
    // DateTime
    //

    dateTime_headlineHeight: 80,
    dateTime_inputHeight: 80,


    //
    // Config Editor
    //

    configEditor_paddingTop: 40,
    configEditor_height: 60,
    configEditor_fontSize: 40,

    //
    // About
    //

    about_headlineColor: "#7C25F8",
    about_headlineFontSize: 50,
    about_headlineSize: 100,
    about_bottomColor: "#333333",
    about_bottomFontSize: 50,
    about_bottomSize: 100,
    about_h1FontSize: 45,
    about_fontSize: 30,
    about_border: "5%",

    //
    // ColorPicker
    //

    colorPicker_size: 70,
    colorPicker_paddingTop: 20,

    //
    // Config
    //

    config_width: 600,
    config_height: 60,
    config_fontSize: 40,
    config_color: "#000000",
    config_backgroundColor: "#ffffff",
    config_paddingTop: 40,

    //
    // ConfigCategorys
    //

    configCategorys_height: 50,
    configCategorys_padding: 30,
    configCategorys_deleteButtonColor: "#575757",

    //
    // BoolPicker
    //

    boolPicker_height: 100,
    boolPicker_fontSize: 60,

    //
    // PriorityPicker
    //

    priorityPicker_height: 100,
    priorityPicker_fontSize: 30,
    priorityPicker_titleColor: "#CC006A",

    //
    // Search
    //

    search_height: 120,
    search_inputHeight: 100,

    //
    // Statistics
    //

    statistics_width: "90%",
    statistics_paddingBottom: 150,
    statistics_priorityColor: "#CC006A",
    statistics_defaultFontColor: "#7c7c7c",
    statistics_defaultFontFamily: "Arial",
    statistics_defaultFontSize: 15,

    //
    // ConfigManager
    //

    configManager_stdColor: "#F83475",
    configManager_stdDateFormart: "DD.MM.YYYY",
    configManager_stdWeekDayStart: 1,

    //
    // MonthYearSelect
    //

    monthYearSelect_color: "#CC006A",
    monthYearSelect_defaultColor: "#ffffff",

    //
    // Edit-Text
    //

    textEdit_padding: 20
};

// GlobalConf.addKind_inputHeight
Kind = {};

Kind.nuke = function()
{
    NativeInterface.back = Kind.lastBack;
    WebLibSimple.nuke(Kind.topDiv);
};

Kind.add = function(category, color)
{
    CategorysInfo.updateAllCategorys();
    Kind.addCategory(category);
};

Kind.openNewKind = function()
{
    AddKind.init(Kind.topDiv, Kind.add);
};

Kind.setBorder = function(elem, color)
{
    elem.style.border = "2px solid " + color;
};

Kind.mouseOver = function(elem)
{
    var baseBorder = GlobalConf.baseBorder;

    var mouseOver = function()
    {
        Kind.setBorder(elem, elem.borderColor);
    };

    var mouseOut = function()
    {
        if (! elem.selected) Kind.setBorder(elem, elem.stdColor);
    };

    if (! Main.isMobile)
    {
        elem.addEventListener("mouseover", mouseOver);
        elem.addEventListener("mouseout",  mouseOut);
    }
    else
    {
        elem.addEventListener("touchstart", mouseOver);
        // elem.addEventListener("touchend", mouseOut);
    }
};

Kind.select = function(category)
{
    var elem = Kind.contentFields[ category ];
    Kind.setBorder(elem, elem.borderColor);

    for (var cat in Kind.contentFields)
    {
        var cat = Kind.contentFields[ cat ];
        cat.selected = false;

        Kind.setBorder(cat, elem.stdColor);
    }

    elem.selected = true;
    Kind.setBorder(elem, elem.borderColor);

    AppointmentEditor.update("Kind", elem.kind);
};

Kind.clicked = function(event)
{
    var elem = event.target;
    Kind.select(elem.kind);
};

Kind.createCategory = function(title)
{
    var parent = Kind.topDiv.content;

    if (Kind.indexCount == null) Kind.indexCount = 0;

    var index = Kind.indexCount;

    var paddingTop = GlobalConf.kind_paddingTop;
    var paddingLR = GlobalConf.kind_paddingLR;
    var height = GlobalConf.kind_height;

    divHeight = height + (paddingTop * 2)

    var top = divHeight * index;
    var div = WebLibSimple.createDivHeight(0, top, 0, divHeight, null, parent);

    var stdColor = "#3D3D3D";

    var content = WebLibSimple.createDiv(
        paddingLR,
        paddingTop,
        paddingLR,
        paddingTop,
        null,
        div);

    content.style.textAlign    = "center";
    content.style.lineHeight   = height + "px";
    content.style.fontSize     = (height - 20) +"px";
    content.style.cursor       = "pointer";
    content.style.borderRadius = "5000px";
    content.style.color        = GlobalConf.edit_fontColor;
    content.innerHTML          = title;
    content.onclick            = Kind.clicked;
    content.selected           = false;
    content.kind               = title;

    content.borderColor = CategoryManager.getCategorysColor(title);
    content.stdColor = stdColor;

    Kind.setBorder(content, stdColor);
    Kind.mouseOver(content);

    Kind.indexCount++;

    return content;
};

Kind.createContent = function(parent)
{
    for (var kind in CategoryManager.getCategorys())
    {
        Kind.addCategory(kind);
    }
};

Kind.addCategory = function(kind)
{
    var cat = Kind.createCategory(kind);
    Kind.contentFields[ kind ] = cat;
};

Kind.createButtons = function(parent)
{
    Kind.lastBack = NativeInterface.back;
    NativeInterface.back = Kind.nuke;

    parent.createButton("+", Kind.openNewKind);
    parent.createButton("Ok", Kind.nuke);
};

Kind.init = function(preSelected, parent)
{
    // console.log("Kind.init: " + preSelected);
    Kind.contentFields = {};
    Kind.indexCount = null;

    var div = StdDesign.createStd(parent);
    Kind.topDiv = div;

    div.setHeadline(StringManager.locale.Kind);
    Kind.createContent();
    Kind.createButtons(div);

    Kind.select(preSelected);
};
Main = {};

Main.createMenuBar = function(parent)
{
    var menuContainer = WebLibSimple.createDivWidth(0, 0, GlobalConf.menu_width, 0, null, parent);
    menuContainer.style.overflow = "hidden";
    menuContainer.style.backgroundColor = GlobalConf.menu_color;

    Menu.init(menuContainer);
};

Main.createContainer = function(parent)
{
    var paddingDiv = WebLibSimple.createDiv(5, 5, 5, 5, null, parent);
    var content = WebLibSimple.createDiv(0, 0, 0, 0, null, paddingDiv);

    Main.containerMonth = WebLibSimple.createDiv(0, 0, 0, "50%", null, content);
    Main.containerMonth.style.overflow = "hidden";

    Main.containerMonthInfo = WebLibSimple.createDiv(0, "50%", 0, 0, null, content);
    Main.containerMonthInfo.style.overflow = "hidden";
};

Main.portrait = function()
{
    Main.containerMonth.style.bottom = "50%";
    Main.containerMonth.style.right = "0%";

    Main.containerMonthInfo.style.top = "50%";
    Main.containerMonthInfo.style.left = "0%";
};

Main.landscape = function()
{
    Main.containerMonth.style.bottom = "0%";
    Main.containerMonth.style.right = "50%";

    Main.containerMonthInfo.style.top = "0%";
    Main.containerMonthInfo.style.left = "50%";
};

Main.orientation = function()
{
    var w = window.innerWidth;
    var h = window.innerHeight;

    if (w > h)
    {
        Main.position = "landscape";
    }
    else
    {
        Main.position = "portrait";
    }
};

Main.resize = function()
{
    if (Main.scheduleFullSize) return;

    Main.orientation();

    if (Main.position == "landscape")
    {
        Main.landscape();
    }

    if (Main.position == "portrait")
    {
        Main.portrait();
    }
};


Main.conf = function()
{
    var meta = WebLibSimple.createAnyAppend("meta", document.head);
    meta.charset = "utf-8";

    SliderButton.addCSSShit();

    Main.scheduleFullSize = false;
    Main.showCategory = null;
    NativeInterface.back = null;

    WebLibSimple.disableSelection(document.body);

    window.ondragstart = function()
    {
        return false;
    };

    var topDiv = StdDesign.createStdDiv(document.body);
    topDiv.style.fontFamily              = GlobalConf.fontFamily;
    topDiv.style.color                   = "#ffffff";
    topDiv.style.overflow                = "hidden";
    topDiv.style.webkitUserSelect        = "none";
    topDiv.style.webkitTapHighlightColor = "rgba(0, 0, 0, 0)";
    topDiv.style.msTouchAction           = "manipulation";
    topDiv.style.touchAction             = "manipulation";

    // Spin.createSpin();

    Main.toptopDiv = topDiv;

    var menuWidth = GlobalConf.menu_width;

    var mainContentDiv = WebLibSimple.createDiv(menuWidth, 0, 0, 0, null, topDiv);
    Main.mainContentDiv = mainContentDiv;
    // mainContentDiv.style.overflow = "hidden";

    var moverDiv = WebLibSimple.createDivWidth(0, 0, "100%", 0, null, mainContentDiv);
    Main.moverDiv = moverDiv;

    Main.createContainer(moverDiv);
    Main.createMenuBar(topDiv);

    Main.resize();

    window.addEventListener("resize", Main.resize);
};

Main.setHammer = function(parent)
{
    var hammertime = new Hammer(parent);

    var action = function(event)
    {
        if (! event.isFinal) return;

        var deltaX = event.deltaX;

        if (deltaX >  100) StdMonth.changeMonth("before");
        if (deltaX < -100) StdMonth.changeMonth("next");
    };

    hammertime.on("swipe", action);
};

Main.showScheduleDiv = function()
{
    if (Main.scheduleDivVisable) return;

    AnimationManager.dimmerOn(Main.infoDiv);
    AnimationManager.dimmerOff(Main.scheduleDiv);

    Main.scheduleDivVisable = true;
};

Main.showInfoDiv = function()
{
    if (! Main.scheduleDivVisable) return;

    AnimationManager.dimmerOn(Main.scheduleDiv);
    AnimationManager.dimmerOff(Main.infoDiv);

    Main.scheduleDivVisable = false;
};

Main.setup = function()
{
    var monthDiv = StdMonth.init(Main.containerMonth);
    Main.setHammer(monthDiv);

    var infoDiv = CategorysInfo.init(Main.containerMonthInfo);
    Main.infoDiv = infoDiv;

    var scheduleDiv = Schedule.init(new Date(), Main.containerMonthInfo);
    scheduleDiv.style.display = "none";
    scheduleDiv.style.opacity = 0.0;

    Main.scheduleDivVisable = false;

    Main.scheduleDiv = scheduleDiv;

    Menu.init();

    Main.fixInfoDay = false;
};

Main.finishedLoadingIOS = function(data)
{
    // NativeInterface.log("Main.finishedLoadingIOS");
    // NativeInterface.log("header: " + JSON.stringify(navigator.userAgent));

    var jsons = JSON.parse(data);
    var events = [];

    for (var index in jsons)
    {
        var event = jsons[ index ];
        events.push(JSON.parse(event));
    }

    DataManager.parseDatabaseJson(events);

    var today = Time.dayInfo(new Date());
    DataManager.setMonth(today.month, today.year);

    NativeInterface.exeIntent();
};

Main.finishedLoading = function(data)
{
    // Spin.nukeSpin();

    DataManager.parseDatabaseJson(JSON.parse(data));

    var today = Time.dayInfo(new Date());
    DataManager.setMonth(today.month, today.year);

    NativeInterface.exeIntent();
};

Main.finishedLoadingNet = function(data)
{
    console.log(JSON.stringify(data.userInfo));
    ConfigManager.changeDefaultToConfig(JSON.stringify(data.userInfo));

    // Spin.nukeSpin();

    DataManager.parseDatabaseJson(data.events);

    var today = Time.dayInfo(new Date());
    DataManager.setMonth(today.month, today.year);

    NativeInterface.exeIntent();
};

Main.desktop = function()
{
    MobileConf.device = "Desktop";
    var script = WebLibSimple.createAnyAppend("script", document.head);
    script.src = "http://localhost/Calendar/testphp/events.php?callback=Main.finishedLoadingNet";
};

Main.main = function()
{
    MobileConf.checkMobile();

    var done = function()
    {
        StringManager.init();

        Main.conf();
        Main.setup();

        NativeInterface.getEvents();
    };

    ConfigManager.setGlobalConfig(done);

    if ((MobileConf.device == "Android") || (MobileConf.device == "IOS")) return;
    Main.desktop();
};
Menu = {};

Menu.animation = function(direction)
{
    var size = 0;

    var pups  = 0;
    var pups2 = 0;

    if (direction < 0)
    {
        pups  = 50;
        pups2 = 0.5;
    }

    var run = function()
    {
        size += 10;
        var position = WebLibSimple.circ(size / 100);

        Menu.textMenu.style.left  = -pups + direction * ((-50 * position + 50) * -1) + "%";
        Main.moverDiv.style.left  =  pups + direction * (  50 * position)            + "%";
        Main.moverDiv.style.right =  pups + direction * (  50 * position       * -1) + "%";

        Menu.dimmer.style.opacity = 0.5 * position * direction + pups2;

        // console.log(position);

        if (position < 1)
        {
            setTimeout(run, 15);
        }
        else
        {
            if (direction < 0) WebLibSimple.nuke(Menu.dimmer);
        }
    };

    run();
};

Menu.openAnimation = function()
{
    Menu.back = NativeInterface.back;
    NativeInterface.back = Menu.closeAnimation;

    var mover = Main.moverDiv;

    var dimmer = WebLibSimple.createDiv(0, 0, 0, 0, null, mover);
    dimmer.onclick = Menu.openMenu;

    WebLibSimple.setBGColor(dimmer, "#000000");
    Menu.dimmer = dimmer;

    Menu.animation(1);
    Menu.isOpen = true;
};

Menu.closeAnimation = function()
{
    if (! Menu.isOpen) return;

    Menu.animation(-1);
    Menu.isOpen = false;

    NativeInterface.back = Menu.back;
};

Menu.openMenu = function()
{
    if (Menu.isOpen === undefined)
    {
        Menu.isOpen = false;
    }

    if (! Menu.isOpen)
    {
        Menu.openAnimation();
    }
    else
    {
        Menu.closeAnimation();
    }
};

Menu.createTextMenuEntry = function(index, data)
{
    var menuWidth  = GlobalConf.menu_width;
    var size       = GlobalConf.menu_size;
    var paddingTop = GlobalConf.menu_paddingTop;
    var left       = (menuWidth - size) / 2;

    var top = (size + paddingTop) * index + paddingTop;

    var div = WebLibSimple.createDivHeight(left, top, 0, size, null, Menu.textMenu);
    div.style.lineHeight = size + "px";
    div.style.fontSize = size + "px";
    div.style.textAlign = "left";
    div.innerHTML = data.name;
    div.onclick = data.click;

    StdDesign.dimmerTouch(div);
};

Menu.createTextMenu = function()
{
    var textMenu = WebLibSimple.createDivWidth("-50%", 0, "50%", 0, null, Main.mainContentDiv);
    textMenu.style.backgroundColor = GlobalConf.menu_color;

    // prevent parent event
    textMenu.onclick = function(event)
    {
        event.stopPropagation();
    };

    Menu.textMenu = textMenu;

    for (var index in Menu.entrys)
    {
        var data = Menu.entrys[ index ];
        Menu.createTextMenuEntry(index, data);
    }
};

Menu.createMenuPoint = function(index, data, parent)
{
    var menuWidth  = GlobalConf.menu_width;
    var size       = GlobalConf.menu_size;
    var paddingTop = GlobalConf.menu_paddingTop;
    var left       = (menuWidth - size) / 2;

    var top = (size + paddingTop) * index + paddingTop;

    var img = WebLibSimple.createImgWidHei(left, top, size, size, null, parent);
    img.style.cursor = "pointer";
    img.src = data.icon;
    img.onclick = data.click;

    StdDesign.dimmerTouch(img);
};

Menu.setToday = function()
{
    var today = Time.dayInfo(new Date());

    Menu.closeAnimation();

    DataManager.setMonth(today.month, today.year);
    CalendarMonth.update(today.month, today.year);

    if (Main.scheduleDivVisable) Schedule.update(Time.getEventDayDate(new Date()));

    if (Main.showCategory != null)
    {
        var data = Categorys.highlite(Main.showCategory);
        CategorysInfo.changeHeadlineEvents(data.time, data.events);
    }
};

Menu.selectMonthYear = function()
{
    MonthYearSelect.init();
};

Menu.openSearch = function()
{
    Search.init();
};

Menu.openConf = function()
{
    Config.init();
};

Menu.init = function(parent)
{

    // "OpenMenu": "Menu",
    // "OpenToday": "Today",
    // "OpenSearch": "Search",
    // "OpenScan": "Scan Code",
    // "OpenConfig": "Config",
    // "OpenSelcetMonthYear": "Select Month/Year"

    // StringManager.locale

    Menu.entrys = [
        {
            // "name": StringManager.locale.OpenMenu,
            "name": "",
            "icon": img_menu_w,
            "click": Menu.openMenu
        },
        {
            "name": StringManager.locale.OpenToday,
            "icon": today_w,
            "click": Menu.setToday
        },
        {
            "name": StringManager.locale.OpenSearch,
            "icon": img_search_w,
            "click": Menu.openSearch
        },
        {
            "name": StringManager.locale.OpenScan,
            "icon": img_scan_w,
            "click": NativeInterface.openScan
        },
        {
            "name": StringManager.locale.OpenConfig,
            "icon": img_config_w,
            "click": Menu.openConf
        },
        // {
        //     "name": "Reload",
        //     "icon": img_reload_w,
        //     "click": NativeInterface.reload
        // },
        {
            "name": StringManager.locale.OpenSelcetMonthYear,
            "icon": img_select_w,
            "click": Menu.selectMonthYear
        },
        {
            "name": StringManager.locale.Statistics,
            "icon": statistics_w,
            "click": Statistics.init
        },
        {
            "name": "About",
            "icon": null,
            "click": About.init
        }
    ];

    for (var index in Menu.entrys)
    {
        var data = Menu.entrys[ index ];
        if (data.icon != null) Menu.createMenuPoint(index, data, parent);
    }

    Menu.createTextMenu();
};
MonthYearSelect = {};

MonthYearSelect.nuke = function()
{
    NativeInterface.back = MonthYearSelect.lastBack;
    WebLibSimple.nuke(MonthYearSelect.mainDiv);
};

MonthYearSelect.done = function()
{
    var month = parseInt(MonthYearSelect.choice[ "month" ]) + 1;
    var year  = DataManager.year - 6 + parseInt(MonthYearSelect.choice[ "year" ]);

    CalendarMonth.update(month, year);
    DataManager.setMonth(month, year);

    MonthYearSelect.nuke();
};

MonthYearSelect.update = function(key, index)
{
    for (var span_index in MonthYearSelect[ key ])
    {
        var span = MonthYearSelect[ key ][ span_index ];

        if (span_index != index) span.disselect();
    }

    MonthYearSelect.choice[ key ] = index;
};

MonthYearSelect.span = function(key, div, title, index)
{
    var span = WebLibSimple.createAnyAppend("div", div);
    span.style.paddingTop = "20px";
    span.style.fontSize = "30px";
    span.innerHTML = title;

    span.select = function()
    {
        span.style.color = GlobalConf.monthYearSelect_color;
    };

    span.disselect = function()
    {
        span.style.color = GlobalConf.monthYearSelect_defaultColor;
    };

    span.onclick = function()
    {
        span.select();
        MonthYearSelect.update(key, index);
    };

    StdDesign.dimmerTouch(span);

    return span;
};

MonthYearSelect.createTable = function(key, div, range, now)
{
    // MonthYearSelect.months_selected = selected;

    var center = WebLibSimple.createAnyAppend("center", div);

    var spanArray = [];

    for (var index in range)
    {
        var entry = range[ index ];
        var span = MonthYearSelect.span(key, center, entry, index);

        spanArray.push(span);

        // if ((index == now) ||(entry == now))
        if (index == now)
        {
            span.select();
        }
    }

    MonthYearSelect[ key ] = spanArray;
};

MonthYearSelect.view = function(div)
{
    var left  = WebLibSimple.createDiv(0,     0, "50%", 0, null, div);
    var right = WebLibSimple.createDiv("50%", 0,     0, 0, null, div);

    var months = StringManager.locale.months;

    var selected = DataManager.month - 1;
    MonthYearSelect.createTable("month", left, months, selected);

    var year = DataManager.year;
    var years = StdDesign.range(year-6, year+6, 1);

    MonthYearSelect.createTable("year", right, years, 6);

    MonthYearSelect.choice = {};
    MonthYearSelect.choice[ "month" ] = selected;
    MonthYearSelect.choice[ "year"  ] = 6;

    // DataManager.month = month;
    // DataManager.year  = year;
};

MonthYearSelect.init = function()
{
    Menu.closeAnimation();

    var div = StdDesign.createStd(Main.toptopDiv);

    div.setHeadline(StringManager.locale.OpenSelcetMonthYear);
    div.createButton("X",  MonthYearSelect.nuke);
    div.createButton("OK", MonthYearSelect.done);

    MonthYearSelect.lastBack = NativeInterface.back;
    NativeInterface.back = MonthYearSelect.nuke;

    MonthYearSelect.mainDiv = div;

    MonthYearSelect.view(div.content);
};
PriorityPicker = {};

PriorityPicker.update = function()
{
    NativeInterface.back = PriorityPicker.lastback;
    AppointmentEditor.update(PriorityPicker.key, PriorityPicker.value);
    WebLibSimple.nuke(PriorityPicker.topDiv);
};

PriorityPicker.createButtons = function(parent)
{
    PriorityPicker.lastback = NativeInterface.back;
    NativeInterface.back = PriorityPicker.update;

    parent.createButton("Ok", PriorityPicker.update);
};

PriorityPicker.createInput = function(parent, preValue)
{
    var height = GlobalConf.priorityPicker_height;

    var title = WebLibSimple.createDivHeight(0, 0, 0, height, null, parent);
    title.style.color = GlobalConf.priorityPicker_titleColor;
    title.style.textAlign = "center";

    var fontSize = GlobalConf.priorityPicker_fontSize;
    title.style.fontSize = fontSize + "px";

    var input = WebLibSimple.createDivHeight(0, height, 0, height, null, parent);

    var changeEvent = function(value)
    {
        var value = parseInt(value);

        var roundedValue = Math.round(value / 10);
        PriorityPicker.value = roundedValue;

        if (value < 33)
        {
            title.innerHTML = StringManager.locale.Low + ": " + roundedValue;
        }

        if (33 < value && value < 66)
        {
            title.innerHTML = StringManager.locale.Middle + ": " + roundedValue;
        }

        if (value > 66)
        {
            title.innerHTML = StringManager.locale.High + ": " + roundedValue;
        }

        title.style.fontSize = (fontSize + value) + "px";
    };

    SliderButton.create(input, preValue * 10, changeEvent);
    changeEvent(preValue * 10);
};

PriorityPicker.init = function(key, preValue, parent)
{
    var div = StdDesign.createStd(parent);
    PriorityPicker.topDiv = div;
    PriorityPicker.key    = key;

    div.setHeadline(StringManager.locale.Priority);
    PriorityPicker.createInput(div.content, preValue);
    PriorityPicker.createButtons(div);
};
Schedule = {};

Schedule.updateHeadline = function(title)
{
    var titleTranz = Time.getDateTranzlation(title);
    Schedule.topDiv.setHeadline(titleTranz);
};

Schedule.createSchedule = function()
{
    var box = WebLibSimple.createDiv(0, 0, 0, 0, null, Schedule.topDiv.content);
    box.style.overflow = "auto";

    Schedule.scheduleBox = box;

    Schedule.setHammer(Schedule.scheduleBox);
};

Schedule.createMain = function(title, parent)
{
    var span = WebLibSimple.createAnyAppend("span", parent);
    span.style.fontSize = GlobalConf.scheduleDateFontSize + "px";
    span.style.color = GlobalConf.scheduleDateFontColor;
    span.innerHTML = title;

    return span;
};

Schedule.createNote = function(title, parent)
{
    var span = Schedule.createMain(title, parent);
    span.style.color = GlobalConf.scheduleDateFontColor2;

    return span;
};

Schedule.click = function(elem, data)
{
    elem.onclick = function()
    {
        AppointmentEditor.init(data);
    };
};

Schedule.createEvent = function(index, data, box)
{
    var categorys = CategoryManager.getCategorys();
    var category = data[ "Kind" ];
    var categoryColor = categorys[ category ];

    var paddingTop = GlobalConf.schedulePaddingTop;
    var tagHeight  = GlobalConf.scheduleEntryHeight;

    var loopWidth      = GlobalConf.scheduleLoopWidth;
    var loopPaddingFix = GlobalConf.scheduleLoopPaddingFix;
    var loopTextWeight = GlobalConf.scheduleLoopTextWeight;

    var titleFontSize = GlobalConf.scheduleFontSize;
    var titleColor    = GlobalConf.scheduleFontColor;

    var top = (paddingTop + tagHeight) * index;
    var tagDiv = WebLibSimple.createDivHeight(0, top, 0, tagHeight, null, box);
    tagDiv.style.overflow = "hidden";
    tagDiv.style.cursor = "pointer";

    Schedule.click(tagDiv, data);

    var createLoopSpan = function(loopChar, align, left, right)
    {
        var loop = WebLibSimple.createAnyAppend("span", tagDiv);
        loop.style.position = "absolute";
        loop.style.left     = left;
        loop.style.top      = loopPaddingFix + "px";
        loop.style.right    = right;
        loop.style.width    = loopWidth + "px";

        loop.style.color      = categoryColor;
        loop.style.fontSize   = tagHeight + "px";
        loop.style.fontWeight = loopTextWeight;
        loop.style.textAlign  = align;

        loop.innerHTML = loopChar;

        return loop
    };

    var loop = createLoopSpan("{", "left", "0px", null);
    var loop = createLoopSpan("}", "right", null, "0px");

    var content = WebLibSimple.createDiv(loopWidth, 0, loopWidth, 0, null, tagDiv);

    var title = WebLibSimple.createDiv(0, 0, "50%", 0, null, content);
    title.style.fontSize = titleFontSize + "px";
    title.style.lineHeight = tagHeight + "px";
    title.style.color = titleColor;
    title.innerHTML = data[ "Title" ];

    var date = WebLibSimple.createDiv("50%", 0, 0, 0, null, content);
    date.style.fontSize = (tagHeight / 4) + "px";
    date.style.lineHeight = (tagHeight / 2) + "px";
    date.style.color = GlobalConf.headlineColor2;
    date.style.textAlign = "right";

    var subHeight = tagHeight / 2;

    var startDiv = WebLibSimple.createDivHeight(0,         0, 0, subHeight, null, date);
    var endDiv   = WebLibSimple.createDivHeight(0, subHeight, 0, subHeight, null, date);

    var start = data[ "Start" ];
    var end   = data[  "End"  ];

    var startDate = Time.getEventDayDate(start).toISOString();
    var endDate   = Time.getEventDayDate(end).toISOString();

    var startDateTranz = Time.getDateTranzlation(startDate);
    var endDateTranz   = Time.getDateTranzlation(endDate);

    var startTime = Time.getTimeTranzlation(start);
    var endTime   = Time.getTimeTranzlation(end);

    if (data[ "All-Day" ])
    {
        Schedule.createMain(startDateTranz, startDiv);
        Schedule.createMain(endDateTranz, endDiv);

        return;
    }

    if (startDate != endDate)
    {
        Schedule.createNote(startDateTranz + " - ", startDiv);
        Schedule.createMain(startTime, startDiv);

        Schedule.createNote(endDateTranz + " - ", endDiv);
        Schedule.createMain(endTime, endDiv);
    }
    else
    {
        Schedule.createMain(startTime, startDiv);
        Schedule.createMain(endTime, endDiv);
    }
};

Schedule.createNoneDiv = function(parent)
{
    var div = WebLibSimple.createAnyAppend("div", parent);
    div.style.color      = GlobalConf.headlineColor2;
    div.style.fontSize   = GlobalConf.month_headlineFontSize + "px";
    div.style.textAlign  = "center";
    div.style.top        = "45%";
    div.style.width      = "100%";
    div.style.fontSize   = GlobalConf.std_headline_fontSize + "px";
    div.style.position   = "absolute";
    div.innerHTML        = StringManager.locale.None;
};

Schedule.sortEvents = function(events)
{
    var idEvents = {};
    var time = [];

    for (var index in events)
    {
        var json = events[ index ];
        var eTime = new Date(json[ "Start" ]).getTime();

        var id = json[ "id" ];
        idEvents[ id ] = json;

        // time + $ + id
        // 1475791200000-9f7ddc65-51c2-4f2c-e2e6-87169c2c31b7
        var tmp = eTime + "$" + id;
        time.push(tmp);
    }

    var sortDate = function(a, b)
    {
        var valueA = parseInt(a.split("$")[ 0 ]);
        var valueB = parseInt(b.split("$")[ 0 ]);

        return valueA - valueB;
    };

    time.sort(sortDate);


    var sortEvents = [];

    for (var index in time)
    {
        var timeId = time[ index ];
        var id = timeId.split("$")[ 1 ];

        sortEvents.push(idEvents[ id ]);
    }

    return sortEvents;
};

Schedule.updateSchedule = function(schedule)
{
    if (! Schedule.scheduleBox)
    {
        Schedule.createSchedule();
    }

    var box = Schedule.scheduleBox;
    box.innerHTML = "";

    var createdEvents = 0;

    var tmp = [];

    for (var index in schedule)
    {
        var event = schedule[ index ];

        if ((Main.showCategory != null) && (event[ "Kind" ] != Main.showCategory)) continue;

        tmp.push(event);
    }

    var sortEvents = Schedule.sortEvents(tmp);

    for (var index in sortEvents)
    {
        var event = sortEvents[ index ];

        Schedule.createEvent(createdEvents, event, box);
        createdEvents++;
    }

    if (createdEvents == 0)
    {
        Schedule.createNoneDiv(box);
    }
};

Schedule.back = function()
{
    if (! Main.scheduleDivVisable)
    {
        NativeInterface.androidSuperBack();
    }

    if (Main.scheduleFullSize)
    {
        Schedule.exitFullDisplay();
        return;
    }

    StdMonth.disableSelections();

    Main.showInfoDiv();

    Main.fixInfoDay = false;

    Schedule.date = null;
};

Schedule.add = function()
{
    var date = (new Date(Schedule.date)).getTime();

    var startDate = new Date(date + 9 * 60 * 60 * 1000);
    var endDate   = new Date(date + 10 * 60 * 60 * 1000);

    var data =
    {
        "id": null,
        "Title": StringManager.locale.NewEvnetPlaceholder,
        "Place": "",
        "Kind": GlobalConf.defaultCategory.name,
        "All-Day": false,
        "Start": startDate,
        "End": endDate,
        "Priority": 5,
        "Available": false,
        "Notes": ""
    };

    Schedule.stdJson = data;

    var json = JSON.parse(JSON.stringify(data));
    AppointmentEditor.init(json);
};

Schedule.createButtons = function(parent)
{
    parent.createButton("+", Schedule.add);
    parent.createButton("X", Schedule.back);

    NativeInterface.back = Schedule.back;
};

Schedule.update = function(date)
{
    Main.showScheduleDiv();

    // console.log("update: " + Schedule.date + " : " + date);
    if (Schedule.date == date)
    {
        Schedule.fullDisplay();
        return;
    }

    Schedule.date = date;

    var schedule = DataManager.getDay(date);

    Schedule.updateHeadline(date);
    Schedule.updateSchedule(schedule);
};

Schedule.updateInnerSchedule = function()
{
    var schedule = DataManager.getDay(Schedule.date);
    Schedule.updateSchedule(schedule);
};

Schedule.reconfHeadline = function(parent)
{
    parent.headline.style.fontSize   = GlobalConf.scheduleHeadlineSize   + "px";
    parent.headline.style.lineHeight = GlobalConf.scheduleHeadlineHeight + "px";
    parent.headline.style.height     = GlobalConf.scheduleHeadlineHeight + "px";
    parent.headline.style.color      = GlobalConf.scheduleHeadlineColor;

    parent.content.style.top = GlobalConf.scheduleHeadlineHeight + "px";
};

Schedule.animation = function(direction)
{
    var size = 0;

    var startPpacity = 1.0;
    var startPosition = 50;

    if (direction < 0)
    {
        startPpacity = 0;
        startPosition = 0;
    }

    Main.orientation();

    if (Main.position == "landscape")
    {
        Main.containerMonth.style.bottom = "0%";
        Main.containerMonth.style.right = "50%";
    }

    if (Main.position == "portrait")
    {
        Main.containerMonth.style.bottom = "50%";
        Main.containerMonth.style.right = "0%";
    }

    var run = function()
    {
        size += 10;
        var position = WebLibSimple.circ(size / 100);

        if (Main.position == "portrait")
        {
            Schedule.parent.style.top = (startPosition - (50 * position * direction)) + "%";
        }

        if (Main.position == "landscape")
        {
            Schedule.parent.style.left = (startPosition - (50 * position * direction)) + "%";
        }

        Main.containerMonth.style.opacity = startPpacity - (position * direction);

        if (position < 1)
        {
            setTimeout(run, 15);
        }
    };

    run();
};

Schedule.fullDisplay = function()
{
    Main.scheduleFullSize = true;
    Schedule.animation(1);
};

Schedule.exitFullDisplay = function()
{
    Main.scheduleFullSize = false;
    Schedule.animation(-1);
};

Schedule.changeMonthCeckCategory = function()
{
    if (Main.showCategory == null) return;

    var data = Categorys.highlite(Main.showCategory);
    CategorysInfo.changeHeadlineEvents(data.time, data.events);
};

Schedule.nextDay = function()
{
    var date = new Date(Schedule.date);

    var day   = date.getDate();
    var month = date.getMonth();
    var year  = date.getFullYear();

    var monthInfo = Time.monthInfo(month, year);

    day = day + 1;

    if (day - 1 == Time.monthCount(month + 1, year))
    {
        day   = 1;
        month = monthInfo.month_next;
        year  = monthInfo.year_next;

        if (month == 12)
        {
            month = 0;
            year += 1;
        }

        DataManager.setMonth(month + 1, year);
        CalendarMonth.update(month + 1, year);

        Schedule.changeMonthCeckCategory();
    }

    var nextDate = new Date(year, month, day);
    CalendarMonth.dateDiv[ nextDate ].select();
};

Schedule.lastDay = function()
{
    var date = new Date(Schedule.date);

    var day   = date.getDate();
    var month = date.getMonth();
    var year  = date.getFullYear();

    var monthInfo = Time.monthInfo(month, year);

    day = day - 1;

    if (day == 0)
    {
        month = monthInfo.month_before;
        year  = monthInfo.year_before;

        if (month == 12)
        {
            month = 0;
            year += 1;
        }

        if (month == -1)
        {
            month = 11;
            year -= 1;
        }

        day = Time.monthCount(month + 1, year);
        DataManager.setMonth(month  + 1, year);
        CalendarMonth.update(month  + 1, year);

        Schedule.changeMonthCeckCategory();
    }

    var lastDate = new Date(year, month, day);
    CalendarMonth.dateDiv[ lastDate ].select();
};

Schedule.setHammer = function(parent)
{
    var hammertime = new Hammer(parent);

    var action = function(event)
    {
        if (! event.isFinal) return;

        var deltaX = event.deltaX;

        if (deltaX >  100) Schedule.lastDay();
        if (deltaX < -100) Schedule.nextDay();
    };

    hammertime.on("swipe", action);
};

Schedule.init = function(date, parent)
{
    Schedule.parent = parent;
    Schedule.date = null;

    var div = StdDesign.createStd(parent);
    div.style.backgroundColor           = null;
    div.headline.style.backgroundColor  = null;
    div.content.style.backgroundColor   = null;
    div.buttonBar.style.backgroundColor = null;

    Schedule.topDiv = div;

    // Schedule.setHammer(div.content);

    Schedule.reconfHeadline(div);
    Schedule.createButtons(div);

    return div;
};
Search = {};

Search.nuke = function()
{
    NativeInterface.back = Search.lastBack;
    WebLibSimple.nuke(Search.top);
};

Search.joinEvent = function(event)
{
    var joined = "";

    var indexedKeys = ["Title", "Place", "Kind", "Notes"];

    for (var key in event)
    {
        if (WebLibSimple.includes(indexedKeys, key))
        joined += event[ key ] + " ";
    }

    return joined;
};

Search.createResultsList = function(search)
{
    Search.topDiv.innerHTML = "";

    var results = [];

    for (var index in DataManager.dataAll)
    {
        var event = DataManager.dataAll[ index ];
        var eventString = Search.joinEvent(event);

        if (eventString.match(RegExp(search, 'i')))
        {
            results.push(event);
        }
    }

    for (var index in results)
    {
        Schedule.createEvent(index, results[ index ], Search.topDiv);
    }
};

Search.createInputLine = function()
{
    var palaceholder = StringManager.locale.OpenSearch;
    var height = GlobalConf.search_inputHeight;

    var input = StdDesign.createInput(height, palaceholder, Search.headline);
    input.style.position = "relative";
    input.input.type     = "text";

    Search.input = input.input;

    input.input.oninput = function(event)
    {
        Search.createResultsList(input.input.value);
    };

    // enter
    input.input.onkeypress = function(event)
    {
        if (event.keyCode == 13) Search.input.blur();
    };
};

Search.setup = function()
{
    var stdDiv = StdDesign.createStd(Main.toptopDiv);
    Search.top = stdDiv;

    stdDiv.createButton("X", Search.nuke);

    stdDiv.headline.innerHTML    = "";
    stdDiv.headline.style.height = GlobalConf.search_height + "px";
    stdDiv.content.style.top     = GlobalConf.search_height + "px";

    Search.mainDiv  = stdDiv;
    Search.topDiv   = stdDiv.content;
    Search.headline = stdDiv.headline;
};

Search.init = function()
{
    Search.lastBack = NativeInterface.back;
    NativeInterface.back = Search.nuke;

    Menu.closeAnimation();
    Search.setup();
    Search.createInputLine();
};
Statistics = {};

Statistics.nuke = function()
{
    NativeInterface.back = Search.lastBack;
    WebLibSimple.nuke(Statistics.topDiv);
};

Statistics.newCtx = function()
{
    var center = WebLibSimple.createAnyAppend("center", Statistics.content);

    var div = WebLibSimple.createAnyAppend("div", center);
    div.style.width = GlobalConf.statistics_width;
    div.style.paddingBottom = GlobalConf.statistics_paddingBottom;

    var canvas = WebLibSimple.createAnyAppend("canvas", div);
    var ctx = canvas.getContext("2d");

    return ctx;
};

Statistics.headline = function(title)
{
    var center = WebLibSimple.createAnyAppend("center", Statistics.content);

    var div = WebLibSimple.createAnyAppend("h1", center);
    div.style.width = GlobalConf.statistics_width;
    div.innerHTML = title;
    // div.style.paddingBottom = "50px";

};

Statistics.spendingMonth = function()
{
    Statistics.headline(StringManager.locale.EventsMonth);

    var months = StringManager.locale.months;

    var months_count = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

    for (var index in DataManager.dataAll)
    {
        var event = DataManager.dataAll[ index ];

        var start_event = parseInt(Time.getEventDayDate(event[ "Start" ]).getMonth());
        var end_event   = parseInt(Time.getEventDayDate(event[  "End"  ]).getMonth());

        if (start_event == end_event)
        {
            months_count[ start_event ] += 1;
        }
        else
        {
            months_count[ start_event ] += 1;
            months_count[  end_event  ] += 1;
        }
    }

    var color = [
        'rgba(255, 99, 132, 1)',
        'rgba(54, 162, 235, 1)',
        'rgba(255, 206, 86, 1)',
        'rgba(75, 192, 192, 1)',
        'rgba(153, 102, 255, 1)',
        'rgba(255, 159, 64, 1)',
        'rgba(255, 99, 132, 1)',
        'rgba(54, 162, 235, 1)',
        'rgba(255, 206, 86, 1)',
        'rgba(75, 192, 192, 1)',
        'rgba(153, 102, 255, 1)',
        'rgba(255, 159, 64, 1)'
    ];

    var data = {
        labels: months,
        datasets: [
            {
                label: StringManager.locale.EventCount,
                backgroundColor: color,
                borderColor: color,
                data: months_count
            }
        ]
    };

    var ctx = Statistics.newCtx();

    var myBarChart = new Chart(ctx, {
        type: 'bar',
        data: data
    });
};

Statistics.priority = function()
{
    Statistics.headline(StringManager.locale.AveragePriorityMonth);

    var months = StringManager.locale.months;

    var average = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
    var count   = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

    for (var index in DataManager.dataAll)
    {
        var event = DataManager.dataAll[ index ];

        var start = new Date(event[ "Start" ]);
        var end   = new Date(event[  "End"  ]);
        var priority = event[ "Priority" ];

        // if (priority > 10)
        // {
        //     console.log("event: " + JSON.stringify(event));
        // }

        var start_event = start.getMonth();
        var end_event   = end.getMonth();

        if (start_event == end_event)
        {
            average[ start_event ] += priority;
            count[ start_event ] += 1;
        }
        else
        {
            average[ start_event ] += priority;
            average[  end_event  ] += priority;

            count[ start_event ] += 1;
            count[ end_event ] += 1;
        }
    }

    for (var index in average)
    {
        var aver = average[ index ] / count[ index ];
        average[ index ] = aver;
    }

    var datasets = [
        {
            label: StringManager.locale.Priority,
            data: average,
            // borderColor: GlobalConf.headlineColor
            borderColor: GlobalConf.statistics_priorityColor
        }
    ];

    var data = {
        labels: months,
        datasets: datasets
    };

    // console.log("data: " + JSON.stringify(data));

    var ctx = Statistics.newCtx();

    var myBarChart = new Chart(ctx, {
        type: 'line',
        data: data
    });
};

Statistics.priorityCategorys = function()
{
    Statistics.headline(StringManager.locale.CategorysPriorityAverageMonth);

    var months = StringManager.locale.months;
    var categorys = CategoryManager.getCategorys();

    var json = {};

    for (var name in categorys)
    {
        var tmp = {};
        tmp.average = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        tmp.count   = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

        json[ name ] = tmp;
    }

    for (var index in DataManager.dataAll)
    {
        var event = DataManager.dataAll[ index ];

        var start = new Date(event[ "Start" ]);
        var end   = new Date(event[  "End"  ]);
        var priority = event[ "Priority" ];
        var name     = event[ "Kind" ];

        var start_event = start.getMonth();
        var end_event   = end.getMonth();

        if (start_event == end_event)
        {
            json[ name ].average[ start_event ] += priority;
            json[ name ].count[ start_event ] += 1;
        }
        else
        {
            json[ name ].average[ start_event ] += priority;
            json[ name ].average[  end_event  ] += priority;

            json[ name ].count[ start_event ] += 1;
            json[ name ].count[ end_event ] += 1;
        }
    }

    var colors = {};

    for (var name in categorys)
    {
        var array = [];

        for (var index in months)
        {
            array[ index ] = categorys[ name ];
        }

        colors[ name ] = array;
    }

    var datasets = [];

    for (var name in json)
    {
        var tmp = {};
        tmp.label = name;
        tmp.borderColor = colors[ name ];
        tmp.backgroundColor = colors[ name ];

        var data = [];

        for (var index in json[ name ].average)
        {
            var aver = json[ name ].average[ index ] / json[ name ].count[ index ];
            data[ index ] = aver;
        }

        tmp.data = data;

        datasets.push(tmp);
    }

    var data = {
        labels: months,
        datasets: datasets
    };

    // console.log("data: " + JSON.stringify(data));

    var ctx = Statistics.newCtx();

    var myBarChart = new Chart(ctx, {
        type: 'bar',
        data: data
    });
};

Statistics.spendingMonthTime = function()
{
    Statistics.headline(StringManager.locale.SpendingMonthHours);

    var months = StringManager.locale.months;

    var cats = {};

    var categorys = CategoryManager.getCategorys();
    for (var name in categorys)
    {
        cats[ name ] = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
    }

    for (var index in DataManager.dataAll)
    {
        var event = DataManager.dataAll[ index ];

        var start = new Date(event[ "Start" ]);
        var end   = new Date(event[  "End"  ]);

        var time = end.getTime() - start.getTime();

        var start_event = start.getMonth();
        var end_event   = end.getMonth();
        var name = event[ "Kind" ];

        if (start_event == end_event)
        {
            cats[ name ][ start_event ] += time;
        }
        else
        {
            cats[ name ][ start_event ] += time;
            cats[ name ][  end_event  ] += time;
        }
    }

    var datasets = [];

    for (var name in cats)
    {
        var tmp = {};
        tmp.label = name;

        var data = [];

        for (var index in cats[ name ])
        {
            var milli = cats[ name ][ index ];
            data.push(milli / 1000 / 60 / 60);
        }

        tmp.data = data;
        tmp.borderColor = CategoryManager.getCategorysColor(name);

        datasets.push(tmp);
    }

    // console.log("pups: " + JSON.stringify(months_count));

    var data = {
        labels: months,
        datasets: datasets
    };

    var ctx = Statistics.newCtx();

    var myBarChart = new Chart(ctx, {
        type: 'line',
        data: data
    });
};

Statistics.spendingCategorys = function()
{
    Statistics.headline(StringManager.locale.EventsCategory);

    var cats = {};

    var categorys = CategoryManager.getCategorys();
    for (var name in categorys)
    {
        cats[ name ] = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
    }

    for (var index in DataManager.dataAll)
    {
        var event = DataManager.dataAll[ index ];

        var start_event = parseInt(Time.getEventDayDate(event[ "Start" ]).getMonth());
        var end_event   = parseInt(Time.getEventDayDate(event[  "End"  ]).getMonth());
        var name = event[ "Kind" ];

        if (start_event == end_event)
        {
            cats[ name ][ start_event ] += 1;
        }
        else
        {
            cats[ name ][ start_event ] += 1;
            cats[ name ][  end_event  ] += 1;
        }
    }

    var datasets = [];

    for (var name in cats)
    {
        var tmp = {};

        tmp.label = name;
        tmp.data = cats[ name ];
        tmp.borderColor = CategoryManager.getCategorysColor(name);

        datasets.push(tmp);
    }

    var data = {
        labels: StringManager.locale.months,
        datasets: datasets
    };

    var ctx = Statistics.newCtx();

    var myLineChart = new Chart(ctx, {
        type: 'line',
        data: data
    });
};

Statistics.categoryProportion = function()
{
    Statistics.headline(StringManager.locale.ProportionCategory);

    var cats = {};
    var names = [];

    var categorys = CategoryManager.getCategorys();
    for (var name in categorys)
    {
        cats[ name ] = 0;
        names.push(name + " " + StringManager.locale.Events);
    }

    for (var index in DataManager.dataAll)
    {
        var event = DataManager.dataAll[ index ];
        var name = event[ "Kind" ];
        cats[ name ] += 1;
    }

    var tmp = {
        data: [],
        backgroundColor: [],
        hoverBackgroundColor: [],
        borderColor: []
    };

    for (var categ in cats)
    {
        tmp.data.push(cats[ categ ]);

        var color = CategoryManager.getCategorysColor(categ);
        tmp.backgroundColor.push(color);
        tmp.hoverBackgroundColor.push(color);
        tmp.borderColor.push(color);
    }

    var data = {
        labels: names,
        datasets: [ tmp ]
    };

    var ctx = Statistics.newCtx();

    var myLineChart = new Chart(ctx, {
        type: 'pie',
        data: data
    });
};

Statistics.init = function()
{
    var div = StdDesign.createStd(Main.toptopDiv);

    div.setHeadline(StringManager.locale.Statistics);
    div.createButton("X", Statistics.nuke);

    Search.lastBack = NativeInterface.back;
    NativeInterface.back = Statistics.nuke;

    Statistics.content = div.content;
    Statistics.topDiv = div;

    Chart.defaults.global.defaultFontColor = GlobalConf.statistics_defaultFontColor;
    Chart.defaults.global.defaultFontFamily = GlobalConf.statistics_defaultFontFamily;
    Chart.defaults.global.defaultFontSize = GlobalConf.statistics_defaultFontSize;

    Statistics.spendingMonth();
    Statistics.spendingCategorys();
    Statistics.spendingMonthTime();
    Statistics.categoryProportion();
    Statistics.priority();
    Statistics.priorityCategorys();
};
StdMonth = {};

StdMonth.disableSelections = function()
{
    for (var index in StdMonth.days)
    {
        var div = StdMonth.days[ index ];
        StdMonth.changeBorder(div, div.color);
        div.isSelected = false;
    }
};

StdMonth.click = function(elem)
{
    var onclick = function()
    {
        Main.fixInfoDay = true;

        StdMonth.disableSelections();

        elem.isSelected = true;
        StdMonth.changeBorder(elem, GlobalConf.month_mouseOverColor);

        Schedule.update(elem.date);
    };

    elem.select = onclick;

    if (Main.isIOS)
    {
        elem.addEventListener("touchstart", onclick);
    }
    else
    {
        elem.addEventListener("click", onclick);
    }
};

StdMonth.changeBorder = function(elem, color)
{
    elem.style.border = "2px solid " + color;
};

StdMonth.mouseOver = function(elem)
{
    var mouseOver = function()
    {
        // console.log("mouseOver: " + elem.date);
        StdMonth.changeBorder(elem, GlobalConf.month_mouseOverColor);
        if (! Main.fixInfoDay) Schedule.update(elem.date);
    };

    var mouseOut = function()
    {
        if (! elem.isSelected) StdMonth.changeBorder(elem, elem.color);
    };

    elem.addEventListener("mouseover", mouseOver);
    elem.addEventListener("mouseout",  mouseOut);
};

StdMonth.createWeekDayBar = function(parent)
{
    var top    = GlobalConf.month_headlineHeight;
    var height = GlobalConf.month_weekDayHeight;

    var labelBar = WebLibSimple.createDivHeight(0, top, 0, height, null, parent);
    labelBar.style.overflow = "hidden";

    var width = 100 / 7;

    for (var inx = 0; inx < 7; inx++)
    {
        var left = width * inx;

        var div = WebLibSimple.createDivWidth(left + "%", 0, width + "%", 0, null, labelBar);
        div.style.lineHeight = height + "px";
        div.style.fontWeight = "lighter";
        div.style.textAlign  = "center";
        div.style.fontSize   = GlobalConf.month_weekfontSize + "px";
        div.style.color      = GlobalConf.month_weekDayBarColor;
        div.innerHTML        = Time.getWeekShortTranzlation(inx);

        div.style.webkitUserSelect = "none";
    }
};

StdMonth.changeMonth = function(token)
{
    // var token = event.target.token;
    var data  = StdMonth.monthDateJosn[ token ];
    var month = data.month;
    var year  = data.year;

    CalendarMonth.update(month, year);
    DataManager.setMonth(month, year);

    if (Main.showCategory != null)
    {
        var data = Categorys.highlite(Main.showCategory);
        CategorysInfo.changeHeadlineEvents(data.time, data.events);
    }
};

StdMonth.createHeadline = function()
{
    var parent   = StdMonth.topDiv;
    var height   = GlobalConf.month_headlineHeight;
    var fontSize = GlobalConf.month_headlineFontSize;

    var headline = WebLibSimple.createDivHeight(0, 0, 0, height, null, parent);
    headline.style.overflow = "hidden";

    //
    // Week Day Bar
    //

    StdMonth.createWeekDayBar(parent);

    //
    // headline part helper function
    //

    var createHeadlinePart = function(left)
    {
        var div = WebLibSimple.createDivWidth(left, 0, "33%", 0, null, headline);
        div.style.lineHeight       = height   + "px";
        div.style.fontSize         = fontSize + "px";
        div.style.fontWeight       = "lighter";
        div.style.color            = GlobalConf.headlineColor2;
        div.style.textAlign        = "center";
        div.style.cursor           = "pointer";
        div.style.webkitUserSelect = "none";

        // div.onclick = StdMonth.changeMonth;
        div.onclick = function(event)
        {
            var token = event.target.token;
            StdMonth.changeMonth(token);
        };

        return div;
    };

    //
    // month before
    //

    headline.pastMonth = createHeadlinePart("0%");
    StdDesign.dimmerTouch(headline.pastMonth);

    //
    // current month
    //

    var currnetMonth = createHeadlinePart("33%");
    currnetMonth.style.fontSize   = fontSize + 10 + "px";
    currnetMonth.style.fontWeight = "normal";
    currnetMonth.style.color      = GlobalConf.headlineColor;
    currnetMonth.style.cursor     = "default";
    currnetMonth.onclick          = null;

    headline.currnetMonth = currnetMonth;


    //
    // next month
    //

    headline.nextMonth = createHeadlinePart("66%");
    StdDesign.dimmerTouch(headline.nextMonth);

    StdMonth.headline = headline;
};

StdMonth.setHeadlineData = function(div, token)
{
    var data = StdMonth.monthDateJosn[ token ];
    div.innerHTML = Time.getMonthTranzlation(data.month) + " " + data.year;
    div.token = token;
};

StdMonth.updateHeadline = function(today_month, today_year)
{
    if (! StdMonth.headline)
    {
        StdMonth.createHeadline(StdMonth.topDiv);
    }

    var headline = StdMonth.headline;

    var info = Time.monthInfo(today_month, today_year);

    StdMonth.monthDateJosn = {};

    StdMonth.monthDateJosn.before = {
        "month": info.month_before,
        "year": info.year_before
    };

    StdMonth.monthDateJosn.current = {
        "month": info.month,
        "year": info.year
    };

    StdMonth.monthDateJosn.next = {
        "month": info.month_next,
        "year": info.year_next
    };

    StdMonth.setHeadlineData(headline.pastMonth,    "before");
    StdMonth.setHeadlineData(headline.currnetMonth, "current");
    StdMonth.setHeadlineData(headline.nextMonth,    "next");
};

StdMonth.createDayMatrix = function(parent)
{
    var height  = 100 / 6;
    var day_width = 100 / 7;
    var padding = 0;
    var color   = GlobalConf.month_noneMonthColor;

    StdMonth.days = [];

    for (var week = 0; week < 6; week++)
    {
        var top = height * week;
        var container = WebLibSimple.createDivHeight(0, top + "%", 0, height + "%", null, parent);
        container.style.overflow = "hidden"

        for (var inx = 0; inx < 7; inx++)
        {
            var left = day_width * inx;
            var div = WebLibSimple.createDivWidth((left + "%"), 0, (day_width + "%"), 0, null, container);

            var center = WebLibSimple.createAnyAppend("center", div);

            var circleSize = GlobalConf.month_circleSize;
            // var index = week + ":" + inx;
            var index = (week * 7) + inx;

            var day = Cricle.createCircle(index, circleSize, color, center, null);
            day.style.fontSize         = GlobalConf.month_circlefontSize + "px";
            day.style.fontWeight       = "lighter";
            day.style.color            = GlobalConf.month_weekDayColor;
            day.style.cursor           = "pointer";
            day.color                  = GlobalConf.month_noneMonthColor;
            day.style.webkitUserSelect = "none";
            day.isSelected             = false;

            StdMonth.click(day);
            // StdMonth.mouseOver(day);

            StdMonth.days[ index ] = day;
        }
    }
};

StdMonth.getDayDiv = function(index)
{
    return StdMonth.days[ index ];
};

StdMonth.createContent = function(parent)
{
    var top = GlobalConf.month_headlineHeight + GlobalConf.month_weekDayHeight;
    var div = WebLibSimple.createDiv(0, top, 0, 0, null, parent);

    var shape = StdMonth.createDayMatrix(div);
    return div;
};

StdMonth.init = function(parent)
{
    StdMonth.topDiv = StdDesign.createStdDiv(parent);

    StdMonth.createHeadline(StdMonth.topDiv);
    var content = StdMonth.createContent(StdMonth.topDiv);

    StdMonth.topDiv.content = content;

    CalendarMonth.init(new Date());

    return StdMonth.topDiv;
};
locale_de = {
    "months": [
        "Januar",
        "Februar",
        "Mrz",
        "April",
        "Mai",
        "Juni",
        "Juli",
        "August",
        "September",
        "Oktober",
        "November",
        "Dezember"
    ],
    "weekdays": [
        "Sonntag",
        "Montag",
        "Dienstag",
        "Mittwoch",
        "Donnerstag",
        "Freitag",
        "Samstag"
    ],
    "weekdaysShort": [
        "S",
        "M",
        "D",
        "M",
        "D",
        "F",
        "S"
    ],
    "dateFormats": {
        "DD.MM.YYYY": "TT.MM.JJJJ",
        "DD/MM/YYYY": "TT/MM/JJJJ",
        "MM.DD.YYYY": "MM.TT.JJJJ",
        "MM/DD/YYYY": "MM/TT/JJJJ",
        "YYYY-MM-DD": "JJJJ-MM-TT",
        "YYYY/MM/DD": "JJJJ/MM/TT"
    },
    "languages": {
        "en": "English",
        "de": "Deutsch",
        "fr": "Franais",
        "es": "Espaol"
    },

    //
    // Menu
    //

    "OpenMenu": "Men",
    "OpenToday": "Heute",
    "OpenSearch": "Suchen",
    "OpenScan": "Scan Code",
    "OpenConfig": "Konfiguration",
    "OpenSelcetMonthYear": "Whle Monat/Jahr",

    //
    // CategorysInfo
    //

    "Events": "Termine",
    "HoursShort": "h",

    //
    // Config
    //

    "Config": "Konfiguration",
    "EditCategorys": "Kategorien bearbeiten",
    "Default": "Default",
    "Delete": "Lschen",
    "Name": "Name",
    "language": "Sprache",
    "dateFormat": "Datums Format",
    "weekStartDay": "Wochenstart",

    //
    // AppointmentEditor
    //

    "Title": "Titel",
    "Place": "Ort",
    "Kind": "Kategorie",
    "All-Day": "Ganztgig",
    "Start": "Start",
    "End": "Ende",
    "Priority": "Prioritt",
    "Available": "Verfgbar",
    "Notes": "Notizen",
    "true": "Ja",
    "false": "Nein",
    "AddKind": "Hinzufgen einer Kategorie",
    "newKind": "Neue Kategorie",

    //
    // Priority
    //

    "High": "Hoch",
    "Middle": "Mittel",
    "Low": "Niedrig",

    //
    // Dialogue
    //

    // "sure": "Lschen",
    "startEndError": "Dein end-datum kann nicht vor deinem start-datum sein.",
    "cancle": "Abbrechen",

    //
    // Schedule
    //

    "None": "Nichts",
    "NewEvnetPlaceholder": "Neuer Termin",

    //
    // ColorPicker
    //

    "ColorPicker": "Whle eine Farbe",

    //
    // DateTime
    //

    "DateAndTime": "Datum & Zeit",
    "Date": "Datum",

    //
    // Statistics
    //

    "Statistics": "Statistiken",
    "EventsMonth": "Termine pro Monat",
    "EventCount": "Termine",
    "AveragePriorityMonth": "Durchschnittliche Prioritt pro Monat",
    "CategorysPriorityAverageMonth": "Prioritt der Kategorien pro Monat",
    "SpendingMonthHours": "Monat in Stunden",
    "EventsCategory": "Termine pro Kategorie",
    "ProportionCategory": "Proportion pro Kategorie"
};
locale_en = {
    "months": [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December"
    ],
    "weekdays": [
        "Sunday",
        "Monday",
        "Tuesday",
        "Wednesday",
        "Thursday",
        "Friday",
        "Saturday"
    ],
    "weekdaysShort": [
        "S",
        "M",
        "T",
        "W",
        "T",
        "F",
        "S"
    ],
    "dateFormats": {
        "DD.MM.YYYY": "DD.MM.YYYY",
        "DD/MM/YYYY": "DD/MM/YYYY",
        "MM.DD.YYYY": "MM.DD.YYYY",
        "MM/DD/YYYY": "MM/DD/YYYY",
        "YYYY-MM-DD": "YYYY-MM-DD",
        "YYYY/MM/DD": "YYYY/MM/DD"
    },
    "languages": {
        "en": "English",
        "de": "Deutsch",
        "fr": "Franais",
        "es": "Espaol"
    },

    //
    // Menu
    //

    "OpenMenu": "Menu",
    "OpenToday": "Today",
    "OpenSearch": "Search",
    "OpenScan": "Scan Code",
    "OpenConfig": "Config",
    "OpenSelcetMonthYear": "Select Month/Year",

    //
    // CategorysInfo
    //

    "Events": "Events",
    "HoursShort": "h",

    //
    // Config
    //

    "Config": "Config",
    "EditCategorys": "Edit Categories",
    "Default": "Default",
    "Delete": "Delete",
    "Name": "Name",
    "language": "Language",
    "dateFormat": "Date Format",
    "weekStartDay": "Start of the week",

    //
    // AppointmentEditor
    //

    "Title": "Title",
    "Place": "Place",
    "Kind": "Category",
    "All-Day": "All-Day",
    "Start": "Start",
    "End": "End",
    "Priority": "Priority",
    "Available": "Available",
    "Notes": "Notes",
    "true": "True",
    "false": "False",
    "AddKind": "Add a Category",
    "newKind": "New Category",

    //
    // Priority
    //

    "High": "High",
    "Middle": "Middle",
    "Low": "Low",

    //
    // Dialogue
    //

    // "sure": "Delete",
    "startEndError": "Your end-date can not be befor your start-date.",
    "cancle": "Cancle",

    //
    // Schedule
    //

    "None": "None",
    "NewEvnetPlaceholder": "New Event",

    //
    // ColorPicker
    //

    "ColorPicker": "Select a Color",

    //
    // DateTime
    //

    "DateAndTime": "Date & Time",
    "Date": "Date",

    //
    // Statistics
    //

    "Statistics": "Statistics",
    "EventsMonth": "Events per Month",
    "EventCount": "Event Count",
    "AveragePriorityMonth": "Average Priority per Month",
    "CategorysPriorityAverageMonth": "Categories Priority Average per Month",
    "SpendingMonthHours": "Spending Month in Hours",
    "EventsCategory": "Events per Category",
    "ProportionCategory": "Proportion per Category"
};

// StringManager.locale.Statistics
locale_es = {
    "months": [
        "Enero",
        "Febrero",
        "Marzo",
        "Abril",
        "Mayo",
        "Junio",
        "Julio",
        "Agosto",
        "Septiembre",
        "Octubre",
        "Noviembre",
        "Diciembre"
    ],
    "weekdays": [
        "Domingo",
        "Lunes",
        "Martes",
        "Mircoles",
        "Jueves",
        "Viernes",
        "Sbado"
    ],
    "weekdaysShort": [
        "D",
        "L",
        "M",
        "M",
        "J",
        "V",
        "S"
    ],
    "dateFormats": {
        "DD.MM.YYYY": "DD.MM.AAAA",
        "DD/MM/YYYY": "DD/MM/AAAA",
        "MM.DD.YYYY": "MM.DD.AAAA",
        "MM/DD/YYYY": "MM/DD/AAAA",
        "YYYY-MM-DD": "AAAA-MM-DD",
        "YYYY/MM/DD": "AAAA/MM/DD"
    },
    "languages": {
        "en": "English",
        "de": "Deutsch",
        "fr": "Franais",
        "es": "Espaol"
    },

    //
    // Menu
    //

    "OpenMenu": "Men",
    "OpenToday": "Hoy en da",
    "OpenSearch": "Buscar",
    "OpenScan": "Scan Code",
    "OpenConfig": "Configuracin",
    "OpenSelcetMonthYear": "Selecciona el mes/ao",

    //
    // CategorysInfo
    //

    "Events": "Eventos",
    "HoursShort": "h",

    //
    // Config
    //

    "Config": "Configuracin",
    "EditCategorys": "Editar categoras",
    "Default": "Default",
    "Delete": "Borrar",
    "Name": "Nombre",
    "language": "Idioma",
    "dateFormat": "Formato de fecha",
    "weekStartDay": "Inicio de la semana",

    //
    // AppointmentEditor
    //

    "Title": "Ttulo",
    "Place": "Lugar",
    "Kind": "Categora",
    "All-Day": "Todos los das",
    "Start": "Inicio",
    "End": "Fin",
    "Priority": "Prioridad",
    "Available": "Disponible",
    "Notes": "Notas",
    "true": "Verdad",
    "false": "Falso",
    "AddKind": "Aadir una categora",
    "newKind": "Nueva categora",

    //
    // Priority
    //

    "High": "Alto",
    "Middle": "Medio",
    "Low": "Bajo",

    //
    // Dialogue
    //

    // "sure": "Borrar",
    "startEndError": "Su fecha final no puede ser acaben su fecha de inicio.",
    "cancle": "Cancle",

    //
    // Schedule
    //

    "None": "Ninguno",
    "NewEvnetPlaceholder": "Nuevo Evento",

    //
    // ColorPicker
    //

    "ColorPicker": "Elija un color",

    //
    // DateTime
    //

    "DateAndTime": "Fecha y hora",
    "Date": "Fecha",

    //
    // Statistics
    //

    "Statistics": "Estadsticas",
    "EventsMonth": "Eventos por mes",
    "EventCount": "Conteo de eventos",
    "AveragePriorityMonth": "Prioridad media por mes",
    "CategorysPriorityAverageMonth": "Prioridad media de las categoras por mes",
    "SpendingMonthHours": "Pasando el Mes en Horas",
    "EventsCategory": "Eventos por categora",
    "ProportionCategory": "Proporcin por categora"
};
locale_fr = {
    "months": [
        "Janvier",
        "Fvrier",
        "Mars",
        "Avril",
        "Mai",
        "Juin",
        "Juillet",
        "Aot",
        "Septembre",
        "Octobre",
        "Novembre",
        "Dcembre"
    ],
    "weekdays": [
        "Dimanche",
        "Lundi",
        "Mardi",
        "Mercredi",
        "Jeudi",
        "Vendredi",
        "Samedi"
    ],
    "weekdaysShort": [
        "D",
        "L",
        "M",
        "M",
        "J",
        "V",
        "S"
    ],
    "dateFormats": {
        "DD.MM.YYYY": "DD.MM.AAAA",
        "DD/MM/YYYY": "DD/MM/AAAA",
        "MM.DD.YYYY": "MM.DD.AAAA",
        "MM/DD/YYYY": "MM/DD/AAAA",
        "YYYY-MM-DD": "AAAA-MM-DD",
        "YYYY/MM/DD": "AAAA/MM/DD"
    },
    "languages": {
        "en": "English",
        "de": "Deutsch",
        "fr": "Franais",
        "es": "Espaol"
    },

    //
    // Menu
    //

    "OpenMenu": "Menu",
    "OpenToday": "Aujourd'hui",
    "OpenSearch": "Recherche",
    "OpenScan": "Code Scan",
    "OpenConfig": "Config",
    "OpenSelcetMonthYear": "Choisir un mois/anne",

    //
    // CategorysInfo
    //

    "Events": "Evnements",
    "HoursShort": "h",

    //
    // Config
    //

    "Config": "Configuration",
    "EditCategorys": "Modifier les catgories",
    "Default": "Default",
    "Delete": "Supprimer",
    "Name": "Nom",
    "language": "Langue",
    "dateFormat": "Format de date",
    "weekStartDay": "Dbut de la semaine",

    //
    // AppointmentEditor
    //

    "Title": "Titre",
    "Place": "Endroit",
    "Kind": "Catgorie",
    "All-Day": "Tout lejour",
    "Start": "Dmarrer",
    "End": "Fin",
    "Priority": "Priorit",
    "Available": "Disponible",
    "Notes": "Notes",
    "true": "Vrai",
    "false": "Faux",
    "AddKind": "Ajouter une catgorie",
    "newKind": "Nouvelle catgorie",

    //
    // Priority
    //

    "High": "Haute",
    "Middle": "Moyen",
    "Low": "Bas",

    //
    // Dialogue
    //

    // "sure": "Effacer",
    "startEndError": "Votre date de fin ne peut pas tre befor votre date de dbut.",
    "cancle": "Cancle",

    //
    // Schedule
    //

    "None": "Aucun",
    "NewEvnetPlaceholder": "Nouvel vnement",

    //
    // ColorPicker
    //

    "ColorPicker": "Slectionnez une couleur",

    //
    // DateTime
    //

    "DateAndTime": "Date et heure",
    "Date": "Date",

    //
    // Statistics
    //

    "Statistics": "Statistiques",
    "EventsMonth": "vnements par mois",
    "EventCount": "Nombre d'vnements",
    "AveragePriorityMonth": "Priorit moyenne par mois",
    "CategorysPriorityAverageMonth": "Priorit des catgories par mois",
    "SpendingMonthHours": "Passer le mois en heures",
    "EventsCategory": "vnements par catgorie",
    "ProportionCategory": "Proportion par catgorie"
};
